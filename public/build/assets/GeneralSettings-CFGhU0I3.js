import{c,i as U}from"./cloneDeep-DDLDShMX.js";import{A as q}from"./Alert-CABMwZBp.js";import{F as E}from"./FormMixin-De7YsbPB.js";import{U as ae}from"./SpiningLoader-BKOTtNJv.js";import{I as de}from"./InputLabel-DMWhAcOL.js";import{I as ue}from"./InputErrorMessage-C8nReIq1.js";import{o as u,c as h,h as g,w as d,d as f,t as v,i as _,a as e,k as D,p as me,y as ce,n as Z,b as l,r as a,u as R,l as P,F as M,G as he,I as pe,x as fe}from"./app-vGTXn0df.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as k}from"./store-store-XwcbmEGy.js";import{T as X}from"./TextInput-ComNA6kP.js";import{T as ge}from"./TextHeader-CdhczHQc.js";import{S as be}from"./StoreLogo-D_zERvEC.js";import{C as we}from"./Checkbox-B_W64DoJ.js";import{U as _e}from"./UndoButton-C_D6p4_S.js";import{S as K}from"./SelectInput-NZz17NrV.js";import{C as ve}from"./ConfirmModal-BFzCEBRV.js";import{T as xe}from"./TextareaInput-ClN36YC5.js";import{A as G}from"./AddButton-aUbY6FTm.js";import{B as J}from"./BasicModal-DVIL9gwh.js";import{D as Q}from"./DeleteButton-DLUCg-AV.js";import{S as Y,L as $}from"./LineSkeleton-CYHPuScz.js";import{P as H}from"./PrimaryButton-fdKtSp2v.js";import{C as ee,a as ye}from"./CurrencySelectInput-BrB-Zziq.js";import{p as oe,a as W,d as O,g as Se}from"./api-repository-DOiLuzo7.js";import{T as Te}from"./ToogleSwitch-Bkh6AokP.js";import{M as te}from"./MobileNumberInput-DHngtn-p.js";import{B as se}from"./BadgeIndicator-DsbPpPSd.js";import"./MoreInfoPopover-7d45rrBN.js";import"./StatusDot-CLs7NsYb.js";const ke={props:{modelValue:{type:String},label:{type:String,default:""},labelPopoverTitle:{type:String},labelPopoverDescription:{type:String},min:{type:String,default:"09:00"},max:{type:String,default:"18:00"},required:{type:Boolean,default:!0},errorText:{type:String}},mixins:[ae],components:{InputLabel:de,InputErrorMessage:ue},data(){return{localModelValue:this.modelValue,uniqueId:this.generateUniqueId("text")}},watch:{modelValue(t,o){this.updateValue(t)},localModelValue(t,o){this.$emit("update:modelValue",t)}},methods:{updateValue(t){this.localModelValue=t}}},Ce={key:0},Ve=["id","name","min","max","required"],Ie={key:1};function Me(t,o,n,S,s,i){const p=a("InputLabel"),x=a("InputErrorMessage");return u(),h("div",null,[n.label!=""?(u(),g(p,{key:0,_for:s.uniqueId,labelPopoverTitle:n.labelPopoverTitle,labelPopoverDescription:n.labelPopoverDescription},{default:d(()=>[f(v(n.label),1)]),_:1},8,["_for","labelPopoverTitle","labelPopoverDescription"])):_("",!0),e("div",{class:Z([{"mt-2":n.label!=""},"flex items-center rounded-md border-0 shadow-sm ring-1 ring-gray-300 focus-within:ring-2 focus-within:ring-blue-700 sm:text-sm sm:leading-6 text-gray-900"])},[t.$slots.prepend?(u(),h("div",Ce,[D(t.$slots,"prepend")])):_("",!0),me(e("input",{"onUpdate:modelValue":o[0]||(o[0]=y=>s.localModelValue=y),id:s.uniqueId,name:s.uniqueId,type:"time",min:n.min,max:n.max,required:n.required,class:"w-full rounded-md border-0 focus:ring-0 py-1.5 px-3 sm:text-sm placeholder:text-gray-400"},null,8,Ve),[[ce,s.localModelValue]]),t.$slots.suffix?(u(),h("div",Ie,[D(t.$slots,"suffix")])):_("",!0)],2),l(x,{errorText:n.errorText},null,8,["errorText"])])}const Ne=N(ke,[["render",Me]]),Ae={mixins:[E],components:{TextInput:X,AddButton:G,BasicModal:J,DeleteButton:Q,ShineEffect:Y,PrimaryButton:H,LineSkeleton:$,CountrySelectInput:ee},props:{address:{type:[Object,null],default:null},userId:{type:[String,null],default:null},storeId:{type:[String,null],default:null},customerId:{type:[String,null],default:null}},emits:["onCreated","onUpdated","onDeleted"],data(){return{form:{zip:"",city:"",state:"",country:"BW",placeId:null,addressLine:"",addressLine2:""},originalForm:null,isSubmitting:!1,apiState:R()}},computed:{hasAddress(){return this.address!=null},formHasChanged(){var t=c(this.form),o=c(this.originalForm);return!U(t,o)},mustSaveChanges(){return this.formHasChanged&&!this.isSubmitting}},methods:{setAddressFields(){this.form.zip=this.address.zip,this.form.city=this.address.city,this.form.state=this.address.state,this.form.placeId=this.address.placeId,this.form.country=this.address.country,this.form.addressLine=this.address.addressLine,this.form.addressLine2=this.address.addressLine2,this.originalForm=c(this.form)},resetFormFields(){this.form.zip="",this.form.city="",this.form.state="",this.form.country="BW",this.form.placeId=null,this.form.addressLine="",this.form.addressLine2="",this.originalForm=c(this.form)},createAddress(t){this.isSubmitting=!0;let o={...this.form,return:"1"};this.userId?o.userId=this.userId:this.storeId?o.storeId=this.storeId:this.customerId&&(o.customerId=this.customerId),oe(this.apiState.apiHome._links.addAddress,o).then(n=>{n.status==200&&(t(),this.$emit("onCreated",n.data.address),this.showSuccessfulNotification("Address created"),this.originalForm=c(this.form)),this.isSubmitting=!1}).catch(n=>{this.isSubmitting=!1,this.setServerFormErrors(n)})},updateAddress(t){this.isSubmitting=!0,W(this.address._links.updateAddress,{...this.form,return:"1"}).then(o=>{o.status==200&&(t(),this.$emit("onUpdated",o.data.address),this.showSuccessfulNotification("Address updated"),this.originalForm=c(this.form)),this.isSubmitting=!1}).catch(o=>{this.isSubmitting=!1,this.setServerFormErrors(o)})},removeAddress(t){this.isSubmitting=!0,O(this.address._links.removeAddress).then(o=>{o.status==200&&(t(),this.resetFormFields(),this.$emit("onDeleted",o.data.address),this.showSuccessfulNotification("Address deleted")),this.isSubmitting=!1}).catch(o=>{this.isSubmitting=!1,this.setServerFormErrors(o)})}},created(){this.address?this.setAddressFields():this.originalForm=c(this.form)}},Fe={class:"grid grid-cols-2 gap-2"},De={class:"font-lg font-bold"},Pe={class:"col-span-2 space-y-2"},Be={class:"col-span-1"},Le={class:"col-span-1"},Ue={class:"col-span-1"},Ee={class:"col-span-1"},Re={class:"col-span-2 flex space-x-2 mt-4"},He=e("span",{class:"ml-2"},"Delete",-1),We={class:"space-y-4 p-4 border rounded-lg shadow-lg"},Oe=e("h1",{class:"flex items-center font-lg font-bold"},[e("svg",{class:"w-6 h-6 mr-2 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]),e("span",null,"Address")],-1),ze=e("p",{class:"text-sm text-gray-500 mb-2 pb-4 border-b border-dashed"},"Address used by customers to know your store location.",-1),je={key:0,class:"flex justify-between items-center space-x-20"},qe={class:"text-sm"},Ze=e("span",{class:"whitespace-nowrap"},"Edit Address",-1),Xe=e("span",{class:"ml-2"},"Add Address",-1);function Ke(t,o,n,S,s,i){const p=a("TextInput"),x=a("CountrySelectInput"),y=a("DeleteButton"),T=a("PrimaryButton"),C=a("AddButton"),b=a("BasicModal");return u(),g(b,null,{content:d(w=>[e("div",Fe,[e("h1",De,v(i.hasAddress?"Edit Address":"Add Address"),1),e("div",Pe,[l(p,{modelValue:s.form.addressLine,"onUpdate:modelValue":o[0]||(o[0]=m=>s.form.addressLine=m),placeholder:"Street address",errorText:t.getFormError("addressLine")},null,8,["modelValue","errorText"]),l(p,{modelValue:s.form.addressLine2,"onUpdate:modelValue":o[1]||(o[1]=m=>s.form.addressLine2=m),placeholder:"Apartment, unit number, suite, etc. (optional)",errorText:t.getFormError("addressLine2")},null,8,["modelValue","errorText"])]),e("div",Be,[l(p,{modelValue:s.form.city,"onUpdate:modelValue":o[2]||(o[2]=m=>s.form.city=m),placeholder:"City",errorText:t.getFormError("city")},null,8,["modelValue","errorText"])]),e("div",Le,[l(p,{modelValue:s.form.state,"onUpdate:modelValue":o[3]||(o[3]=m=>s.form.state=m),placeholder:"State",errorText:t.getFormError("state")},null,8,["modelValue","errorText"])]),e("div",Ue,[l(p,{modelValue:s.form.zip,"onUpdate:modelValue":o[4]||(o[4]=m=>s.form.zip=m),placeholder:"Zip",errorText:t.getFormError("zip")},null,8,["modelValue","errorText"])]),e("div",Ee,[l(x,{width:"w-full",modelValue:s.form.country,"onUpdate:modelValue":o[5]||(o[5]=m=>s.form.country=m)},null,8,["modelValue"])]),e("div",Re,[i.hasAddress?(u(),g(y,{key:0,disabled:s.isSubmitting,onClick:()=>i.removeAddress(w.hideModal),size:"xs",type:"danger"},{default:d(()=>[He]),_:2},1032,["disabled","onClick"])):_("",!0),l(T,{onClick:()=>i.hasAddress?i.updateAddress(w.hideModal):i.createAddress(w.hideModal),disabled:!i.mustSaveChanges,size:"xs",type:"success",class:"w-full"},{default:d(()=>[f(v(i.hasAddress?"Save Address":"Add Address"),1)]),_:2},1032,["onClick","disabled"])])])]),trigger:d(w=>[D(t.$slots,"trigger",{showModal:w.showModal},()=>[e("div",We,[Oe,ze,i.hasAddress?(u(),h("div",je,[e("span",qe,v(n.address._attributes.completeAddress),1),l(T,{onClick:w.showModal,size:"xs",type:"light"},{default:d(()=>[Ze]),_:2},1032,["onClick"])])):(u(),g(C,{key:1,onClick:w.showModal,size:"sm",type:"light"},{default:d(()=>[Xe]),_:2},1032,["onClick"]))])])]),_:3})}const Ge=N(Ae,[["render",Ke]]),Je={components:{SelectInput:K},data(){return{languages:[],apiState:R(),isLoadingLanguages:!1}},methods:{showLanguages(){this.languages.length||(this.isLoadingLanguages=!0,Se(this.apiState.apiHome._links.showLanguages).then(t=>{t.status==200&&(this.languages=t.data),this.isLoadingLanguages=!1}).catch(t=>{this.isLoadingLanguages=!1,this.setServerFormErrors(t)}))}},created(){this.showLanguages()}},Qe=["value"];function Ye(t,o,n,S,s,i){const p=a("SelectInput");return u(),g(p,he(pe(t.$attrs)),{default:d(()=>[(u(!0),h(M,null,P(s.languages,(x,y)=>(u(),h("option",{key:y,value:x.code},v(x.name),9,Qe))),128))]),_:1},16)}const $e=N(Je,[["render",Ye]]),eo={mixins:[E],components:{Alert:q,AddButton:G,BasicModal:J,DeleteButton:Q,ShineEffect:Y,PrimaryButton:H,LineSkeleton:$,MobileNumberInput:te,BadgeIndicator:se},data(){return{form:{mobileNumber:""},originalForm:null,isSubmitting:!1,apiState:R(),storeRollingNumber:null,storeState:k(),storeRollingNumberIndex:null}},computed:{store(){return this.storeState.store},storeRollingNumbers(){return this.store._relationships.storeRollingNumbers},hasStoreRollingNumbers(){return this.storeRollingNumbers.length>0},formHasChanged(){var t=c(this.form),o=c(this.originalForm);return!U(t,o)},mustSaveChanges(){return this.formHasChanged&&!this.isSubmitting}},methods:{showStoreRollingNumber(t,o,n){this.storeRollingNumberIndex=n,this.storeRollingNumber=o,this.storeRollingNumber&&this.setStoreRollingNumberFields(),t()},setStoreRollingNumberFields(){this.form.mobileNumber=this.storeRollingNumber.mobileNumber.international,this.originalForm=c(this.form)},resetForm(){this.form={mobileNumber:""},this.originalForm=c(this.form)},createStoreRollingNumber(t){this.isSubmitting=!0;let o={...this.form,storeId:this.store.id,return:"1"};oe(this.apiState.apiHome._links.createStoreRollingNumber,o).then(n=>{if(n.status==200){t(),this.resetForm();var S=n.data.storeRollingNumber;k().store._relationships.storeRollingNumbers.push(S),this.showSuccessfulNotification("Whatsapp number added")}this.isSubmitting=!1}).catch(n=>{this.isSubmitting=!1,this.setServerFormErrors(n)})},updateStoreRollingNumber(t){this.isSubmitting=!0;let o={...this.form,return:"1"};W(this.storeRollingNumber._links.updateStoreRollingNumber,o).then(n=>{if(n.status==200)if(n.data.updated){t(),this.resetForm();var S=n.data.storeRollingNumber;k().store._relationships.storeRollingNumbers[this.storeRollingNumberIndex]=S,this.showSuccessfulNotification("Whatsapp number updated")}else this.form=c(this.originalForm),this.setFormError("general",n.data.message),this.notificationState.addWarningNotification(n.data.message);this.isSubmitting=!1}).catch(n=>{this.isSubmitting=!1,this.setServerFormErrors(n)})},deleteStoreRollingNumber(t){this.isSubmitting=!0,O(this.storeRollingNumber._links.deleteStoreRollingNumber).then(o=>{o.status==200&&(t(),this.resetForm(),k().store._relationships.storeRollingNumbers.splice(this.storeRollingNumberIndex,1),this.showSuccessfulNotification("Whatsapp number removed")),this.isSubmitting=!1}).catch(o=>{this.isSubmitting=!1,this.setServerFormErrors(o)})}}},oo={class:"font-lg font-bold mb-8"},to=e("svg",{class:"w-6 h-6 mt-1 ml-3",fill:"#44c152",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 308 308","xml:space":"preserve"},[e("g",{id:"XMLID_468_"},[e("path",{id:"XMLID_469_",d:"M227.904,176.981c-0.6-0.288-23.054-11.345-27.044-12.781c-1.629-0.585-3.374-1.156-5.23-1.156c-3.032,0-5.579,1.511-7.563,4.479c-2.243,3.334-9.033,11.271-11.131,13.642c-0.274,0.313-0.648,0.687-0.872,0.687c-0.201,0-3.676-1.431-4.728-1.888c-24.087-10.463-42.37-35.624-44.877-39.867c-0.358-0.61-0.373-0.887-0.376-0.887c0.088-0.323,0.898-1.135,1.316-1.554c1.223-1.21,2.548-2.805,3.83-4.348c0.607-0.731,1.215-1.463,1.812-2.153c1.86-2.164,2.688-3.844,3.648-5.79l0.503-1.011c2.344-4.657,0.342-8.587-0.305-9.856c-0.531-1.062-10.012-23.944-11.02-26.348c-2.424-5.801-5.627-8.502-10.078-8.502c-0.413,0,0,0-1.732,0.073c-2.109,0.089-13.594,1.601-18.672,4.802c-5.385,3.395-14.495,14.217-14.495,33.249c0,17.129,10.87,33.302,15.537,39.453c0.116,0.155,0.329,0.47,0.638,0.922c17.873,26.102,40.154,45.446,62.741,54.469c21.745,8.686,32.042,9.69,37.896,9.69c0.001,0,0.001,0,0.001,0c2.46,0,4.429-0.193,6.166-0.364l1.102-0.105c7.512-0.666,24.02-9.22,27.775-19.655c2.958-8.219,3.738-17.199,1.77-20.458C233.168,179.508,230.845,178.393,227.904,176.981z"}),e("path",{id:"XMLID_470_",d:"M156.734,0C73.318,0,5.454,67.354,5.454,150.143c0,26.777,7.166,52.988,20.741,75.928L0.212,302.716c-0.484,1.429-0.124,3.009,0.933,4.085C1.908,307.58,2.943,308,4,308c0.405,0,0.813-0.061,1.211-0.188l79.92-25.396c21.87,11.685,46.588,17.853,71.604,17.853C240.143,300.27,308,232.923,308,150.143C308,67.354,240.143,0,156.734,0zM156.734,268.994c-23.539,0-46.338-6.797-65.936-19.657c-0.659-0.433-1.424-0.655-2.194-0.655c-0.407,0-0.815,0.062-1.212,0.188l-40.035,12.726l12.924-38.129c0.418-1.234,0.209-2.595-0.561-3.647c-14.924-20.392-22.813-44.485-22.813-69.677c0-65.543,53.754-118.867,119.826-118.867c66.064,0,119.812,53.324,119.812,118.867C276.546,215.678,222.799,268.994,156.734,268.994z"})])],-1),so={class:"flex space-x-2 mt-4"},ro=e("span",{class:"ml-2"},"Delete",-1),lo={class:"space-y-4 p-4 border rounded-lg shadow-lg"},io=e("h1",{class:"flex items-center font-lg font-bold"},[e("svg",{class:"w-6 h-6 mr-4 flex-shrink-0",fill:"#44c152",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 308 308","xml:space":"preserve"},[e("g",{id:"XMLID_468_"},[e("path",{id:"XMLID_469_",d:"M227.904,176.981c-0.6-0.288-23.054-11.345-27.044-12.781c-1.629-0.585-3.374-1.156-5.23-1.156c-3.032,0-5.579,1.511-7.563,4.479c-2.243,3.334-9.033,11.271-11.131,13.642c-0.274,0.313-0.648,0.687-0.872,0.687c-0.201,0-3.676-1.431-4.728-1.888c-24.087-10.463-42.37-35.624-44.877-39.867c-0.358-0.61-0.373-0.887-0.376-0.887c0.088-0.323,0.898-1.135,1.316-1.554c1.223-1.21,2.548-2.805,3.83-4.348c0.607-0.731,1.215-1.463,1.812-2.153c1.86-2.164,2.688-3.844,3.648-5.79l0.503-1.011c2.344-4.657,0.342-8.587-0.305-9.856c-0.531-1.062-10.012-23.944-11.02-26.348c-2.424-5.801-5.627-8.502-10.078-8.502c-0.413,0,0,0-1.732,0.073c-2.109,0.089-13.594,1.601-18.672,4.802c-5.385,3.395-14.495,14.217-14.495,33.249c0,17.129,10.87,33.302,15.537,39.453c0.116,0.155,0.329,0.47,0.638,0.922c17.873,26.102,40.154,45.446,62.741,54.469c21.745,8.686,32.042,9.69,37.896,9.69c0.001,0,0.001,0,0.001,0c2.46,0,4.429-0.193,6.166-0.364l1.102-0.105c7.512-0.666,24.02-9.22,27.775-19.655c2.958-8.219,3.738-17.199,1.77-20.458C233.168,179.508,230.845,178.393,227.904,176.981z"}),e("path",{id:"XMLID_470_",d:"M156.734,0C73.318,0,5.454,67.354,5.454,150.143c0,26.777,7.166,52.988,20.741,75.928L0.212,302.716c-0.484,1.429-0.124,3.009,0.933,4.085C1.908,307.58,2.943,308,4,308c0.405,0,0.813-0.061,1.211-0.188l79.92-25.396c21.87,11.685,46.588,17.853,71.604,17.853C240.143,300.27,308,232.923,308,150.143C308,67.354,240.143,0,156.734,0zM156.734,268.994c-23.539,0-46.338-6.797-65.936-19.657c-0.659-0.433-1.424-0.655-2.194-0.655c-0.407,0-0.815,0.062-1.212,0.188l-40.035,12.726l12.924-38.129c0.418-1.234,0.209-2.595-0.561-3.647c-14.924-20.392-22.813-44.485-22.813-69.677c0-65.543,53.754-118.867,119.826-118.867c66.064,0,119.812,53.324,119.812,118.867C276.546,215.678,222.799,268.994,156.734,268.994z"})])]),e("span",null,"WhatsApp Order Distribution")],-1),no=e("p",{class:"text-sm text-gray-500"},"Distribute customer orders evenly among different WhatsApp numbers. Each number will receive one order message at a time, ensuring balanced order handling.",-1),ao={class:"flex space-x-2"},uo={class:"flex justify-end"},mo=e("span",{class:"whitespace-nowrap ml-2"},"Add Whatsapp Number",-1),co=e("span",{class:"ml-2"},"Add Whatsapp Number",-1);function ho(t,o,n,S,s,i){const p=a("Alert"),x=a("MobileNumberInput"),y=a("DeleteButton"),T=a("PrimaryButton"),C=a("BadgeIndicator"),b=a("AddButton"),w=a("BasicModal");return u(),g(w,{onHide:i.resetForm},{content:d(m=>[e("div",null,[e("h1",oo,v(s.storeRollingNumber?"Edit Whatsapp Number":"Add Whatsapp Number"),1),t.getFormError("general")?(u(),g(p,{key:0,type:"warning"},{default:d(()=>[f(v(t.getFormError("general")),1)]),_:1})):_("",!0),l(x,{label:"WhatsApp Number",modelValue:s.form.mobileNumber,"onUpdate:modelValue":o[0]||(o[0]=V=>s.form.mobileNumber=V),labelPopoverTitle:"What Is This?",errorText:t.getFormError("mobileNumber"),labelPopoverDescription:"The mobile number that will be used to receive orders via whatsapp when customers checkout on your store website"},{prepend:d(()=>[to]),_:1},8,["modelValue","errorText"]),e("div",so,[s.storeRollingNumber?(u(),g(y,{key:0,disabled:s.isSubmitting,onClick:()=>i.deleteStoreRollingNumber(m.hideModal),size:"xs",type:"danger"},{default:d(()=>[ro]),_:2},1032,["disabled","onClick"])):_("",!0),l(T,{onClick:()=>s.storeRollingNumber?i.updateStoreRollingNumber(m.hideModal):i.createStoreRollingNumber(m.hideModal),disabled:!i.mustSaveChanges,size:"xs",type:"success",class:"w-full"},{default:d(()=>[f(v(s.storeRollingNumber?"Save Changes":"Add Whatsapp Number"),1)]),_:2},1032,["onClick","disabled"])])])]),trigger:d(m=>[D(t.$slots,"trigger",{showModal:m.showModal},()=>[e("div",lo,[io,no,i.hasStoreRollingNumbers?(u(),h(M,{key:0},[e("div",ao,[(u(!0),h(M,null,P(i.storeRollingNumbers,(V,A)=>(u(),g(C,{key:A,onClick:()=>i.showStoreRollingNumber(m.showModal,V,A),type:"primary",text:V.mobileNumber.international,showDot:!1,class:"whitespace-nowrap cursor-pointer shadow border border-blue-500 hover:bg-blue-50 hover:border-blue-400 hover:scale-95 active:bg-blue-100 hover:shadow-sm transition-all"},null,8,["onClick","text"]))),128))]),e("div",uo,[l(b,{onClick:()=>i.showStoreRollingNumber(m.showModal,null,null),size:"xs",type:"light",class:"w-48"},{default:d(()=>[mo]),_:2},1032,["onClick"])])],64)):(u(),g(b,{key:1,onClick:()=>i.showStoreRollingNumber(m.showModal,null,null),size:"sm",type:"light"},{default:d(()=>[co]),_:2},1032,["onClick"]))])])]),_:3},8,["onHide"])}const po=N(eo,[["render",ho]]),fo={mixins:[E],components:{Alert:q,TimeInput:Ne,TextInput:X,TextHeader:ge,StoreLogo:be,Checkbox:we,UndoButton:_e,SelectInput:K,ConfirmModal:ve,TextareaInput:xe,AddressModal:Ge,PrimaryButton:H,ToogleSwitch:Te,MobileNumberInput:te,CountrySelectInput:ee,CurrencySelectInput:ye,LanguageSelectInput:$e,BadgeIndicator:se,StoreRollingNumbersModal:po},data(){return{form:{name:null,taxId:null,email:null,alias:null,online:null,country:null,currency:null,language:null,taxMethod:null,openingHours:[],description:null,distanceUnit:null,smsSenderName:null,offlineMessage:null,ussdMobileNumber:null,taxPercentageRate:null,showOpeningHours:!1,whatsappMobileNumber:null,allowCheckoutOnClosedHours:!1},days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],storeState:k(),aliasModified:!1,isSubmitting:!1,originalForm:null,isDeleting:!1,storeName:""}},watch:{},computed:{store(){return this.storeState.store},address(){return this.store._relationships.address},formHasChanged(){var t=c(this.form),o=c(this.originalForm);return!U(t,o)},mustSaveChanges(){return this.formHasChanged&&!this.isSubmitting}},methods:{setStoreFields(){this.form.name=this.store.name,this.form.email=this.store.email,this.form.alias=this.store.alias,this.form.taxId=this.store.taxId,this.form.online=this.store.online,this.form.country=this.store.country,this.form.language=this.store.language,this.form.taxMethod=this.store.taxMethod,this.form.currency=this.store.currency.code,this.form.description=this.store.description,this.form.distanceUnit=this.store.distanceUnit,this.form.openingHours=this.store.openingHours,this.form.smsSenderName=this.store.smsSenderName,this.form.offlineMessage=this.store.offlineMessage,this.form.showOpeningHours=this.store.showOpeningHours,this.form.ussdMobileNumber=this.store.ussdMobileNumber.international,this.form.taxPercentageRate=this.store.taxPercentageRate.value.toString(),this.form.allowCheckoutOnClosedHours=this.store.allowCheckoutOnClosedHours,this.form.whatsappMobileNumber=this.store.whatsappMobileNumber.international,this.form.openingHours.length==0&&this.generateOpeningHours(),this.originalForm=c(this.form)},resetForm(){this.form=c(this.originalForm)},syncWithAlias(){this.aliasModified==!1&&(this.form.alias=this.form.name,this.formatAlias())},formatAlias(t=!1){this.form.alias.length?(this.form.alias=this.form.alias.replace(/[^a-zA-Z0-9\s-]/g,"").replace(/\s+/g,"-").trim().toLowerCase(),this.aliasModified=t):this.aliasModified=!1},setAddress(t){k().store._relationships.address=t},getDefaultOpeningHour(){return{available:!0,hours:[["08:00","16:00"]]}},generateOpeningHours(){this.form.openingHours=Array(7).fill().map(()=>({...this.getDefaultOpeningHour()}))},addOpeningHour(t){this.form.openingHours[t].hours.push(["08:00","16:00"])},removeOpeningHour(t,o){this.form.openingHours[t].hours.splice(o,1)},updateStore(){if(this.form.name.trim()==""){this.setFormError("name","The store name is required"),this.notificationState.addWarningNotification("The store name is required");return}this.isSubmitting=!0,W(this.store._links.updateStore,this.form).then(t=>{t.status==200&&(k().shouldUpdate=!0,this.originalForm=c(this.form),this.showSuccessfulNotification("Store updated")),this.isSubmitting=!1}).catch(t=>{this.isSubmitting=!1,this.setServerFormErrors(t)})},deleteStore(){this.isDeleting=!0,O(this.store._links.deleteStore).then(t=>{t.status==200&&(this.showSuccessfulNotification("Store deleted"),this.$router.replace({name:"dashboard"}),window.scrollTo(0,0)),this.isDeleting=!1}).catch(t=>{this.isDeleting=!1,this.setServerFormErrors(t)})}},mounted(){},created(){this.setStoreFields()}},go={class:"bg-white shadow-lg border p-8 rounded-lg mb-4"},bo=e("h1",{class:"text-lg font-bold"},"General Settings",-1),wo={class:"space-y-4"},_o=e("div",{class:"flex items-center space-x-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})]),e("span",null,"Please save your changes")],-1),vo={class:"flex items-center space-x-2"},xo=e("span",{class:"ml-1"},"Undo",-1),yo={class:"bg-white mb-4 p-8 rounded-lg"},So={action:"#",method:"POST"},To={class:"space-y-4"},ko=e("div",{class:"flex items-center space-x-1 py-1.5 pl-2 pr-4 rounded-l-md bg-gray-50 text-gray-500 border-r whitespace-nowrap"},[e("svg",{class:"w-5 h-5 mt-0.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.893 13.393-1.135-1.135a2.252 2.252 0 0 1-.421-.585l-1.08-2.16a.414.414 0 0 0-.663-.107.827.827 0 0 1-.812.21l-1.273-.363a.89.89 0 0 0-.738 1.595l.587.39c.59.395.674 1.23.172 1.732l-.2.2c-.212.212-.33.498-.33.796v.41c0 .409-.11.809-.32 1.158l-1.315 2.191a2.11 2.11 0 0 1-1.81 1.025 1.055 1.055 0 0 1-1.055-1.055v-1.172c0-.92-.56-1.747-1.414-2.089l-.655-.261a2.25 2.25 0 0 1-1.383-2.46l.007-.042a2.25 2.25 0 0 1 .29-.787l.09-.15a2.25 2.25 0 0 1 2.37-1.048l1.178.236a1.125 1.125 0 0 0 1.302-.795l.208-.73a1.125 1.125 0 0 0-.578-1.315l-.665-.332-.091.091a2.25 2.25 0 0 1-1.591.659h-.18c-.249 0-.487.1-.662.274a.931.931 0 0 1-1.458-1.137l1.411-2.353a2.25 2.25 0 0 0 .286-.76m11.928 9.869A9 9 0 0 0 8.965 3.525m11.928 9.868A9 9 0 1 1 8.965 3.525"})]),e("span",null,"perfectorder.me"),e("span",{class:"text-gray-400"}," / ")],-1),Co=e("div",{class:"flex items-center space-x-1 py-1.5 px-4 rounded-l-md bg-gray-50 text-gray-500 border-r whitespace-nowrap"},[e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])],-1),Vo=e("div",{class:"flex items-center space-x-1 py-1.5 px-4 rounded-l-md bg-gray-50 text-gray-500 border-r whitespace-nowrap"},[e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])],-1),Io={class:"space-y-4 p-4 border rounded-lg shadow-lg"},Mo=fe('<h1 class="flex items-center font-lg font-bold"><svg class="w-6 h-6 mr-4 flex-shrink-0" fill="#44c152" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 308 308" xml:space="preserve"><g id="XMLID_468_"><path id="XMLID_469_" d="M227.904,176.981c-0.6-0.288-23.054-11.345-27.044-12.781c-1.629-0.585-3.374-1.156-5.23-1.156c-3.032,0-5.579,1.511-7.563,4.479c-2.243,3.334-9.033,11.271-11.131,13.642c-0.274,0.313-0.648,0.687-0.872,0.687c-0.201,0-3.676-1.431-4.728-1.888c-24.087-10.463-42.37-35.624-44.877-39.867c-0.358-0.61-0.373-0.887-0.376-0.887c0.088-0.323,0.898-1.135,1.316-1.554c1.223-1.21,2.548-2.805,3.83-4.348c0.607-0.731,1.215-1.463,1.812-2.153c1.86-2.164,2.688-3.844,3.648-5.79l0.503-1.011c2.344-4.657,0.342-8.587-0.305-9.856c-0.531-1.062-10.012-23.944-11.02-26.348c-2.424-5.801-5.627-8.502-10.078-8.502c-0.413,0,0,0-1.732,0.073c-2.109,0.089-13.594,1.601-18.672,4.802c-5.385,3.395-14.495,14.217-14.495,33.249c0,17.129,10.87,33.302,15.537,39.453c0.116,0.155,0.329,0.47,0.638,0.922c17.873,26.102,40.154,45.446,62.741,54.469c21.745,8.686,32.042,9.69,37.896,9.69c0.001,0,0.001,0,0.001,0c2.46,0,4.429-0.193,6.166-0.364l1.102-0.105c7.512-0.666,24.02-9.22,27.775-19.655c2.958-8.219,3.738-17.199,1.77-20.458C233.168,179.508,230.845,178.393,227.904,176.981z"></path><path id="XMLID_470_" d="M156.734,0C73.318,0,5.454,67.354,5.454,150.143c0,26.777,7.166,52.988,20.741,75.928L0.212,302.716c-0.484,1.429-0.124,3.009,0.933,4.085C1.908,307.58,2.943,308,4,308c0.405,0,0.813-0.061,1.211-0.188l79.92-25.396c21.87,11.685,46.588,17.853,71.604,17.853C240.143,300.27,308,232.923,308,150.143C308,67.354,240.143,0,156.734,0zM156.734,268.994c-23.539,0-46.338-6.797-65.936-19.657c-0.659-0.433-1.424-0.655-2.194-0.655c-0.407,0-0.815,0.062-1.212,0.188l-40.035,12.726l12.924-38.129c0.418-1.234,0.209-2.595-0.561-3.647c-14.924-20.392-22.813-44.485-22.813-69.677c0-65.543,53.754-118.867,119.826-118.867c66.064,0,119.812,53.324,119.812,118.867C276.546,215.678,222.799,268.994,156.734,268.994z"></path></g></svg><span>WhatsApp Notifications</span></h1>',1),No={class:"text-sm text-gray-500"},Ao={class:"bg-white mb-4 p-8 rounded-lg"},Fo={action:"#",method:"POST"},Do={class:"space-y-4"},Po=e("h1",{class:"flex items-center font-lg font-bold"},[e("svg",{class:"w-6 h-6 mr-2 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m6.115 5.19.319 1.913A6 6 0 0 0 8.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 0 0 2.288-4.042 1.087 1.087 0 0 0-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 0 1-.98-.314l-.295-.295a1.125 1.125 0 0 1 0-1.591l.13-.132a1.125 1.125 0 0 1 1.3-.21l.603.302a.809.809 0 0 0 1.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 0 0 1.528-1.732l.146-.292M6.115 5.19A9 9 0 1 0 17.18 4.64M6.115 5.19A8.965 8.965 0 0 1 12 3c1.929 0 3.716.607 5.18 1.64"})]),e("span",null,"Localization")],-1),Bo=e("p",{class:"text-sm text-gray-500"},"Set your store's country, currency, language, and preferred distance unit (Km/Mile) to align with your local market and ensure a seamless shopping experience for your customers.",-1),Lo=e("option",{value:"km"},"Kilometer (km)",-1),Uo=e("option",{value:"mile"},"Mile",-1),Eo={class:"bg-white mb-4 p-8 rounded-lg"},Ro={action:"#",method:"POST"},Ho={class:"space-y-4"},Wo=e("h1",{class:"flex items-center font-lg font-bold"},[e("svg",{class:"w-6 h-6 mr-2 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.121 7.629A3 3 0 0 0 9.017 9.43c-.023.212-.002.425.028.636l.506 3.541a4.5 4.5 0 0 1-.43 2.65L9 16.5l1.539-.513a2.25 2.25 0 0 1 1.422 0l.655.218a2.25 2.25 0 0 0 1.718-.122L15 15.75M8.25 12H12m9 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})]),e("span",null,"Tax")],-1),Oo=e("p",{class:"text-sm text-gray-500"},"Set your store's tax rate and method (Inclusive/Exclusive) to ensure accurate pricing and compliance with local tax regulations.",-1),zo={class:"grid grid-cols-2 gap-4"},jo={class:"col-span-1"},qo=e("option",{value:"inclusive"},"Inclusive (Prices include tax)",-1),Zo=e("option",{value:"exclusive"},"Exclusive (Prices exclude tax)",-1),Xo={class:"col-span-1"},Ko={class:"col-span-2"},Go={class:"bg-white mb-4 p-8 rounded-lg"},Jo={action:"#",method:"POST"},Qo={class:"space-y-4"},Yo=e("h1",{class:"flex items-center font-lg font-bold"},[e("svg",{class:"w-6 h-6 mr-2 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})]),e("span",null,"Opening Hours")],-1),$o=e("p",{class:"text-sm text-gray-500"},"Set your store's operating hours, including availability and time slots for each day. Indicate if the store is open or closed on any specific day.",-1),et=e("svg",{class:"w-6 h-6 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})],-1),ot=e("span",null,"Customers cannot place orders during closed hours",-1),tt={class:"col-span-1 flex items-center space-x-2"},st={class:"col-span-1 space-y-2"},rt={class:"flex items-center space-x-2"},lt=e("span",null,"-",-1),it=["onClick"],nt=e("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),at=[nt],dt=["onClick"],ut=e("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})],-1),mt=[ut],ct={class:"space-y-4 shadow-lg rounded-lg border p-4 border-red-300 bg-red-50"},ht=e("h1",{class:"text-lg font-bold"},"Danger",-1),pt={class:"text-justify"},ft={class:"font-bold text-black"},gt={class:"flex justify-end"};function bt(t,o,n,S,s,i){const p=a("Alert"),x=a("UndoButton"),y=a("PrimaryButton"),T=a("ToogleSwitch"),C=a("TextareaInput"),b=a("TextInput"),w=a("MobileNumberInput"),m=a("AddressModal"),V=a("BadgeIndicator"),A=a("StoreRollingNumbersModal"),re=a("CountrySelectInput"),le=a("CurrencySelectInput"),ie=a("LanguageSelectInput"),z=a("SelectInput"),ne=a("Checkbox"),j=a("TimeInput");return u(),h("div",null,[e("div",go,[bo,e("form",{class:Z(i.mustSaveChanges?"mt-4":"mt-10"),action:"#",method:"POST"},[e("div",wo,[t.getFormError("general")?(u(),g(p,{key:0,type:"warning"},{default:d(()=>[f(v(t.getFormError("general")),1)]),_:1})):_("",!0),i.mustSaveChanges?(u(),g(p,{key:1,type:"warning",class:"flex justify-between items-center mb-2"},{default:d(()=>[_o,e("div",vo,[l(x,{action:i.resetForm,type:"light",size:"xs"},{default:d(()=>[xo]),_:1},8,["action"]),l(y,{action:i.updateStore,loading:s.isSubmitting,class:"w-40"},{default:d(()=>[f(" Save Changes ")]),_:1},8,["action","loading"])])]),_:1})):_("",!0),l(T,{size:"md",modelValue:s.form.online,"onUpdate:modelValue":o[0]||(o[0]=r=>s.form.online=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("online"),labelPopoverDescription:"Turn on so that your store is online (Made available to customers). Turn off so that your store is offline (Not available to customers)"},{default:d(()=>[f(" Online ")]),_:1},8,["modelValue","errorText"]),s.form.online?_("",!0):(u(),g(C,{key:2,rows:2,label:"Offline Message",modelValue:s.form.offlineMessage,"onUpdate:modelValue":o[1]||(o[1]=r=>s.form.offlineMessage=r),labelPopoverTitle:"What Is This?",placeholder:"Closed for the holidays",errorText:t.getFormError("offlineMessage"),labelPopoverDescription:"The message to show to customers who visit your store while its offline (Not available to customers)"},null,8,["modelValue","errorText"])),l(b,{label:"Name",modelValue:s.form.name,"onUpdate:modelValue":o[2]||(o[2]=r=>s.form.name=r),onKeyup:i.syncWithAlias,placeholder:"Baby Cakes ðŸ§",autocomplete:"organization",errorText:t.getFormError("name"),labelPopoverTitle:"What Is This?",labelPopoverDescription:"The name of your store e.g Baby Cakes ðŸ§"},null,8,["modelValue","onKeyup","errorText"]),l(C,{rows:2,label:"Description",modelValue:s.form.description,"onUpdate:modelValue":o[3]||(o[3]=r=>s.form.description=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("description"),placeholder:"The sweetest cakes in the world ðŸ°",labelPopoverDescription:"A short and sweet description of your store e.g The sweetest cakes in the world ðŸ°"},null,8,["modelValue","errorText"])])],2)]),e("div",yo,[e("form",So,[e("div",To,[l(b,{modelValue:s.form.alias,"onUpdate:modelValue":o[4]||(o[4]=r=>s.form.alias=r),label:"Store Website",placeholder:"Baby Cakes ðŸ§",onKeyup:o[5]||(o[5]=()=>i.formatAlias(!0)),labelPopoverTitle:"What Is This?",errorText:t.getFormError("alias"),labelPopoverDescription:"The website link that will be used by customers to visit your store, shop and place orders"},{prepend:d(()=>[ko]),_:1},8,["modelValue","errorText"]),l(w,{label:"USSD Number",modelValue:s.form.ussdMobileNumber,"onUpdate:modelValue":o[6]||(o[6]=r=>s.form.ussdMobileNumber=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("ussdMobileNumber"),labelPopoverDescription:"The mobile number that will be used by customers to dial your store, shop and place orders"},null,8,["modelValue","errorText"]),l(b,{label:"Email",modelValue:s.form.email,"onUpdate:modelValue":o[7]||(o[7]=r=>s.form.email=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("email"),placeholder:"sales@"+(s.form.alias||"example")+".com",labelPopoverDescription:"The store email address e.g sales@"+(s.form.alias||"example")+".com"},{prepend:d(()=>[Co]),_:1},8,["modelValue","errorText","placeholder","labelPopoverDescription"]),l(b,{maxlength:"11",label:"SMS Sender Name",placeholder:"Baby Cakes",modelValue:s.form.smsSenderName,"onUpdate:modelValue":o[8]||(o[8]=r=>s.form.smsSenderName=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("smsSenderName"),labelPopoverDescription:"The name given to SMS messages sent to the customer by your store e.g Baby Cakes"},{prepend:d(()=>[Vo]),_:1},8,["modelValue","errorText"]),l(m,{address:i.address,storeId:i.store.id,onOnCreated:i.setAddress,onOnUpdated:i.setAddress,onOnDeleted:i.setAddress},null,8,["address","storeId","onOnCreated","onOnUpdated","onOnDeleted"]),e("div",Io,[Mo,e("p",No,[f("Set the primary WhatsApp number that your store will use to automatically send updates and notifications using "),l(V,{type:"primary",text:"workflows",showDot:!1,onClick:()=>{},class:"cursor-pointer hover:opacity-80"}),f(", ensuring clear and timely communication")]),l(w,{label:"WhatsApp Number",labelPopoverTitle:"What Is This?",modelValue:s.form.whatsappMobileNumber,"onUpdate:modelValue":o[9]||(o[9]=r=>s.form.whatsappMobileNumber=r),errorText:t.getFormError("whatsappMobileNumber"),labelPopoverDescription:"The Whatsapp mobile number that will be used to send notifications via whatsapp to customers or team members"},null,8,["modelValue","errorText"])]),l(A)])])]),e("div",Ao,[e("form",Fo,[e("div",Do,[Po,Bo,l(re,{width:"w-full",label:"Country",modelValue:s.form.country,"onUpdate:modelValue":o[10]||(o[10]=r=>s.form.country=r),labelPopoverTitle:"What Is This?",labelPopoverDescription:"The country that your store is operating from"},null,8,["modelValue"]),l(le,{width:"w-full",label:"Currency",modelValue:s.form.currency,"onUpdate:modelValue":o[11]||(o[11]=r=>s.form.currency=r),labelPopoverTitle:"What Is This?",labelPopoverDescription:"The currency accepted by your store"},null,8,["modelValue"]),l(ie,{width:"w-full",label:"Language",modelValue:s.form.language,"onUpdate:modelValue":o[12]||(o[12]=r=>s.form.language=r),labelPopoverTitle:"What Is This?",labelPopoverDescription:"The language accepted by your store"},null,8,["modelValue"]),l(z,{width:"w-full",label:"Distance Unit",modelValue:s.form.distanceUnit,"onUpdate:modelValue":o[13]||(o[13]=r=>s.form.distanceUnit=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("distanceUnit"),labelPopoverDescription:"Choose the unit of measurement for distances used in your store. For example, kilometers (km) for metric systems or miles for imperial systems. This setting affects shipping calculations and location-based features."},{default:d(()=>[Lo,Uo]),_:1},8,["modelValue","errorText"])])])]),e("div",Eo,[e("form",Ro,[e("div",Ho,[Wo,Oo,e("div",zo,[e("div",jo,[l(z,{width:"w-full",label:"Tax Method",modelValue:s.form.taxMethod,"onUpdate:modelValue":o[14]||(o[14]=r=>s.form.taxMethod=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("taxMethod"),labelPopoverDescription:"Choose whether taxes are included in your prices (inclusive) or added on top of prices (exclusive)."},{default:d(()=>[qo,Zo]),_:1},8,["modelValue","errorText"])]),e("div",Xo,[l(b,{label:"Tax ID",modelValue:s.form.taxId,"onUpdate:modelValue":o[15]||(o[15]=r=>s.form.taxId=r),placeholder:"12-3456789",errorText:t.getFormError("taxId"),labelPopoverTitle:"What Is This?",labelPopoverDescription:"Provide your tax identification number (e.g. EIN for US, VAT for UK)."},null,8,["modelValue","errorText"])]),e("div",Ko,[l(b,{placeholder:"10",label:"Tax Rate (%)",modelValue:s.form.taxPercentageRate,"onUpdate:modelValue":o[16]||(o[16]=r=>s.form.taxPercentageRate=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("taxPercentageRate"),labelPopoverDescription:"Enter the percentage rate for taxes applied to sales. For example, 15 for a 15% VAT or 7.5 for a 7.5% Sales Tax. This rate will be used to calculate taxes on transactions."},null,8,["modelValue","errorText"])])])])])]),e("div",Go,[e("form",Jo,[e("div",Qo,[Yo,$o,l(T,{size:"md",modelValue:s.form.showOpeningHours,"onUpdate:modelValue":o[17]||(o[17]=r=>s.form.showOpeningHours=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("showOpeningHours"),labelPopoverDescription:"Turn on if you would like your store to showcase its open or closed hours"},{default:d(()=>[f(" Show opening hours ")]),_:1},8,["modelValue","errorText"]),s.form.showOpeningHours?(u(),h(M,{key:0},[l(T,{size:"md",labelPopoverTitle:"What Is This?",modelValue:s.form.allowCheckoutOnClosedHours,"onUpdate:modelValue":o[18]||(o[18]=r=>s.form.allowCheckoutOnClosedHours=r),errorText:t.getFormError("allowCheckoutOnClosedHours"),labelPopoverDescription:"Turn on to allow customers to place orders during closed hours"},{default:d(()=>[f(" Allow checkout during closed hours ")]),_:1},8,["modelValue","errorText"]),s.form.allowCheckoutOnClosedHours?_("",!0):(u(),g(p,{key:0,type:"warning",class:"flex items-center space-x-2"},{default:d(()=>[et,ot]),_:1})),(u(!0),h(M,null,P(s.form.openingHours,(r,F)=>(u(),h("div",{key:F,class:"border-t border-dashed pt-4 grid grid-cols-2 gap-4 items-start"},[e("div",tt,[l(ne,{modelValue:r.available,"onUpdate:modelValue":I=>r.available=I,size:"xs",class:"mt-1"},null,8,["modelValue","onUpdate:modelValue"]),e("span",null,v(s.days[F]),1)]),e("div",st,[(u(!0),h(M,null,P(r.hours,(I,B)=>(u(),h("div",{key:B},[e("div",rt,[l(j,{modelValue:I[0],"onUpdate:modelValue":L=>I[0]=L,errorText:t.getFormError("openingHours"),class:"w-24"},null,8,["modelValue","onUpdate:modelValue","errorText"]),lt,l(j,{modelValue:I[1],"onUpdate:modelValue":L=>I[1]=L,errorText:t.getFormError("openingHours"),class:"w-24"},null,8,["modelValue","onUpdate:modelValue","errorText"]),B==0?(u(),h("div",{key:0,onClick:()=>i.addOpeningHour(F),class:"flex-shrink-0 cursor-pointer rounded-md border p-1 hover:bg-blue-50 transition-all"},at,8,it)):(u(),h("div",{key:1,onClick:()=>i.removeOpeningHour(F,B),class:"flex-shrink-0 cursor-pointer rounded-md border p-1 bg-red-50 hover:bg-red-100 transition-all"},mt,8,dt))])]))),128))])]))),128))],64)):_("",!0)])])]),e("div",ct,[ht,e("p",pt,[f(" Do you want to permanently delete "),e("span",ft,v(s.form.name),1),f("? Once this store is deleted you will not be able to recover it. All orders, products, customers, and store-related settings will be permanently deleted and cannot be recovered. Enter the store name to confirm this action. ")]),l(b,{class:"mb-8",label:"Confirm",modelValue:s.storeName,"onUpdate:modelValue":o[19]||(o[19]=r=>s.storeName=r),placeholder:s.form.name,errorText:t.getFormError("name"),labelPopoverTitle:"What Is This?",labelPopoverDescription:"Type the store name ("+s.form.name+") to confirm deleting this store"},null,8,["modelValue","placeholder","errorText","labelPopoverDescription"]),e("div",gt,[l(y,{onClick:i.deleteStore,loading:s.isDeleting,disabled:s.storeName!=s.form.name||s.isDeleting,class:"w-40",type:"danger"},{default:d(()=>[f(" Delete Store ")]),_:1},8,["onClick","loading","disabled"])])])])}const Xt=N(fo,[["render",bt]]);export{Xt as default};
