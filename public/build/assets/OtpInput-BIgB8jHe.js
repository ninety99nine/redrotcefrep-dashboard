import{U as u}from"./SpiningLoader-CsPmXxst.js";import{I as c}from"./InputLabel-B11U1-WT.js";import{I as h}from"./InputErrorMessage-B1NpEu7u.js";import{o as n,c as a,d as g,F as f,l as d,v as m,A as D,h as y,p as I,e as _,r as b}from"./app-Kf0mCOXy.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={props:{modelValue:{type:String},errorText:{type:String},length:{type:Number,default:6}},mixins:[u],components:{InputLabel:c,InputErrorMessage:h},data(){return{otpDigits:Array(this.length).fill(""),uniqueId:this.generateUniqueId("mobile_number")}},watch:{modelValue(t,e){t!=this.otpDigits.join("")&&this.updateValue(t)},otpDigits:{handler(t){const e=t.join("");this.$emit("update:modelValue",e)},deep:!0}},methods:{updateValue(t){this.otpDigits=Array(this.length).fill(""),t=t.replace(/\D/g,"");for(let e=0;e<t.length&&e<this.length;e++)this.otpDigits[e]=t.charAt(e)},onFocus(t){for(let e=0;e<this.length;e++)e<t&&this.otpDigits[e].length==0&&this.$refs.otpInputs[e].focus()},onInput(t){var e=this.otpDigits[t].replace(/\D/g,"");e.length==1?this.otpDigits[t]=e.charAt(0):e.length==2?this.otpDigits[t]=e.charAt(1):this.otpDigits[t]=e,this.otpDigits[t].length===1&&t<this.otpDigits.length-1&&this.$refs.otpInputs[t+1].focus()},onBackspace(t){this.otpDigits[t]="",t>0&&this.$refs.otpInputs[t-1].focus()}}},x={class:"flex justify-center space-x-3"},A=["onUpdate:modelValue","onKeydown","onInput","onFocus"];function F(t,e,p,M,r,i){const l=b("InputErrorMessage");return n(),a("div",null,[g("div",x,[(n(!0),a(f,null,d(r.otpDigits,(V,s)=>m((n(),a("input",{class:"block w-12 h-12 text-center border border-gray-300 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600",key:s,ref_for:!0,ref:"otpInputs","onUpdate:modelValue":o=>r.otpDigits[s]=o,onKeydown:y(I(o=>i.onBackspace(s),["prevent"]),["backspace"]),onInput:o=>i.onInput(s),onFocus:o=>i.onFocus(s),maxlength:"2",type:"text",autofocus:""},null,40,A)),[[D,r.otpDigits[s]]])),128))]),_(l,{errorText:p.errorText,class:"flex justify-center mt-2"},null,8,["errorText"])])}const $=v(k,[["render",F]]);export{$ as O};
