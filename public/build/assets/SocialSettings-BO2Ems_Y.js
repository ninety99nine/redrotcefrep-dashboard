import{s as b,u as _,c as n,b as e,d as l,F as u,k as w,e as L,w as c,f as h,r as m,o as a,t as I,h as V,z as B}from"./app-DEkFCb1u.js";import{F as A}from"./FormMixin-D44Bj-el.js";import{U as C}from"./form-store-B_ZbhArT.js";import{V as U}from"./vue-draggable-next.esm-bundler-C7oHOHQm.js";import{u as E}from"./store-store-CxinBL3L.js";import{T}from"./TextInput-CwB-G_mS.js";import{A as N}from"./AddButton-CqVfIWO7.js";import{B as j}from"./BasicModal-DyuUDblK.js";import{g as z}from"./api-repository-CIJPUswr.js";import{L as P}from"./LineSkeleton-DFWRI7XC.js";import{P as D}from"./PrimaryButton-Cwf__Lsv.js";import{F as H}from"./FormErrorMessages-T64AgTW8.js";import{S as G}from"./SaveChangesAlert-B_UsUk9a.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./cloneDeep-BGE7Bmb-.js";import"./InputErrorMessage-lzTzq-uZ.js";import"./MoreInfoPopover-CrxGv8yo.js";import"./ShineEffect-CWpUJr6E.js";import"./SpinningLoader-BnJGVf_7.js";/* empty css                                                                      */import"./SaveChanges-CYkT3WGE.js";import"./Alert-DEJps0rh.js";import"./UndoButton-6P096GJ8.js";const J={mixins:[A,C],components:{draggable:U,TextInput:T,AddButton:N,BasicModal:j,LineSkeleton:P,PrimaryButton:D,FormErrorMessages:H,SaveChangesAlert:G},data(){return{socialLink:{name:"",link:""},settings:b,socialMediaIcons:[],apiState:_(),storeState:E(),isLoadingSocialMediaIcons:!1}},computed:{store(){return this.storeState.store},storeForm(){return this.storeState.storeForm},canAddSocialLink(){return this.socialLink.name.length&&this.socialLink.link.length}},methods:{hasMatchingSocialMediaIcon(s){return this.socialMediaIcons.some(o=>o.name.toLowerCase()===s.toLowerCase())},addSocialLink(s){this.storeForm.socialLinks.some(g=>g.name===name)||this.storeForm.socialLinks.push({name:this.socialLink.name,link:this.socialLink.link}),this.socialLink.name="",this.socialLink.link="",s()},removeSocialLink(s){this.storeForm.socialLinks=this.storeForm.socialLinks.filter(o=>o.name!==s)},showSocialMediaIcons(){this.socialMediaIcons.length||(this.isLoadingSocialMediaIcons=!0,z(this.apiState.apiHome._links.showSocialMediaIcons).then(s=>{s.status==200&&(this.socialMediaIcons=s.data,this.setStoreForm()),this.isLoadingSocialMediaIcons=!1}).catch(s=>{this.isLoadingSocialMediaIcons=!1,this.setServerFormErrors(s)}))},setStoreForm(){this.storeState.setStoreForm(this.store)}},created(){this.showSocialMediaIcons()}},K={class:"bg-white shadow-lg border p-8 rounded-lg mb-4"},O={class:"space-y-4 mt-4"},Q={key:0,class:"space-y-2"},R={class:"w-full flex items-center space-x-2"},W={class:"w-full"},X={class:"flex items-center py-1.5 pl-4 pr-4 rounded-l-md bg-gray-50 text-gray-500 border-r whitespace-nowrap"},Y=["src"],Z=["onClick"],$={key:2,class:"flex justify-end"},oo={class:"space-y-4"};function eo(s,o,g,so,d,r){const f=m("FormErrorMessages"),S=m("SaveChangesAlert"),k=m("LineSkeleton"),p=m("TextInput"),v=m("draggable"),M=m("PrimaryButton"),y=m("AddButton"),x=m("BasicModal");return a(),n("div",K,[o[10]||(o[10]=e("h1",{class:"text-lg font-bold mb-2"},"Social Links",-1)),o[11]||(o[11]=e("p",{class:"text-sm text-gray-500"}," Connect with your customers! ",-1)),o[12]||(o[12]=e("p",{class:"text-sm text-gray-500"}," Share your storeâ€™s social pages, groups, channels, or profiles to showcase your online community. ",-1)),e("div",O,[l(f),l(S),d.isLoadingSocialMediaIcons?(a(),n("div",Q,[(a(),n(u,null,w([1,2,3],(t,i)=>e("div",{key:i,class:"border shadow-sm rounded-lg p-4 bg-gray-50"},[e("div",R,[l(k,{width:"w-8",shine:!0}),l(k,{width:"w-40",shine:!0})])])),64))])):(a(),L(v,{key:1,class:"space-y-2",modelValue:r.storeForm.socialLinks,"onUpdate:modelValue":o[0]||(o[0]=t=>r.storeForm.socialLinks=t),handle:".draggable-handle","ghost-class":"bg-yellow-50"},{default:c(()=>[(a(!0),n(u,null,w(r.storeForm.socialLinks,(t,i)=>(a(),n("div",{key:i,class:"flex items-center justify-between space-x-4"},[e("div",W,[l(p,{placeholder:"https://",modelValue:r.storeForm.socialLinks[i].link,"onUpdate:modelValue":F=>r.storeForm.socialLinks[i].link=F,errorText:s.getFormError("socialLinks"+i+"Name")||s.getFormError("socialLinks"+i+"Link")},{prepend:c(()=>[e("div",X,[r.hasMatchingSocialMediaIcon(t.name)?(a(),n("img",{key:0,class:"w-8",src:d.settings.appApiUrl+"/images/social-icons/"+t.name.toLowerCase()+".png"},null,8,Y)):(a(),n(u,{key:1},[o[3]||(o[3]=e("svg",{class:"w-4 h-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})],-1)),e("span",null,I(t.name),1)],64))])]),_:2},1032,["modelValue","onUpdate:modelValue","errorText"])]),this.hasMatchingSocialMediaIcon(t.name)?h("",!0):(a(),n("svg",{key:0,onClick:()=>r.removeSocialLink(t.name),class:"w-4 h-4 cursor-pointer hover:text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},o[4]||(o[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"},null,-1)]),8,Z)),o[5]||(o[5]=e("svg",{class:"draggable-handle w-4 h-4 cursor-grab hover:text-yellow-500 active:cursor-grabbing",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})],-1))]))),128))]),_:1},8,["modelValue"])),d.isLoadingSocialMediaIcons?h("",!0):(a(),n("div",$,[l(x,null,{content:c(t=>[o[7]||(o[7]=e("h1",{class:"font-lg font-bold mb-2"},"Add Social Link",-1)),o[8]||(o[8]=e("p",{class:"text-sm text-gray-500 mb-4"},"Give us the name of the social media platform and your store link",-1)),e("div",oo,[l(p,{placeholder:"MySpace",modelValue:d.socialLink.name,"onUpdate:modelValue":o[1]||(o[1]=i=>d.socialLink.name=i)},null,8,["modelValue"]),l(p,{modelValue:d.socialLink.link,"onUpdate:modelValue":o[2]||(o[2]=i=>d.socialLink.link=i),placeholder:"https://"},null,8,["modelValue"])]),r.canAddSocialLink?(a(),L(M,{key:0,action:()=>r.addSocialLink(t.hideModal),size:"sm",type:"success",class:"mt-4"},{default:c(()=>o[6]||(o[6]=[V(" Add ")])),_:2},1032,["action"])):h("",!0)]),trigger:c(t=>[B(s.$slots,"trigger",{showModal:t.showModal},()=>[l(y,{action:t.showModal,size:"sm"},{default:c(()=>o[9]||(o[9]=[e("span",{class:"ml-2"},"Add",-1)])),_:2},1032,["action"])])]),_:3})]))])])}const _o=q(J,[["render",eo]]);export{_o as default};
