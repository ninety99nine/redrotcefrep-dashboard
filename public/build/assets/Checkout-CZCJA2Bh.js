import"./index-D19FfSVG.js";import{u as k}from"./store-store-b0L-GreJ.js";import{F as I}from"./FormMixin-RVJEmp-q.js";import{M as G}from"./MoneyInput-7lnFcyGo.js";import{B as j}from"./BadgeIndicator-Bcix5jl8.js";import{u as x,T as E,j as K,C as X,a as Y,k as U,P as J,N as tt,b as et,S as rt,c as ot,G as st,d as nt,e as at,f as it,g as dt,h as pt,i as lt}from"./Index-GF2Jlv5D.js";import{r as a,o,c as s,b as n,F as w,k as T,e as _,d as i,f as C,i as y,w as f,n as H,m as P,t as v,T as N,q as ct,B as mt,h as L,y as ut}from"./app-Bi98IZzu.js";import{_ as m}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{A as ht}from"./AddButton-CaZlWiuO.js";import{B as Ct}from"./BasicModal-C-J9ZDvw.js";import{S as $}from"./ShineEffect-wPoPEvjg.js";import{L as O}from"./LineSkeleton-0f7iD8eX.js";import{P as A}from"./PrimaryButton-C_jca9lM.js";import{B as gt}from"./BackdropLoader-C5VxtY6O.js";import{E as yt}from"./EmailInput-C2r9p8BT.js";import{T as R}from"./TextInput-DyLPxbP7.js";import{M as St}from"./MobileNumberInput-DMjKpigl.js";import{b as _t}from"./InputErrorMessage-KPWvfl4x.js";import{G as vt,A as ft}from"./AddressInput-CJW0k12w.js";import{U as xt}from"./UtilsMixin-CBwmyCNB.js";import{D as Ft,a as wt}from"./DeliveryTimePicker-CSTxOCaR.js";import"./cloneDeep-BSUglKOW.js";import"./form-store-C2My47xt.js";import"./api-repository-MbCCQJsA.js";import"./MoreInfoPopover-DWJ5yMDY.js";import"./Logo-siuHXcbU.js";import"./Colorpicker-Dm2WCZc-.js";import"./FormErrorMessages-C-sFANwV.js";import"./OfflineMessageTextarea-OXpN1k1I.js";import"./ToogleSwitch-BQ2RpUxp.js";import"./TextareaInput-BDBAzYhC.js";import"./SaveChangesAlert-CwKVQzBU.js";import"./SaveChanges-C_Vbi8MF.js";import"./Alert-amlWXTOV.js";import"./UndoButton-CiPmpiox.js";import"./debounce-vv36Z9rh.js";import"./SpinningLoader-Co5nY0L9.js";import"./BackButton-Ddndm28x.js";import"./DeleteButton-C9REtp4x.js";import"./CountrySelectInput-DqU39xxY.js";import"./SelectInput-DCUyjQlY.js";import"./Datepicker-BxO1go5_.js";const kt={mixins:[I],components:{MoneyInput:G,BadgeIndicator:j},data(){return{storeState:k(),shoppingCartState:x()}},watch:{"shoppingCartForm.tipFlatRate"(){this.shoppingCartState.inspectStoreShoppingCartWithDelay()}},computed:{store(){return this.storeState.store},shoppingCartForm(){return this.shoppingCartState.shoppingCartForm},tips(){return["none",...this.store.tips,"specify"].map(this.formatTip)},hasTips(){return this.store.tips.length>0},isFixedTip(){var e;return((e=this.selectedTip)==null?void 0:e.type)==="fixed"},selectedTip(){return this.shoppingCartState.tip}},methods:{setTip(e){this.shoppingCartState.setTip(e)},isSelectedTip(e){return this.shoppingCartState.isSelectedTip(e)},formatTipText(e){return e.value+(e.type==="percentage"?"%":"")},formatTip(e){return e==="none"?E.NONE:e==="specify"?E.FIXED:E.PERCENTAGE(e)}}},bt={key:0,class:"space-y-4 px-4 pb-4"},Tt={class:"flex flex-wrap gap-2"},Mt={key:0,class:"mt-4"};function Dt(e,r,u,h,c,t){const d=a("BadgeIndicator"),p=a("MoneyInput");return t.hasTips?(o(),s("div",bt,[n("div",Tt,[(o(!0),s(w,null,T(t.tips,(l,S)=>(o(),_(d,{key:S,size:"px-4 py-1",showDot:!1,clickable:!0,text:t.formatTipText(l),action:()=>t.setTip(l),type:t.isSelectedTip(l)?"primary":"info"},null,8,["text","action","type"]))),128))]),t.isFixedTip?(o(),s("div",Mt,[i(p,{modelValue:t.shoppingCartForm.tipFlatRate,"onUpdate:modelValue":r[0]||(r[0]=l=>t.shoppingCartForm.tipFlatRate=l),errorText:e.getFormError("discountFixedRate")},null,8,["modelValue","errorText"])])):C("",!0)])):C("",!0)}const Pt=m(kt,[["render",Dt]]),It={components:{Tips:Pt}};function Bt(e,r,u,h,c,t){const d=a("Tips");return o(),s("div",null,[i(d)])}const Nt=m(It,[["render",Bt]]),Lt={},$t={class:"font-bold px-4"};function Ot(e,r,u,h,c,t){return o(),s("p",$t,"Tips")}const Vt=m(Lt,[["render",Ot]]),Et={components:{TipsCardBody:Nt,TipsCardHeading:Vt},data(){return{storeState:k()}},computed:{storeForm(){return this.storeState.storeForm}}};function Ht(e,r,u,h,c,t){const d=a("TipsCardHeading"),p=a("TipsCardBody");return o(),s("div",{style:y("background:"+t.storeForm.cardSecondaryColor+";"),class:"md:max-w-lg mx-4 mb-4 md:mx-auto rounded-lg shadow-lg space-y-4 pt-4 overflow-hidden"},[i(d),i(p)],4)}const At=m(Et,[["render",Ht]]),Rt={mixins:[K],components:{AddButton:ht,BasicModal:Ct,ShineEffect:$,LineSkeleton:O,PrimaryButton:A,BackdropLoader:gt,BadgeIndicator:j,CategoryHeading:X,CategoryOptions:Y},data(){return{mappedCartProducts:{},storeState:k(),shoppingCartState:x()}},computed:{store(){return this.storeState.store},storeForm(){return this.storeState.storeForm},nonSelectedProducts(){return this.shoppingCartState.nonSelectedProducts},hasCartProducts(){return this.shoppingCartState.hasCartProducts(this.mappedCartProducts)},hasNonSelectedProducts(){return this.shoppingCartState.hasNonSelectedProducts},hasSearchTerm(){return this.shoppingCartState.hasSearchTerm},shoppingCart(){return this.shoppingCartState.shoppingCart},isLoadingNonSelectedProducts(){return this.shoppingCartState.isLoadingNonSelectedProducts},isSearchingNonSelectedProducts(){return this.shoppingCartState.isSearchingNonSelectedProducts}},methods:{hasQuantity(e){return this.shoppingCartState.hasQuantity(e,this.mappedCartProducts)},isAddedToCart(e){return this.shoppingCartState.isAddedToCart(e,this.mappedCartProducts)},addToCart(e){this.shoppingCartState.addToCart(e,"1",this.mappedCartProducts)},addSelectedToCart(e){Object.values(this.mappedCartProducts).forEach(r=>{this.shoppingCartState.removeFromCart(r.id,this.mappedCartProducts),this.shoppingCartState.addToCart(r,r.quantity)}),e()},increaseQuantity(e){this.shoppingCartState.increaseQuantity(e,"1",this.mappedCartProducts)},decreaseQuantity(e){this.shoppingCartState.decreaseQuantity(e,"1",this.mappedCartProducts)},removeFromCart(e){this.shoppingCartState.removeFromCart(e,this.mappedCartProducts)},clearSearch(){this.shoppingCartState.clearSearch()},showNonSelectedShoppingProducts(){this.shoppingCartState.showNonSelectedShoppingProducts()}}},jt={class:"relative"},Ut={class:"divide-y"},Wt={key:0},Zt=["onClick"],Qt={class:"w-full"},qt={class:"space-x-1"},zt={key:0,class:"flex items-center space-x-4"},Gt={class:"flex items-center space-x-2"},Kt=["onClick"],Xt=["onUpdate:modelValue"],Yt=["onClick"],Jt=["onClick"],te={class:"whitespace-nowrap"},ee={key:1};function re(e,r,u,h,c,t){const d=a("BackdropLoader"),p=a("LineSkeleton"),l=a("ShineEffect"),S=a("BadgeIndicator"),F=a("PrimaryButton"),B=a("AddButton"),V=a("BasicModal");return o(),_(V,{onShow:t.showNonSelectedShoppingProducts},{content:f(M=>[r[7]||(r[7]=n("h1",{class:"font-lg font-bold mb-2"},"Add Product",-1)),r[8]||(r[8]=n("p",{class:"text-sm text-gray-500 mb-4"},"Select items to add to your cart",-1)),n("div",jt,[t.isLoadingNonSelectedProducts||t.isSearchingNonSelectedProducts?(o(),_(d,{key:0,showBorder:!1})):C("",!0),n("div",Ut,[t.isLoadingNonSelectedProducts||t.isSearchingNonSelectedProducts?(o(),s("div",Wt,[(o(),s(w,null,T([1,2,3],(g,b)=>n("div",{key:b,class:H([{"border-t":b==0},"border-b border-l border-r shadow-sm py-6 px-4 bg-gray-50"])},[i(l,{class:"w-full flex items-center justify-between"},{default:f(()=>[i(p,{width:"w-32"}),i(p,{width:"w-16"})]),_:1})],2)),64))])):(o(),s(w,{key:1},[t.hasNonSelectedProducts?(o(!0),s(w,{key:0},T(t.nonSelectedProducts,(g,b)=>(o(),s("div",{key:b,onClick:P(D=>t.isAddedToCart(g.id)?t.increaseQuantity(g.id):t.addToCart(g),["stop"]),style:y({"--product-background":t.storeForm.productBgColor,"--product-background-hover":t.storeForm.productHoverBgColor}),class:H(["flex justify-between items-center px-6 cursor-pointer bg-[var(--product-background)] hover:bg-[var(--product-background-hover)] transition-colors group",b===0?"pt-4 pb-2":"py-2"])},[n("div",Qt,[n("span",{class:"text-sm text-[var(--product-name-color)] group-hover:text-[var(--product-name-color-hover)] transition-colors",style:y({"--product-name-color":t.storeForm.productNameColor,"--product-name-color-hover":t.storeForm.productHoverNameColor})},v(g.name),5),n("div",qt,[g.allowVariations.name.toLowerCase()=="yes"?(o(),_(S,{key:0,type:"success",text:g.totalVisibleVariations+(g.totalVisibleVariations==1?" option":" options"),showDot:!1},null,8,["text"])):(o(),s(w,{key:1},[g.isFree.status?(o(),_(S,{key:0,type:"success",text:"free",showDot:!1})):C("",!0),g.onSale.status?(o(),_(S,{key:1,type:"success",text:"on sale",showDot:!1})):C("",!0),g.isFree.status?C("",!0):(o(),s("span",{key:2,class:"text-sm text-[var(--product-price-color)] group-hover:text-[var(--product-price-color-hover)] transition-colors",style:y({"--product-price-color":t.storeForm.productPriceColor,"--product-price-color-hover":t.storeForm.productHoverPriceColor})},v(g.unitPrice.amountWithCurrency),5))],64))])]),n("div",null,[i(N,{name:"fade-1",mode:"out-in"},{default:f(()=>[t.isAddedToCart(g.id)?(o(),s("div",zt,[n("div",Gt,[t.hasQuantity(g.id)?(o(),s("svg",{key:0,onClick:P(()=>t.decreaseQuantity(g.id),["stop"]),class:"w-5 h-5 flex-shrink-0 text-red-500 cursor-pointer hover:opacity-90 active:opacity-80 active:scale-90 transition-all",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},r[2]||(r[2]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1)]),8,Kt)):C("",!0),n("div",null,[ct(n("input",{min:"0",onClick:r[0]||(r[0]=P(()=>{},["stop"])),type:"number",placeholder:"...",onInput:r[1]||(r[1]=D=>e.validateQuantityInput(D)),"onUpdate:modelValue":D=>c.mappedCartProducts[g.id].quantity=D,style:y({"--product-quantity-color":t.storeForm.productQuantityColor,"--product-quantity-color-hover":t.storeForm.productHoverQuantityColor}),class:"w-10 border-0 rounded-full !ring-gray-300 remove-arrow p-0 bg-transparent text-center text-sm text-[var(--product-quantity-color)] group-hover:text-[var(--product-quantity-color-hover)] transition-colors"},null,44,Xt),[[mt,c.mappedCartProducts[g.id].quantity]])]),(o(),s("svg",{onClick:P(()=>t.increaseQuantity(g.id),["stop"]),class:"w-5 h-5 flex-shrink-0 text-green-500 cursor-pointer hover:opacity-90 active:opacity-80 active:scale-90 transition-all",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},r[3]||(r[3]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1)]),8,Yt))]),(o(),s("svg",{onClick:P(()=>t.removeFromCart(g.id),["stop"]),class:"w-5 h-5 flex-shrink-0 text-gray-300 cursor-pointer hover:opacity-90 active:opacity-80 active:scale-90 transition-all",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},r[4]||(r[4]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"},null,-1)]),8,Jt))])):(o(),_(F,{key:1,size:"xs",type:"custom",action:()=>t.addToCart(g),bgColor:t.storeForm.secondaryButtonColor,textColor:t.storeForm.secondaryButtonTextColor},{default:f(()=>[n("span",te,v(g.allowVariations.name.toLowerCase()=="yes"?"Select option":"Add to cart"),1)]),_:2},1032,["action","bgColor","textColor"]))]),_:2},1024)])],14,Zt))),128)):(o(),s("div",ee,[n("div",{class:"w-full flex justify-between items-center p-4 rounded-lg",style:y("color:"+t.storeForm.textColor+";background:"+t.storeForm.bgColor+";")},[i(N,{name:"fade-1",mode:"out-in"},{default:f(()=>[t.isSearchingNonSelectedProducts?(o(),s("span",{key:0,class:"text-xs inline-block",style:y("color:"+t.storeForm.textColor+";")},"Searching...",4)):(o(),s("span",{key:1,class:"text-xs inline-block",style:y("color:"+t.storeForm.textColor+";")},v(t.hasCartProducts?"selected every product":"No products found"),5))]),_:1}),!t.isSearchingNonSelectedProducts&&t.hasSearchTerm?(o(),_(F,{key:0,size:"xs",type:"custom",action:t.clearSearch,bgColor:t.storeForm.secondaryButtonColor,textColor:t.storeForm.secondaryButtonTextColor},{default:f(()=>[n("div",{class:"flex items-center space-x-1",style:y("color:"+t.storeForm.textColor+";")},r[5]||(r[5]=[n("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z","clip-rule":"evenodd"})],-1),n("span",{class:"text-xs whitespace-nowrap"},"clear search",-1)]),4)]),_:1},8,["action","bgColor","textColor"])):C("",!0)],4)]))],64))])]),t.hasNonSelectedProducts?(o(),_(F,{key:0,size:"sm",class:"mt-4",type:"custom",disabled:!t.hasCartProducts,bgColor:t.storeForm.primaryButtonColor,textColor:t.storeForm.primaryButtonTextColor,action:()=>t.addSelectedToCart(M.hideModal)},{default:f(()=>r[6]||(r[6]=[L(" Add ")])),_:2},1032,["disabled","bgColor","textColor","action"])):C("",!0)]),trigger:f(M=>[ut(e.$slots,"trigger",{showModal:M.showModal},()=>[i(B,{size:"sm",class:"m-4",type:"custom",action:M.showModal,bgColor:t.storeForm.primaryButtonColor,textColor:t.storeForm.primaryButtonTextColor},{default:f(()=>r[9]||(r[9]=[n("span",{class:"ml-2"},"Add",-1)])),_:2},1032,["action","bgColor","textColor"])])]),_:3},8,["onShow"])}const oe=m(Rt,[["render",re]]),se={components:{CartTotals:U,ProductLines:J,NoProductLines:tt,AddProductModal:oe},data(){return{storeState:k(),shoppingCartState:x()}},computed:{storeForm(){return this.storeState.storeForm},hasCartProducts(){return this.shoppingCartState.hasCartProducts()},hasShoppingCartProducts(){return this.shoppingCartState.hasShoppingCartProducts},isInspectingShoppingCart(){return this.shoppingCartState.isInspectingShoppingCart}}};function ne(e,r,u,h,c,t){const d=a("ProductLines"),p=a("NoProductLines"),l=a("AddProductModal");return o(),s("div",{style:y("background:"+t.storeForm.cardSecondaryColor+";"),class:"md:max-w-lg mx-4 mb-4 md:mx-auto rounded-lg shadow-lg space-y-4 p-4 overflow-hidden"},[r[0]||(r[0]=n("p",{class:"font-bold p-4"},"Items",-1)),t.hasCartProducts&&(t.isInspectingShoppingCart||t.hasShoppingCartProducts)?(o(),_(d,{key:0})):(o(),_(p,{key:1,class:"border-t"})),i(l)],4)}const ae=m(se,[["render",ne]]),ie={methods:{navigateToStorefront(){this.$router.push({name:"storefront"})}}};function de(e,r,u,h,c,t){return o(),s("div",{onClick:r[0]||(r[0]=()=>t.navigateToStorefront()),class:"flex justify-center items-center space-x-2 bg-white/75 border border-white px-4 py-2 rounded-full cursor-pointer hover:opacity-90 hover:px-6 active:opacity-80 active:scale-90 transition-all duration-300"},r[1]||(r[1]=[n("svg",{class:"text-black w-4 h-4 sm:w-6 sm:h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M9.53 2.47a.75.75 0 0 1 0 1.06L4.81 8.25H15a6.75 6.75 0 0 1 0 13.5h-3a.75.75 0 0 1 0-1.5h3a5.25 5.25 0 1 0 0-10.5H4.81l4.72 4.72a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})],-1),n("span",{class:"font-bold text-xs whitespace-nowrap"},"Shop",-1)]))}const pe=m(ie,[["render",de]]),le={mixins:[I],components:{EmailInput:yt},data(){return{shoppingCartState:x()}},computed:{shoppingCartForm(){return this.shoppingCartState.shoppingCartForm}}};function ce(e,r,u,h,c,t){const d=a("EmailInput");return o(),_(d,{label:"Email",modelValue:t.shoppingCartForm.customer.email,"onUpdate:modelValue":r[0]||(r[0]=p=>t.shoppingCartForm.customer.email=p),errorText:e.getFormError("email")},null,8,["modelValue","errorText"])}const me=m(le,[["render",ce]]),ue={mixins:[I],components:{TextInput:R},data(){return{shoppingCartState:x()}},computed:{shoppingCartForm(){return this.shoppingCartState.shoppingCartForm}}};function he(e,r,u,h,c,t){const d=a("TextInput");return o(),_(d,{label:"Last Name",errorText:e.getFormError("lastName"),modelValue:t.shoppingCartForm.customer.lastName,"onUpdate:modelValue":r[0]||(r[0]=p=>t.shoppingCartForm.customer.lastName=p)},null,8,["errorText","modelValue"])}const Ce=m(ue,[["render",he]]),ge={mixins:[I],components:{TextInput:R},data(){return{shoppingCartState:x()}},computed:{shoppingCartForm(){return this.shoppingCartState.shoppingCartForm}}};function ye(e,r,u,h,c,t){const d=a("TextInput");return o(),_(d,{label:"First Name",errorText:e.getFormError("firstName"),modelValue:t.shoppingCartForm.customer.firstName,"onUpdate:modelValue":r[0]||(r[0]=p=>t.shoppingCartForm.customer.firstName=p)},null,8,["errorText","modelValue"])}const Se=m(ge,[["render",ye]]),_e={mixins:[I],components:{MobileNumberInput:St},data(){return{shoppingCartState:x()}},computed:{shoppingCartForm(){return this.shoppingCartState.shoppingCartForm}}};function ve(e,r,u,h,c,t){const d=a("MobileNumberInput");return o(),_(d,{label:"Mobile Number",modelValue:t.shoppingCartForm.customer.mobileNumber,"onUpdate:modelValue":r[0]||(r[0]=p=>t.shoppingCartForm.customer.mobileNumber=p),errorText:e.getFormError("ussdMobileNumber")},null,8,["modelValue","errorText"])}const fe=m(_e,[["render",ve]]),xe={components:{CustomerEmailTextInput:me,CustomerLastNameTextInput:Ce,CustomerFirstNameTextInput:Se,CustomerMobileNumberTextInput:fe},data(){return{storeState:k()}},computed:{storeForm(){return this.storeState.storeForm}}},Fe={class:"grid grid-cols-2 gap-4"};function we(e,r,u,h,c,t){const d=a("CustomerFirstNameTextInput"),p=a("CustomerLastNameTextInput"),l=a("CustomerMobileNumberTextInput"),S=a("CustomerEmailTextInput");return o(),s("div",{style:y("background:"+t.storeForm.cardSecondaryColor+";"),class:"md:max-w-lg mx-4 mb-4 md:mx-auto rounded-lg shadow-lg space-y-4 p-4"},[r[0]||(r[0]=n("p",{class:"font-bold"},"Customer",-1)),n("div",Fe,[i(d),i(p)]),i(l),i(S)],4)}const ke=m(xe,[["render",we]]),be={data(){return{storeState:k()}},computed:{storeForm(){return this.storeState.storeForm}}};function Te(e,r,u,h,c,t){return o(),s("h2",{class:"text-2xl md:text-3xl font-bold text-center mb-4",style:y("color:"+t.storeForm.textColor+";")}," Checkout ",4)}const Me=m(be,[["render",Te]]),De={mixins:[I],components:{TextInput:R,PrimaryButton:A,ShineEffect:$,LineSkeleton:O},data(){return{storeState:k(),shoppingCartState:x()}},watch:{"shoppingCartForm.promotionCode"(){this.shoppingCartState.inspectStoreShoppingCartWithDelay()}},computed:{storeForm(){return this.storeState.storeForm},shoppingCart(){return this.shoppingCartState.shoppingCart},hasShoppingCart(){return this.shoppingCartState.hasShoppingCart},promotionCode(){return this.shoppingCart.promotionCode},shoppingCartForm(){return this.shoppingCartState.shoppingCartForm},isInspectingShoppingCart(){return this.shoppingCartState.isInspectingShoppingCart}}},Pe={class:"space-y-4 px-4 pb-4"},Ie={class:"flex items-center space-x-4"};const Be={key:1,class:"p-2 border-l-4 border-green-300 bg-green-50"},Ne={class:"text-sm"};function Le(e,r,u,h,c,t){const d=a("TextInput"),p=a("LineSkeleton"),l=a("ShineEffect");return o(),s("div",Pe,[n("div",Ie,[i(d,{class:"w-full",placeholder:"Enter promotion code",modelValue:t.shoppingCartForm.promotionCode,"onUpdate:modelValue":r[0]||(r[0]=S=>t.shoppingCartForm.promotionCode=S),errorText:e.getFormError("promotionCode")},null,8,["modelValue","errorText"]),i(N,{name:"fade-1",mode:"out-in"},{default:f(()=>[C("",!0)]),_:1})]),t.isInspectingShoppingCart&&t.shoppingCartForm.promotionCode?(o(),_(l,{key:0},{default:f(()=>[i(p,{width:"w-1/3"})]),_:1})):t.hasShoppingCart&&t.promotionCode.applied?(o(),s("div",Be,[n("p",Ne,v(t.promotionCode.message),1)])):C("",!0)])}const $e=m(De,[["render",Le]]),Oe={components:{PromotionCode:$e}};function Ve(e,r,u,h,c,t){const d=a("PromotionCode");return o(),s("div",null,[i(d)])}const Ee=m(Oe,[["render",Ve]]),He={},Ae={class:"font-bold px-4"};function Re(e,r,u,h,c,t){return o(),s("p",Ae,"Promotion Code")}const je=m(He,[["render",Re]]),Ue={components:{PromotionCodeCardBody:Ee,PromotionCodeCardHeading:je},data(){return{storeState:k(),shoppingCartState:x()}},computed:{storeForm(){return this.storeState.storeForm},shoppingCart(){return this.shoppingCartState.shoppingCart},hasShoppingCart(){return this.shoppingCartState.hasShoppingCart}}};function We(e,r,u,h,c,t){const d=a("PromotionCodeCardHeading"),p=a("PromotionCodeCardBody");return t.hasShoppingCart&&t.shoppingCart.canApplyPromotionCode?(o(),s("div",{key:0,style:y("background:"+t.storeForm.cardSecondaryColor+";"),class:"md:max-w-lg mx-4 mb-4 md:mx-auto rounded-lg shadow-lg space-y-4 pt-4 overflow-hidden"},[i(d),i(p)],4)):C("",!0)}const Ze=m(Ue,[["render",We]]),Qe={components:{PrimaryButton:A,CartTotals:U},data(){return{storeState:k(),shoppingCartState:x()}},computed:{storeForm(){return this.storeState.storeForm},hasCartProducts(){return this.shoppingCartState.hasCartProducts()},isCreatingOrder(){return this.shoppingCartState.isCreatingOrder},hasShoppingCartProducts(){return this.shoppingCartState.hasShoppingCartProducts},isInspectingShoppingCart(){return this.shoppingCartState.isInspectingShoppingCart},isInspectingShoppingCart(){return this.shoppingCartState.isInspectingShoppingCart}},methods:{createStoreOrder(){this.shoppingCartState.createStoreOrder()}}},qe={class:"pb-6 px-6 mt-8"};function ze(e,r,u,h,c,t){const d=a("CartTotals"),p=a("PrimaryButton");return t.hasCartProducts&&(t.isInspectingShoppingCart||t.hasShoppingCartProducts)?(o(),s("div",{key:0,style:y("background:"+t.storeForm.cardSecondaryColor+";"),class:"md:max-w-lg mx-4 mb-4 md:mx-auto rounded-lg shadow-lg"},[r[0]||(r[0]=n("p",{class:"font-bold p-4"},"Order Summary",-1)),i(d),n("div",qe,[i(p,{type:"custom",loading:t.isCreatingOrder,action:t.createStoreOrder,disabled:!t.hasShoppingCartProducts,bgColor:t.storeForm.primaryButtonColor,textColor:t.storeForm.primaryButtonTextColor},{default:f(()=>[L(v(t.isInspectingShoppingCart?"...":"Place Order"),1)]),_:1},8,["loading","action","disabled","bgColor","textColor"])])],4)):C("",!0)}const Ge=m(Qe,[["render",ze]]),Ke={components:{ShineEffect:$,LineSkeleton:O,InputErrorMessage:_t},data(){return{storeState:k(),shoppingCartState:x()}},computed:{storeForm(){return this.storeState.storeForm},shoppingCart(){return this.shoppingCartState.shoppingCart},hasShoppingCart(){return this.shoppingCartState.hasShoppingCart},shoppingCartForm(){return this.shoppingCartState.shoppingCartForm},deliveryMethods(){return this.shoppingCartState.deliveryMethods},totalDeliveryMethods(){return this.shoppingCartState.totalDeliveryMethods},hasDeliveryMethods(){return this.shoppingCartState.hasDeliveryMethods},deliveryMethodTips(){return(((this.shoppingCart||{}).delivery||{}).method||{}).tips||[]},hasDeliveryMethodUnavailabilityReasons(){return this.deliveryMethodUnavailabilityReasons.length>0},deliveryMethodUnavailabilityReasons(){return(((this.shoppingCart||{}).delivery||{}).method||{}).unavailabilityReasons||[]},isInspectingShoppingCart(){return this.shoppingCartState.isInspectingShoppingCart},selectedDeliveryMethod(){return this.deliveryMethods.find(e=>e.id==this.shoppingCartForm.deliveryMethodId)}},methods:{showShoppingDeliveryMethods(){this.shoppingCartState.showShoppingDeliveryMethods()},itemClasses(e){return this.isFirstItem(e)?"pt-4 pb-2":this.isLastItem(e)?"pt-2 pb-4":"py-2"},isFirstItem(e){return e==0},isLastItem(e){return e==this.totalDeliveryMethods-1},usesFlatFee(e){return e.feeType.toLowerCase()=="flat fee"},usesPercentageFee(e){return e.feeType.toLowerCase()=="percentage fee"},usesFeeByDistance(e){return e.feeType.toLowerCase()=="fee by distance"},setDeliveryMethod(e){this.shoppingCartState.setDeliveryMethod(e)},isSelectedDeliveryMethod(e){return this.shoppingCartState.isSelectedDeliveryMethod(e)}},created(){this.showShoppingDeliveryMethods()}},Xe={key:0,class:"divide-y border-t"},Ye=["onClick"],Je={class:"flex items-center space-x-2"},tr={key:0,class:"w-6 h-6 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},er={key:1,class:"w-6 h-6 flex justify-center items-center"},rr={key:1,class:"flex items-center space-x-1 md:space-x-2"},or={class:"font-medium text-red-500 text-sm"},sr={key:1,class:"flex items-center space-x-1 md:space-x-2"},nr={class:"font-medium text-green-500 text-sm"};function ar(e,r,u,h,c,t){const d=a("LineSkeleton"),p=a("ShineEffect");return t.hasDeliveryMethods?(o(),s("div",Xe,[(o(!0),s(w,null,T(t.deliveryMethods,(l,S)=>(o(),s("div",{key:S,onClick:P(F=>t.setDeliveryMethod(l),["stop"]),style:y({"--product-background":t.storeForm.productBgColor,"--product-background-hover":t.storeForm.productHoverBgColor}),class:H([t.itemClasses(S),"flex justify-between items-center pl-4 pr-2 cursor-pointer bg-[var(--product-background)] hover:bg-[var(--product-background-hover)] transition-colors group"])},[n("div",Je,[i(N,{name:"fade-1",mode:"out-in"},{default:f(()=>[t.isSelectedDeliveryMethod(l)?(o(),s("svg",tr,r[0]||(r[0]=[n("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"},null,-1)]))):(o(),s("div",er,r[1]||(r[1]=[n("div",{class:"w-4 h-4 bg-gray-100 border rounded-full"},null,-1)])))]),_:2},1024),n("div",null,[n("p",{class:"font-bold text-sm text-[var(--product-name-color)] group-hover:text-[var(--product-name-color-hover)] transition-colors",style:y({"--product-name-color":t.storeForm.productNameColor,"--product-name-color-hover":t.storeForm.productHoverNameColor})},v(l.name),5),l.chargeFee?(o(),s(w,{key:0},[t.usesFlatFee(l)?(o(),s("p",{key:0,class:"text-sm text-[var(--product-name-color)] group-hover:text-[var(--product-name-color-hover)] transition-colors",style:y({"--product-name-color":t.storeForm.productNameColor,"--product-name-color-hover":t.storeForm.productHoverNameColor})}," Flat fee of "+v(l.flatFeeRate.amountWithCurrency),5)):t.usesPercentageFee(l)?(o(),s("p",{key:1,class:"text-sm text-[var(--product-name-color)] group-hover:text-[var(--product-name-color-hover)] transition-colors",style:y({"--product-name-color":t.storeForm.productNameColor,"--product-name-color-hover":t.storeForm.productHoverNameColor})}," Percentage fee of "+v(l.percentageFeeRate.valueSymbol),5)):C("",!0)],64)):C("",!0),l.qualifyOnMinimumGrandTotal?(o(),s("p",{key:1,class:"text-sm text-[var(--product-name-color)] group-hover:text-[var(--product-name-color-hover)] transition-colors",style:y({"--product-name-color":t.storeForm.productNameColor,"--product-name-color-hover":t.storeForm.productHoverNameColor})}," Minimum order amount is "+v(l.minimumGrandTotal.amountWithCurrency),5)):C("",!0),n("p",{class:"text-sm text-[var(--product-name-color)] group-hover:text-[var(--product-name-color-hover)] transition-colors",style:y({"--product-name-color":t.storeForm.productNameColor,"--product-name-color-hover":t.storeForm.productHoverNameColor})},v(l.description),5)])])],14,Ye))),128)),(o(!0),s(w,null,T(t.deliveryMethodUnavailabilityReasons,(l,S)=>(o(),s("div",{key:S,class:"py-2 px-4"},[t.isInspectingShoppingCart?(o(),_(p,{key:0},{default:f(()=>[i(d,{width:"w-1/3"})]),_:1})):(o(),s("div",rr,[r[2]||(r[2]=n("svg",{class:"w-4 h-4 md:w-6 md:h-6 flex-shrink-0 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1)),n("span",or,v(l),1)]))]))),128)),t.hasDeliveryMethodUnavailabilityReasons?C("",!0):(o(!0),s(w,{key:0},T(t.deliveryMethodTips,(l,S)=>(o(),s("div",{key:S,class:"py-2 px-4"},[t.isInspectingShoppingCart?(o(),_(p,{key:0},{default:f(()=>[i(d,{width:"w-1/3"})]),_:1})):(o(),s("div",sr,[r[3]||(r[3]=n("svg",{class:"w-4 h-4 md:w-6 md:h-6 flex-shrink-0 text-green-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1)),n("span",nr,v(l),1)]))]))),128))])):C("",!0)}const ir=m(Ke,[["render",ar]]),dr={components:{GoogleMaps:vt,AddressInput:ft},data(){return{shoppingCartState:x()}},computed:{deliveryMethod(){return this.shoppingCartState.deliveryMethod},shoppingCartForm(){return this.shoppingCartState.shoppingCartForm},deliveryMethodRequiresSchedule(){return this.deliveryMethod&&this.deliveryMethod.setSchedule},shoppingCartForm(){return this.shoppingCartState.shoppingCartForm}},methods:{setAddress(e){console.log("address"),console.log(e),this.shoppingCartState.setAddress(e),this.inspectStoreShoppingCartWithDelay()},unsetAddress(){this.shoppingCartState.setAddress(null),this.inspectStoreShoppingCartWithDelay()},inspectStoreShoppingCartWithDelay(){return this.shoppingCartState.inspectStoreShoppingCartWithDelay()}}};function pr(e,r,u,h,c,t){const d=a("AddressInput");return o(),s("div",null,[i(d,{title:"Destination",pinLocationOnMap:!0,onOnDeleted:t.unsetAddress,onOnValidated:t.setAddress,subtitle:"Add the address to deliver your order"},null,8,["onOnDeleted","onOnValidated"])])}const lr=m(dr,[["render",pr]]),cr={mixins:[xt],components:{ShineEffect:$,LineSkeleton:O,DeliveryDatePicker:Ft,DeliveryTimePicker:wt},data(){return{scheduleOptions:{},showScheduleSummary:!0,isLoadingDateOptions:!1,isLoadingTimeOptions:!1,shoppingCartState:x()}},watch:{"shoppingCartForm.deliveryDate"(){this.inspectStoreShoppingCartWithDelay()},"shoppingCartForm.deliveryTimeslot"(){this.inspectStoreShoppingCartWithDelay()}},computed:{shoppingCart(){return this.shoppingCartState.shoppingCart},deliveryMethod(){return this.shoppingCartState.deliveryMethod},shoppingCartForm(){return this.shoppingCartState.shoppingCartForm},isInspectingShoppingCart(){return this.shoppingCartState.isInspectingShoppingCart},scheduleKeyPoints(){return this.scheduleOptions.scheduleKeyPoints||[]},deliveryMethodRequiresSchedule(){return this.deliveryMethod&&this.deliveryMethod.setSchedule},deliveryMethodScheduleIncompleteReasons(){return((this.shoppingCart||{}).schedule||{}).incompleteReasons||[]}},methods:{inspectStoreShoppingCartWithDelay(){return this.shoppingCartState.inspectStoreShoppingCartWithDelay()},setScheduleOptions(e){this.scheduleOptions=e},onIsLoadingDateOptions(e){this.shoppingCartForm.deliveryDate=null,this.shoppingCartForm.deliveryTimeslot=null,this.isLoadingDateOptions=e},onIsLoadingTimeOptions(e){this.shoppingCartForm.deliveryTimeslot=null,this.isLoadingTimeOptions=e},toggleScheduleSummary(){this.showScheduleSummary=!this.showScheduleSummary,this.shoppingCartForm.deliveryDate=null,this.shoppingCartForm.deliveryTimeslot=null}}},mr={key:0,class:"border-t-2 bg-gray-50 space-y-4 p-4"},ur={class:"space-y-2"},hr={class:"text-sm text-gray-500"},Cr={key:0},gr={key:1,class:"space-y-2 border-t border-dashed pt-4"},yr={key:0,class:"text-sm"},Sr={class:"font-bold"},_r={key:1,class:"text-sm"},vr={class:"font-bold"},fr={key:1,class:"flex items-center space-x-1 md:space-x-2"},xr={class:"font-medium text-red-500 text-xs md:text-sm"};function Fr(e,r,u,h,c,t){const d=a("DeliveryDatePicker"),p=a("DeliveryTimePicker"),l=a("LineSkeleton"),S=a("ShineEffect");return t.deliveryMethodRequiresSchedule?(o(),s("div",mr,[n("div",ur,[r[2]||(r[2]=n("p",{class:"font-bold text-md"},"Schedule",-1)),n("div",null,[n("p",hr,[t.deliveryMethod.scheduleType=="date"?(o(),s(w,{key:0},[L("Specify the delivery date for your order")],64)):t.deliveryMethod.scheduleType=="date and time"?(o(),s(w,{key:1},[L("Specify the delivery date and time for your order")],64)):C("",!0)])])]),n("div",null,[i(d,{deliveryMethod:t.deliveryMethod,onIsLoading:t.onIsLoadingDateOptions,onScheduleOptions:t.setScheduleOptions,modelValue:t.shoppingCartForm.deliveryDate,"onUpdate:modelValue":r[0]||(r[0]=F=>t.shoppingCartForm.deliveryDate=F)},null,8,["deliveryMethod","onIsLoading","onScheduleOptions","modelValue"])]),t.shoppingCartForm.deliveryDate&&!c.isLoadingDateOptions&&t.deliveryMethod.scheduleType=="date and time"?(o(),s("div",Cr,[i(p,{class:"w-full",deliveryMethod:t.deliveryMethod,onIsLoading:t.onIsLoadingTimeOptions,onScheduleOptions:t.setScheduleOptions,modelValue:t.shoppingCartForm.deliveryTimeslot,"onUpdate:modelValue":r[1]||(r[1]=F=>t.shoppingCartForm.deliveryTimeslot=F),deliveryDate:t.shoppingCartForm.deliveryDate},null,8,["deliveryMethod","onIsLoading","onScheduleOptions","modelValue","deliveryDate"])])):C("",!0),t.shoppingCartForm.deliveryDate||t.shoppingCartForm.deliveryTimeslot?(o(),s("div",gr,[t.shoppingCartForm.deliveryDate?(o(),s("div",yr,[r[3]||(r[3]=n("span",null,"Delivery date: ",-1)),n("span",Sr,v(t.shoppingCartForm.deliveryDate)+" ("+v(e.customFormattedDate(t.shoppingCartForm.deliveryDate,"ddd"))+") ",1)])):C("",!0),t.shoppingCartForm.deliveryTimeslot?(o(),s("div",_r,[r[4]||(r[4]=n("span",null,"Delivery time: ",-1)),n("span",vr,v(t.shoppingCartForm.deliveryTimeslot),1)])):C("",!0)])):C("",!0),(o(!0),s(w,null,T(t.deliveryMethodScheduleIncompleteReasons,(F,B)=>(o(),s("div",{key:B},[t.isInspectingShoppingCart?(o(),_(S,{key:0},{default:f(()=>[i(l,{width:"w-1/3"})]),_:1})):(o(),s("div",fr,[r[5]||(r[5]=n("svg",{class:"w-4 h-4 md:w-6 md:h-6 flex-shrink-0 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1)),n("span",xr,v(F),1)]))]))),128))])):C("",!0)}const wr=m(cr,[["render",Fr]]),kr={components:{DeliveryMethods:ir,DeliveryMethodMap:lr,DeliveryMethodScedule:wr}};function br(e,r,u,h,c,t){const d=a("DeliveryMethods"),p=a("DeliveryMethodScedule"),l=a("DeliveryMethodMap");return o(),s("div",null,[i(d),i(p),i(l)])}const Tr=m(kr,[["render",br]]),Mr={},Dr={class:"font-bold px-4"};function Pr(e,r,u,h,c,t){return o(),s("p",Dr,"Delivery")}const Ir=m(Mr,[["render",Pr]]),Br={components:{CheckoutCardBody:et,DeliveryMethodsCardBody:Tr,DeliveryMethodsCardHeading:Ir},data(){return{storeState:k()}},computed:{storeForm(){return this.storeState.storeForm}}};function Nr(e,r,u,h,c,t){const d=a("DeliveryMethodsCardHeading"),p=a("DeliveryMethodsCardBody");return o(),s("div",{style:y("background:"+t.storeForm.cardSecondaryColor+";"),class:"md:max-w-lg mx-4 mb-4 md:mx-auto rounded-lg shadow-lg space-y-4 pt-4 overflow-hidden"},[i(d),i(p)],4)}const Lr=m(Br,[["render",Nr]]),$r={components:{TipsCard:At,ItemsCard:ae,StoreLogo:rt,StoreName:ot,CheckoutHeading:Me,GrandTotal:st,StoreBanner:nt,ReturnToShop:pe,CustomerCard:ke,CreateStoreLink:at,PromotionCodeCard:Ze,OrderSummaryCard:Ge,StoreFooterMenus:it,StoreDescription:dt,CustomizeDrawer:pt,DeliveryMethodsCard:Lr,ShoppingCartDrawer:lt},data(){return{storeState:k(),shoppingCartState:x()}},watch:{"shoppingCartState.mappedCartProducts":{handler(e){Object.keys(this.mappedCartProducts).length===0&&this.closeShoppingCartDrawer(),this.isInspectingShoppingCart||this.inspectStoreShoppingCartWithDelay()},deep:!0}},computed:{store(){return this.storeState.store},storeForm(){return this.storeState.storeForm},shoppingCart(){return this.shoppingCartState.shoppingCart},mappedCartProducts(){return this.shoppingCartState.mappedCartProducts}},methods:{setStoreForm(){return this.storeState.setStoreForm(this.store)},setShoppingCartForm(){return this.shoppingCartState.setShoppingCartForm()},closeShoppingCartDrawer(){return this.shoppingCartState.closeShoppingCartDrawer()},inspectStoreShoppingCartWithDelay(){return this.shoppingCartState.inspectStoreShoppingCartWithDelay()}},created(){this.setStoreForm(),this.setShoppingCartForm()}},Or={class:"w-full max-w-lg mx-auto mt-20 mb-4"},Vr={class:"w-full max-w-lg mx-auto mb-4 flex justify-center items-center space-x-4"};function Er(e,r,u,h,c,t){const d=a("StoreBanner"),p=a("StoreLogo"),l=a("StoreName"),S=a("CheckoutHeading"),F=a("GrandTotal"),B=a("ReturnToShop"),V=a("CustomerCard"),M=a("ItemsCard"),g=a("DeliveryMethodsCard"),b=a("TipsCard"),D=a("PromotionCodeCard"),W=a("OrderSummaryCard"),Z=a("StoreFooterMenus"),Q=a("CreateStoreLink"),q=a("CustomizeDrawer"),z=a("ShoppingCartDrawer");return o(),s("div",{class:"pb-20",style:y("background:"+t.storeForm.bgColor+";")},[i(d),n("div",Or,[i(p),i(l,{size:"text-base sm:text-lg"}),i(S)]),n("div",Vr,[i(F),i(B)]),i(V),i(M),i(g),i(b),i(D),i(W),i(Z),i(Q),i(q),i(z)],4)}const Mo=m($r,[["render",Er]]);export{Mo as default};
