import{F as f}from"./FormMixin-B-agdKFQ.js";import{B as x}from"./Button-D_M2G9RN.js";import{u as y,c as i,b as t,t as d,d as P,f as c,F as l,n as u,h as m,k as b,r as S,o as r}from"./app-B8gd3Cxn.js";import{u as w}from"./store-store-eQ26V74-.js";import{S as v}from"./SpinningLoader-CZqr6WN5.js";import{g as _}from"./api-repository-Ccg06KIS.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./form-store-Dc8OgXqt.js";import"./UtilsMixin-CBwmyCNB.js";import"./cloneDeep-BSUglKOW.js";const k={mixins:[f],components:{Button:x,SpinningLoader:v},data(){return{status:null,storeHref:null,transactionHref:null,transactionDescription:null,pagination:null,pricingPlans:[],pricingPlanIndex:null,apiState:y(),storeState:w(),isLoadingTransaction:!1,isGeneratingPaymentLink:!1,activePricingPlan:"monthly",freePlanFeatures:["WhatsApp order form","Manual payment methods","Up to 20 images"]}},computed:{store(){return this.storeState.store},isLoadingStore(){return this.storeState.isLoadingStore},isShowingMonthlyPricingPlans(){return this.activePricingPlan=="monthly"},isShowingAnnualPricingPlans(){return this.activePricingPlan=="annually"},filteredPricingPlans(){return this.isShowingMonthlyPricingPlans?this.pricingPlans.filter(e=>e.metadata.storeSubscription.frequency=="month"):this.pricingPlans.filter(e=>e.metadata.storeSubscription.frequency=="year")}},methods:{changePricingPlan(e){this.activePricingPlan=e},showTransaction(){this.isLoadingTransaction=!0;let s={_relationships:["owner","paymentMethod","store","aiAssistant"].join(",")};_(this.transactionHref,s).then(a=>{a.status==200&&(this.pagination=a.data,this.pricingPlans=this.pagination.data),this.isLoadingTransaction=!1}).catch(a=>{this.isLoadingTransaction=!1,this.setServerFormErrors(a)})}},created(){this.showTransaction(),this.status=this.$route.query.status,this.storeHref=this.$route.query.storeHref,this.transactionHref=this.$route.query.transactionHref,this.status=="successful"?this.transactionDescription="Your payment was successful":this.transactionDescription="Your payment failed"}},T={class:"min-h-screen relative"},F={class:"z-10 pt-32 px-20 relative"},M={class:"flex flex-col items-center mb-10"},A={class:"w-96 text-sm text-gray-500 text-center"},H={key:0,class:"flex justify-center"},j={class:"flex justify-center mb-4"},q={class:"w-fit flex justify-center items-center bg-white py-0.5 px-1 border border-blue-300 rounded-full mb-4 relative"},B={class:"flex justify-center space-x-4 mb-8"},C={class:"animated-border-blue w-80 bg-white py-4 px-4 shadow-sm rounded-xl"},D={class:"text-3xl text-gray-700 font-bold space-x-1 mb-4"},z={class:"text-sm text-gray-500 font-normal"},N={class:"bg-gray-50 border p-4 rounded-lg"},V={class:"text-gray-500 text-xs"};function E(e,s,a,Y,o,n){const g=S("SpinningLoader");return r(),i("div",T,[t("div",F,[t("div",M,[s[2]||(s[2]=t("h1",{class:"flex flex-col items-center space-y-2 text-xl text-gray-700 font-semibold mb-4"},[t("span",{class:"text-4xl"},"ðŸŽ‰"),t("span",null,"Transaction Status")],-1)),t("p",A,d(o.transactionDescription),1)]),o.isLoadingTransaction?(r(),i("div",H,[P(g)])):c("",!0),o.isLoadingTransaction?c("",!0):(r(),i(l,{key:1},[t("div",j,[t("div",q,[t("div",{class:u([n.isShowingMonthlyPricingPlans?"-translate-x-12":"translate-x-12","absolute w-24 bg-blue-500 h-6 rounded-full transition-transform duration-500 ease-in-out"])},null,2),t("div",{onClick:s[0]||(s[0]=()=>n.changePricingPlan("monthly")),class:u([n.isShowingMonthlyPricingPlans?"text-white":"text-gray-500","z-10 py-1 px-4 rounded-full w-24 text-sm text-center cursor-pointer transition-transform duration-500 ease-in-out"])},"Monthly",2),t("div",{onClick:s[1]||(s[1]=()=>n.changePricingPlan("annually")),class:u([n.isShowingAnnualPricingPlans?"text-white":"text-gray-500","z-10 py-1 px-4 rounded-full w-24 text-sm text-center cursor-pointer transition-transform duration-500 ease-in-out"])},"Annually",2)])]),s[7]||(s[7]=t("div",{class:"flex justify-center mb-8"},[t("img",{src:"/images/store-rooftop.png",class:"w-96"})],-1)),t("div",B,[t("div",C,[s[5]||(s[5]=t("h1",{class:"text-xl text-gray-700 font-bold mb-2"}," Free Plan ",-1)),s[6]||(s[6]=t("h2",{class:"text-gray-500 text-sm mb-4"}," Free store access with limited features ",-1)),t("h2",D,[s[3]||(s[3]=t("span",null,"$0.00",-1)),s[4]||(s[4]=t("span",{class:"text-sm text-gray-500 font-normal"},"/",-1)),t("span",z,[n.isShowingMonthlyPricingPlans?(r(),i(l,{key:0},[m("month")],64)):n.isShowingAnnualPricingPlans?(r(),i(l,{key:1},[m("year")],64)):c("",!0)])]),t("div",N,[(r(!0),i(l,null,b(o.freePlanFeatures,(p,h)=>(r(),i("div",{key:h},[t("span",V,d(p),1)]))),128))])])])],64))]),s[8]||(s[8]=t("img",{src:"/images/clouds.png",class:"absolute top-32"},null,-1))])}const Z=L(k,[["render",E]]);export{Z as default};
