import{A as y}from"./Alert-BLAvGLA1.js";import{F as x}from"./FormMixin-BgiMcnBc.js";import{u as G}from"./store-store-53JUHgLt.js";import{T as L}from"./TextHeader-CVudhav3.js";import{g as p}from"./api-repository-eCe_KSr2.js";import{S as Q}from"./ShineEffect-D7TUGluv.js";import{L as V}from"./LineSkeleton-ChTjItNl.js";import{P as H}from"./PrimaryButton-DL2Xx4v6.js";import{u as C}from"./form-store-DZR6yWnT.js";import{S as B,U as T}from"./UserStoreSubscriptionCountdown-DDzTbHYj.js";import{c as n,b as s,e as c,w as d,t as _,f as u,F as j,d as h,r,o as e,h as E}from"./app-D0p-ECFe.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UtilsMixin-CbFS-0FV.js";import"./SpinningLoader-DgFsswht.js";import"./Countdown-bLPu5dVH.js";import"./MoreInfoPopover-D2BmJvwS.js";import"./BasicModal-DQw5sCx9.js";const U={mixins:[x],components:{Alert:y,TextHeader:L,ShineEffect:Q,LineSkeleton:V,PrimaryButton:H,StoreQuickStartGuideProgress:B,UserStoreSubscriptionCountdown:T},data(){return{storeState:G(),notificationState:C()}},watch:{"$route.params.store_href"(o,i){this.showStore()},"storeState.shouldUpdate"(o,i){this.storeState.setShouldUpdate(!1),this.showStore()}},beforeRouteUpdate(o,i){this.showQuickStartGuide()},computed:{store(){return this.storeState.store},isLoadingStore(){return this.storeState.isLoadingStore},quickStartGuide(){return this.storeState.quickStartGuide},activeSubscription(){return this.store._relationships.activeSubscription},completedQuickStartGuide(){return this.storeState.completedQuickStartGuide}},methods:{navigateToStoreHome(){this.$router.push({name:"show-store-home",params:{store_href:this.store._links.showStore}})},showStore(){this.storeState.setIsLoadingStore(!0);let o=["subscriptions"],S={_relationships:["address","storeRollingNumbers","activeSubscription","userStoreAssociation"].join(","),_countable_relationships:o.join(",")};p(this.$route.params.store_href,S).then(a=>{a.status==200&&a.data.exists&&(this.storeState.setStore(a.data.store),this.showQuickStartGuide()),this.storeState.setIsLoadingStore(!1)}).catch(a=>{this.storeState.setIsLoadingStore(!1),this.setServerFormErrors(a)})},showQuickStartGuide(){this.storeState.setIsLoadingQuickStartGuide(!0),p(this.store._links.showStoreQuickStartGuide).then(o=>{o.status==200&&this.storeState.setQuickStartGuide(o.data),this.storeState.setIsLoadingQuickStartGuide(!1)}).catch(o=>{this.storeState.setIsLoadingQuickStartGuide(!1),this.setServerFormErrors(o)})}},created(){this.showStore()}},A={class:"px-16 pt-8"},F={key:0,class:"grid grid-cols-2 pb-4 border-b border-dashed"},I={class:"col-span-1"},M={key:3,class:"mt-2"},N={key:0,class:"flex justify-between items-end bg-white shadow-lg rounded-lg border py-4 px-8 mt-4"},R={class:"space-y-3"},q=s("h1",{class:"text-lg font-bold"},"Quick Start Guide",-1),z=s("p",{class:"text-sm text-gray-500"},"Let's continue setting up your store",-1),D=s("span",{class:"mr-2"},"Continue",-1),W=s("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"})],-1),Z={class:"bg-white shadow-lg rounded-lg border border-b-2 p-4 mt-4"},J={class:"col-span-1 flex justify-end items-end"},K=s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"},null,-1),O=[K];function X(o,i,S,a,Y,t){const l=r("LineSkeleton"),m=r("ShineEffect"),f=r("TextHeader"),w=r("StoreQuickStartGuideProgress"),k=r("PrimaryButton"),g=r("UserStoreSubscriptionCountdown"),v=r("router-view");return e(),n("div",A,[t.store?(e(),n("div",F,[s("div",I,[t.isLoadingStore?(e(),c(m,{key:0},{default:d(()=>[h(l,{width:"w-32",height:"h-4"})]),_:1})):(e(),c(f,{key:1},{default:d(()=>[E(_(t.store._attributes.nameWithEmoji),1)]),_:1})),t.isLoadingStore?(e(),c(m,{key:2,class:"mt-4"},{default:d(()=>[h(l,{width:"w-40"})]),_:1})):t.store.description?(e(),n("p",M,_(t.store.description),1)):u("",!0),o.$route.name!="show-store-home"?(e(),n(j,{key:4},[t.completedQuickStartGuide?u("",!0):(e(),n("div",N,[s("div",R,[q,z,t.isLoadingStore?(e(),c(m,{key:0},{default:d(()=>[h(l,{width:"w-32",height:"h-4"})]),_:1})):(e(),c(w,{key:1}))]),s("div",null,[h(k,{action:t.navigateToStoreHome,class:"w-40",size:"xs",type:"success"},{default:d(()=>[D,W]),_:1},8,["action"])])])),s("div",Z,[h(g)])],64)):u("",!0)]),s("div",J,[(e(),n("svg",{onClick:i[0]||(i[0]=(...b)=>t.navigateToStoreHome&&t.navigateToStoreHome(...b)),class:"w-8 h-8 mr-4 cursor-pointer hover:opacity-80 active:opacity-50 active:scale-90",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},O))])])):u("",!0),t.store?(e(),c(v,{key:t.store.id})):u("",!0)])}const _t=P(U,[["render",X]]);export{_t as default};
