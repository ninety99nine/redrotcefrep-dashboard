import{U as B,d as v}from"./UtilsMixin-CBwmyCNB.js";import{c as h,i as N}from"./cloneDeep-BSUglKOW.js";import{A as H}from"./Alert-DIJDJioT.js";import{F as Q}from"./FormMixin-ClKE1ojy.js";import{u as R,c,b as r,d as i,w as n,F as V,e as m,f as l,n as w,k as z,h as f,t as g,r as u,o as a}from"./app-BcSPA593.js";import{u as G}from"./store-store-DF7fWTGb.js";import{T as j}from"./TextInput-C76qkVLB.js";import{I as q}from"./InputTags-BhZ-Zjk-.js";import{T as J}from"./TextHeader-C1e96a4g.js";import{M as Z}from"./MoneyInput-Wh-TQdB_.js";import{B as K}from"./BackButton-XM_8s1w-.js";import{N as X}from"./NumberInput-BsWTt7ya.js";import{S as _}from"./SelectInput-DkHOwNfR.js";import{D as $}from"./Datepicker-BNUg_fY_.js";import{C as ee}from"./ConfirmModal-DlEfkiYJ.js";import{S as te}from"./ShineEffect-CrLGYLGZ.js";import{T as oe}from"./TextareaInput-CgxGmlPq.js";import{P as se}from"./PrimaryButton-XzNrM-C-.js";import{L as re}from"./LineSkeleton-Ipni_ZGT.js";import{S as ie}from"./SpinningLoader-DjKpE0mV.js";import{B as ae}from"./BackdropLoader-BinkB9zG.js";import{S as ne}from"./SelectInputTags-1I3lY23L.js";import{M as le}from"./MoreInfoPopover-CsC9waCN.js";import{T as me}from"./ToogleSwitch-DF5mWLE8.js";import{B as ue}from"./BadgeIndicator-3HslKB2j.js";import{F as de}from"./FormErrorMessages-CCE4g1uZ.js";import{g as fe,p as pe,a as ce,d as he}from"./api-repository-DGZ2q84F.js";import{_ as ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./form-store-BEfa8Mf9.js";import"./InputErrorMessage-BQBt7GbC.js";import"./vue3-tags-input.esm-0NA6tmos.js";const Te={mixins:[B,Q],components:{Alert:H,TextInput:j,TextHeader:J,MoneyInput:Z,InputTags:q,BackButton:K,NumberInput:X,SelectInput:_,Datepicker:$,ConfirmModal:ee,ShineEffect:te,TextareaInput:oe,PrimaryButton:se,SpinningLoader:ie,LineSkeleton:re,SelectInputTags:ne,MoreInfoPopover:le,BackdropLoader:ae,ToogleSwitch:me,BadgeIndicator:ue,FormErrorMessages:de},data(){return{form:{name:"",active:!0,description:"",offerDiscount:!1,discountType:"Percentage",discountPercentageRate:"50",discountFixedRate:"50.00",offerFreeDelivery:!1,activateUsingCode:!1,code:this.generateRandomNumber(4),activateUsingMinimumGrandTotal:!1,minimumGrandTotal:"50.00",activateUsingMinimumTotalProducts:!1,minimumTotalProducts:"2",activateUsingMinimumTotalProductQuantities:!1,minimumTotalProductQuantities:"2",activateUsingStartDatetime:!1,startDatetime:v().format("DD MMM YYYY"),activateUsingEndDatetime:!1,endDatetime:v().add(14,"day").format("DD MMM YYYY"),activateUsingHoursOfDay:!1,hoursOfDay:[],activateUsingDaysOfTheWeek:!1,daysOfTheWeek:[],activateUsingDaysOfTheMonth:!1,daysOfTheMonth:[],activateUsingMonthsOfTheYear:!1,monthsOfTheYear:[],activateUsingUsageLimit:!1,remainingQuantity:"100",activateForExistingCustomer:!1,activateForNewCustomer:!1},coupon:null,isDeleting:!1,originalForm:null,isSubmitting:!1,isLoadingCoupon:!1,apiState:R(),storeState:G(),hoursOfDay:[],daysOfTheMonth:[],daysOfTheWeek:[{text:"Monday"},{text:"Tuesday"},{text:"Wednesday"},{text:"Thursday"},{text:"Friday"},{text:"Saturday"},{text:"Sunday"}],monthsOfTheYear:[{text:"January"},{text:"February"},{text:"March"},{text:"April"},{text:"May"},{text:"June"},{text:"July"},{text:"August"},{text:"September"},{text:"October"},{text:"November"},{text:"December"}]}},watch:{"$route.params.coupon_href"(o,e){window.scrollTo(0,0),this.getCoupon()}},computed:{store(){return this.storeState.store},isCreating(){return this.$route.name==="create-store-coupon"},isEditting(){return this.$route.name==="show-store-coupon"},instructions(){return((this.coupon||{})._attributes||{}).instructions||[]},hasInstructions(){return this.totalInstructions>0},totalInstructions(){return this.instructions.length},formHasChanged(){var o=h(this.form),e=h(this.originalForm);return!N(o,e)},mustSaveChanges(){return this.isEditting&&this.formHasChanged&&!this.isLoadingCoupon&&!this.isSubmitting},mustCreate(){return this.isCreating&&this.formHasChanged&&!this.isLoadingCoupon&&!this.isSubmitting}},methods:{goBack(){this.$router.replace({name:"show-store-coupons",params:{store_href:this.store._links.showStore}})},populateHoursOfTheDay(){for(let o=0;o<24;o++)this.hoursOfDay.push({text:`${o<10?"0":""}${o}:00`})},populateDaysOfTheMonth(){for(let o=1;o<=31;o++)this.daysOfTheMonth.push({text:`${o<10?"0":""}${o}`})},setCouponFields(){this.form.name=this.coupon.name,this.form.active=this.coupon.active.status,this.form.description=this.coupon.description,this.form.offerDiscount=this.coupon.offerDiscount.status,this.form.discountType=this.coupon.discountType,this.form.discountPercentageRate=this.coupon.discountPercentageRate.value.toString(),this.form.discountFixedRate=this.covertToValidMoney(this.coupon.discountFixedRate.amountWithoutCurrency),this.form.offerFreeDelivery=this.coupon.offerFreeDelivery.status,this.form.activateUsingCode=this.coupon.activateUsingCode.status,this.form.code=this.coupon.code,this.form.activateUsingMinimumGrandTotal=this.coupon.activateUsingMinimumGrandTotal.status,this.form.minimumGrandTotal=this.covertToValidMoney(this.coupon.minimumGrandTotal.amountWithoutCurrency),this.form.activateUsingMinimumTotalProducts=this.coupon.activateUsingMinimumTotalProducts.status,this.form.minimumTotalProducts=this.coupon.minimumTotalProducts.toString(),this.form.activateUsingMinimumTotalProductQuantities=this.coupon.activateUsingMinimumTotalProductQuantities.status,this.form.minimumTotalProductQuantities=this.coupon.minimumTotalProductQuantities.toString(),this.form.activateUsingStartDatetime=this.coupon.activateUsingStartDatetime.status,this.form.startDatetime=v(this.coupon.startDatetime).format("DD MMM YYYY"),this.form.activateUsingEndDatetime=this.coupon.activateUsingEndDatetime.status,this.form.endDatetime=v(this.coupon.endDatetime).format("DD MMM YYYY"),this.form.activateUsingHoursOfDay=this.coupon.activateUsingHoursOfDay.status,this.form.hoursOfDay=this.coupon.hoursOfDay.map(o=>({text:o})),this.form.activateUsingDaysOfTheWeek=this.coupon.activateUsingDaysOfTheWeek.status,this.form.daysOfTheWeek=this.coupon.daysOfTheWeek.map(o=>({text:o})),this.form.activateUsingDaysOfTheMonth=this.coupon.activateUsingDaysOfTheMonth.status,this.form.daysOfTheMonth=this.coupon.daysOfTheMonth.map(o=>({text:o})),this.form.activateUsingMonthsOfTheYear=this.coupon.activateUsingMonthsOfTheYear.status,this.form.monthsOfTheYear=this.coupon.monthsOfTheYear.map(o=>({text:o})),this.form.activateUsingUsageLimit=this.coupon.activateUsingUsageLimit.status,this.form.remainingQuantity=this.coupon.remainingQuantity.toString(),this.form.activateForExistingCustomer=this.coupon.activateForExistingCustomer.status,this.form.activateForNewCustomer=this.coupon.activateForNewCustomer.status,this.originalForm=h(this.form)},getCoupon(){this.isLoadingCoupon=!0,fe(this.$route.params.coupon_href).then(o=>{o.status==200&&o.data.exists&&(this.coupon=o.data.coupon,this.setCouponFields()),this.isLoadingCoupon=!1}).catch(o=>{this.isLoadingCoupon=!1,this.setServerFormErrors(o)})},parseForm(){var o=h(this.form);return o.hoursOfDay=o.hoursOfDay.map(e=>e.text),o.daysOfTheWeek=o.daysOfTheWeek.map(e=>e.text),o.daysOfTheMonth=o.daysOfTheMonth.map(e=>e.text),o.monthsOfTheYear=o.monthsOfTheYear.map(e=>e.text),o},createCoupon(){if(this.form.offerDiscount==!1&&this.form.offerFreeDelivery==!1){this.setFormError("offerFreeDelivery","Specify an offer e.g discount or free delivery"),this.showUnsuccessfulNotification("Specify an offer e.g discount or free delivery");return}this.isSubmitting=!0,pe(this.apiState.apiHome._links.createCoupon,this.parseForm()).then(o=>{o.status==200&&(this.showSuccessfulNotification("Coupon created"),this.$router.push({name:"show-store-coupons",params:{store_href:this.store._links.showStore}}),window.scrollTo(0,0)),this.isSubmitting=!1}).catch(o=>{this.isSubmitting=!1,this.setServerFormErrors(o)})},updateCoupon(){this.isSubmitting=!0,this.form.return=!0,ce(this.coupon._links.updateCoupon,this.parseForm()).then(o=>{o.status==200&&(o.data.updated?(this.originalForm=h(this.form),this.showSuccessfulNotification("Coupon updated"),this.editMode=!1):(this.form=h(this.originalForm),this.setFormError("general",o.data.message),this.showUnsuccessfulNotification(o.data.message))),this.isSubmitting=!1}).catch(o=>{this.isSubmitting=!1,this.setServerFormErrors(o)})},deleteCoupon(){this.isDeleting=!0,he(this.coupon._links.deleteCoupon).then(o=>{o.status==200?o.data.deleted?(this.showSuccessfulNotification("Coupon deleted"),this.$router.push({name:"show-store-coupons",params:{store_href:this.store._links.showStore}}),window.scrollTo(0,0)):(this.setFormError("general",o.data.message),this.showUnsuccessfulNotification(o.data.message)):(this.setFormError("general",o.data.message),this.showUnsuccessfulNotification(o.data.message)),this.isDeleting=!1}).catch(o=>{this.isDeleting=!1,this.setServerFormErrors(o)})}},mounted(){this.populateHoursOfTheDay(),this.populateDaysOfTheMonth()},created(){this.form.storeId=this.store.id,this.originalForm=h(this.form),this.isEditting&&this.getCoupon()}},ve={class:"flex justify-start items-center border-dashed py-6"},ye={key:0,class:"flex items-center space-x-2"},be={class:"relative",action:"#",method:"POST"},xe={class:"flex items-center space-x-2"},De={class:"grid grid-cols-12 gap-4 mb-8"},we={class:"col-span-8 relative"},Ue={class:"space-y-4 bg-white shadow-lg rounded-lg border p-4 mb-4"},Pe={class:"bg-white shadow-lg rounded-lg border p-4 mb-4"},Me={key:0,class:"flex items-center space-x-8"},Fe={class:"bg-white shadow-lg rounded-lg border p-4"},Ve={class:"flex items-end space-x-8"},Oe={class:"flex items-end space-x-8"},Se={class:"flex items-end space-x-8"},Ce={class:"flex items-end space-x-8"},ke={class:"flex items-end space-x-8"},Ie={class:"flex items-end space-x-8"},Ee={class:"flex items-end space-x-8"},We={class:"flex items-end space-x-8"},Ye={class:"flex items-end space-x-8"},Ae={class:"flex items-end space-x-8"},Le={class:"flex items-end space-x-8"},Be={class:"col-span-4"},Ne={class:"flex flex-col justify-between bg-white shadow-lg rounded-lg border p-4 mb-4 relative"},He={class:"space-y-4"},Qe={key:0,class:"flex flex-col justify-between bg-white shadow-lg rounded-lg border p-4 relative"},Re={class:"flex items-center space-x-4 mb-2"},ze={key:2,class:"space-y-2"},Ge={class:"text-xs"},je={class:"font-bold text-black"},qe={class:"flex justify-end"},Je={class:"mb-8"},Ze={class:"font-bold text-black"};function Ke(o,e,Xe,_e,t,p){const O=u("BackButton"),U=u("LineSkeleton"),S=u("ShineEffect"),C=u("TextHeader"),k=u("MoreInfoPopover"),P=u("PrimaryButton"),y=u("Alert"),b=u("BackdropLoader"),I=u("FormErrorMessages"),x=u("TextInput"),E=u("TextareaInput"),d=u("ToogleSwitch"),W=u("SelectInput"),M=u("MoneyInput"),D=u("NumberInput"),F=u("Datepicker"),T=u("SelectInputTags"),Y=u("BadgeIndicator"),A=u("ConfirmModal");return a(),c("div",null,[r("div",ve,[i(O,{class:"w-16 mr-4",action:p.goBack},null,8,["action"]),t.isLoadingCoupon?(a(),c("div",ye,[i(S,{class:"flex space-x-2"},{default:n(()=>[i(U,{width:"w-40 mt-2"}),i(U,{width:"w-4 mt-2"})]),_:1})])):(a(),c(V,{key:1},[i(C,null,{default:n(()=>[f(g(p.isCreating?"Add Coupon":t.form.name),1)]),_:1}),i(k,{class:"ml-2 mt-1",title:"What Is This?",description:"Coupons are promotional incentives that customers can claim while placing orders, such as discounts or free delivery. This encourages purchases and enhances the customer shopping experience.",placement:"top"})],64))]),r("form",be,[p.mustCreate||p.mustSaveChanges?(a(),m(y,{key:0,type:"warning",class:"flex justify-between items-center mb-2"},{default:n(()=>[r("div",xe,[e[32]||(e[32]=r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1)),r("span",null,g(p.isCreating?"Create your coupon":"Please save your changes"),1)]),i(P,{action:p.isCreating?p.createCoupon:p.updateCoupon,loading:t.isSubmitting,class:"w-40"},{default:n(()=>[f(g(p.isCreating?"Create Coupon":"Save Changes"),1)]),_:1},8,["action","loading"])]),_:1})):l("",!0),r("div",De,[r("div",we,[t.isLoadingCoupon||t.isSubmitting?(a(),m(b,{key:0,class:"rounded-lg"})):l("",!0),r("div",Ue,[i(I),i(x,{modelValue:t.form.name,"onUpdate:modelValue":e[0]||(e[0]=s=>t.form.name=s),errorText:o.getFormError("name"),labelPopoverTitle:"What Is This?",label:"Name",placeholder:"10% off",labelPopoverDescription:"The name of your coupon e.g 10% off"},null,8,["modelValue","errorText"]),i(E,{rows:2,modelValue:t.form.description,"onUpdate:modelValue":e[1]||(e[1]=s=>t.form.description=s),labelPopoverTitle:"What Is This?",errorText:o.getFormError("description"),label:"Description",placeholder:"Offer 10% discount",labelPopoverDescription:"Sweet and short description of your coupon (for internal use) e.g Offer 10% discount"},null,8,["modelValue","errorText"])]),r("div",Pe,[r("div",{class:w(["space-y-4",t.form.offerDiscount?"mb-8":"mb-4"])},[e[35]||(e[35]=r("p",{class:"font-bold text-sm"},"Offers",-1)),e[36]||(e[36]=r("p",{class:"text-sm text-gray-400"},"Set the offers that this coupon will apply",-1)),i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.offerDiscount,"onUpdate:modelValue":e[2]||(e[2]=s=>t.form.offerDiscount=s),size:"md",errorText:o.getFormError("offerDiscount"),labelPopoverDescription:"Turn on to offer a discount using this coupon"},{default:n(()=>e[33]||(e[33]=[f(" Offer Discount ")])),_:1},8,["modelValue","errorText"]),t.form.offerDiscount?(a(),c("div",Me,[i(W,{label:"Discount Type",modelValue:t.form.discountType,"onUpdate:modelValue":e[3]||(e[3]=s=>t.form.discountType=s),labelPopoverTitle:"What Is This?",errorText:o.getFormError("discountType"),labelPopoverDescription:"Select the discount type e.g Is this a fixed amount or an amount that is calculated based on a percetange of the total cart amount?"},{default:n(()=>e[34]||(e[34]=[r("option",{value:"Percentage"},"Percentage",-1),r("option",{value:"Fixed"},"Fixed",-1)])),_:1},8,["modelValue","errorText"]),t.form.discountType=="Percentage"?(a(),m(x,{key:0,placeholder:"100",label:"Percentage Rate",labelPopoverTitle:"What Is This?",modelValue:t.form.discountPercentageRate,"onUpdate:modelValue":e[4]||(e[4]=s=>t.form.discountPercentageRate=s),errorText:o.getFormError("discountPercentageRate"),labelPopoverDescription:"Set the percentage discount amount (This is the percentage amount of the entire order that will be applied as a discount e.g 50%)"},null,8,["modelValue","errorText"])):l("",!0),t.form.discountType=="Fixed"?(a(),m(M,{key:1,label:"Fixed Rate",modelValue:t.form.discountFixedRate,"onUpdate:modelValue":e[5]||(e[5]=s=>t.form.discountFixedRate=s),labelPopoverTitle:"What Is This?",errorText:o.getFormError("discountFixedRate"),labelPopoverDescription:"Set the fixed discount amount (This is the fixed amount that will be applied as a discount e.g P50.00)"},null,8,["modelValue","errorText"])):l("",!0)])):l("",!0)],2),i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.offerFreeDelivery,"onUpdate:modelValue":e[6]||(e[6]=s=>t.form.offerFreeDelivery=s),size:"md",errorText:o.getFormError("offerFreeDelivery"),labelPopoverDescription:"Turn on to offer free delivery using this coupon"},{default:n(()=>e[37]||(e[37]=[f(" Offer Free Delivery ")])),_:1},8,["modelValue","errorText"])]),r("div",Fe,[r("div",{class:w(["space-y-4",t.form.offerDiscount?"mb-8":"mb-4"])},[e[52]||(e[52]=r("p",{class:"font-bold text-sm"},"Activation Rules",-1)),e[53]||(e[53]=r("p",{class:"text-sm text-gray-400"},"Set how this coupon will be activated",-1)),r("div",Ve,[i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateUsingCode,"onUpdate:modelValue":e[7]||(e[7]=s=>t.form.activateUsingCode=s),size:"md",errorText:o.getFormError("activateUsingCode"),labelPopoverDescription:"Turn on if you want customers to provide a code to claim this coupon"},{default:n(()=>e[38]||(e[38]=[f(" Activate on code ")])),_:1},8,["modelValue","errorText"]),t.form.activateUsingCode?(a(),m(x,{key:0,modelValue:t.form.code,"onUpdate:modelValue":e[8]||(e[8]=s=>t.form.code=s),errorText:o.getFormError("code"),labelPopoverTitle:"What Is This?",label:"Activation Code",placeholder:"1234",labelPopoverDescription:"The activation code of your coupon e.g 1234"},null,8,["modelValue","errorText"])):l("",!0)]),i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateForNewCustomer,"onUpdate:modelValue":e[9]||(e[9]=s=>t.form.activateForNewCustomer=s),size:"md",errorText:o.getFormError("activateForNewCustomer"),labelPopoverDescription:"Turn on if you want customers to claim this coupon only if they are a new customer (have never placed orders in the past)"},{default:n(()=>e[39]||(e[39]=[r("span",{class:"whitespace-nowrap"},"Activate for new customer",-1)])),_:1},8,["modelValue","errorText"]),i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateForExistingCustomer,"onUpdate:modelValue":e[10]||(e[10]=s=>t.form.activateForExistingCustomer=s),size:"md",errorText:o.getFormError("activateForExistingCustomer"),labelPopoverDescription:"Turn on if you want customers to claim this coupon only if they are an existing customer (have placed orders in the past)"},{default:n(()=>e[40]||(e[40]=[r("span",{class:"whitespace-nowrap"},"Activate for existing customer",-1)])),_:1},8,["modelValue","errorText"]),r("div",Oe,[i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateUsingMinimumGrandTotal,"onUpdate:modelValue":e[11]||(e[11]=s=>t.form.activateUsingMinimumGrandTotal=s),size:"md",errorText:o.getFormError("activateUsingMinimumGrandTotal"),labelPopoverDescription:"Turn on if you want customers to claim this coupon only after reaching the specified grand total or more"},{default:n(()=>e[41]||(e[41]=[r("span",{class:"whitespace-nowrap"},"Activate on minimum grand total",-1)])),_:1},8,["modelValue","errorText"]),t.form.activateUsingMinimumGrandTotal?(a(),m(M,{key:0,label:"Grand Total",modelValue:t.form.minimumGrandTotal,"onUpdate:modelValue":e[12]||(e[12]=s=>t.form.minimumGrandTotal=s),labelPopoverTitle:"What Is This?",errorText:o.getFormError("minimumGrandTotal"),labelPopoverDescription:"Set the minimum grand total amount e.g Must have selected items amounting to P50.00 or more"},null,8,["modelValue","errorText"])):l("",!0)]),r("div",Se,[i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateUsingMinimumTotalProducts,"onUpdate:modelValue":e[13]||(e[13]=s=>t.form.activateUsingMinimumTotalProducts=s),size:"md",errorText:o.getFormError("activateUsingMinimumTotalProducts"),labelPopoverDescription:"Turn on if you want customers to claim this coupon only after selecting the specified number of different products or more e.g Must have selected 2 different products or more"},{default:n(()=>e[42]||(e[42]=[r("span",{class:"whitespace-nowrap"},"Activate on minimum total products",-1)])),_:1},8,["modelValue","errorText"]),t.form.activateUsingMinimumTotalProducts?(a(),m(D,{key:0,min:"1",placeholder:"100",label:"Minimum Products",labelPopoverTitle:"What Is This?",modelValue:t.form.minimumTotalProducts,"onUpdate:modelValue":e[14]||(e[14]=s=>t.form.minimumTotalProducts=s),errorText:o.getFormError("minimumTotalProducts"),labelPopoverDescription:"Set the minimum total products e.g Must have selected 2 different products or more"},null,8,["modelValue","errorText"])):l("",!0)]),r("div",Ce,[i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateUsingMinimumTotalProductQuantities,"onUpdate:modelValue":e[15]||(e[15]=s=>t.form.activateUsingMinimumTotalProductQuantities=s),size:"md",errorText:o.getFormError("activateUsingMinimumTotalProductQuantities"),labelPopoverDescription:"Turn on if you want customers to claim this coupon only after selecting the specified number of product quantities or more e.g Must have selected 10 quantities of all items combined or more"},{default:n(()=>e[43]||(e[43]=[r("span",{class:"whitespace-nowrap"},"Activate on minimum total product quantities",-1)])),_:1},8,["modelValue","errorText"]),t.form.activateUsingMinimumTotalProductQuantities?(a(),m(D,{key:0,min:"1",placeholder:"100",label:"Minimum Products",labelPopoverTitle:"What Is This?",modelValue:t.form.minimumTotalProductQuantities,"onUpdate:modelValue":e[16]||(e[16]=s=>t.form.minimumTotalProductQuantities=s),errorText:o.getFormError("minimumTotalProducts"),labelPopoverDescription:"Set the minimum total product quantities e.g Must have selected 10 quantities of all items combined or more"},{suffix:n(()=>e[44]||(e[44]=[f("%")])),_:1},8,["modelValue","errorText"])):l("",!0)]),r("div",ke,[i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateUsingStartDatetime,"onUpdate:modelValue":e[17]||(e[17]=s=>t.form.activateUsingStartDatetime=s),size:"md",errorText:o.getFormError("activateUsingStartDatetime"),labelPopoverDescription:"Turn on if you want customers to claim this coupon only after the specified date has been reached e.g Must have reached 01 Jan 2024"},{default:n(()=>e[45]||(e[45]=[r("span",{class:"whitespace-nowrap"},"Activate from start datetime",-1)])),_:1},8,["modelValue","errorText"]),t.form.activateUsingStartDatetime?(a(),m(F,{modelValue:t.form.startDatetime,"onUpdate:modelValue":e[18]||(e[18]=s=>t.form.startDatetime=s),key:t.form.startDatetime},null,8,["modelValue"])):l("",!0)]),r("div",Ie,[i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateUsingEndDatetime,"onUpdate:modelValue":e[19]||(e[19]=s=>t.form.activateUsingEndDatetime=s),size:"md",errorText:o.getFormError("activateUsingEndDatetime"),labelPopoverDescription:"Turn on if you want customers to claim this coupon only before the specified date has been reached e.g Must not have reached 01 Feb 2024"},{default:n(()=>e[46]||(e[46]=[r("span",{class:"whitespace-nowrap"},"Activate from end datetime",-1)])),_:1},8,["modelValue","errorText"]),t.form.activateUsingEndDatetime?(a(),m(F,{modelValue:t.form.endDatetime,"onUpdate:modelValue":e[20]||(e[20]=s=>t.form.endDatetime=s),key:t.form.endDatetime},null,8,["modelValue"])):l("",!0)]),r("div",Ee,[i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateUsingHoursOfDay,"onUpdate:modelValue":e[21]||(e[21]=s=>t.form.activateUsingHoursOfDay=s),size:"md",errorText:o.getFormError("activateUsingHoursOfDay"),labelPopoverDescription:"Turn on if you want customers to claim this coupon only on the specified hours of the day e.g 08:00, 09:00, 10:00, etc"},{default:n(()=>e[47]||(e[47]=[r("span",{class:"whitespace-nowrap"},"Activate on hours of the day",-1)])),_:1},8,["modelValue","errorText"]),t.form.activateUsingHoursOfDay?(a(),m(T,{key:0,tags:t.form.hoursOfDay,selectableTags:t.hoursOfDay,onOnTagsChanged:e[22]||(e[22]=s=>t.form.hoursOfDay=s),label:"Hours Of Day",labelPopoverTitle:"What Is This?",errorText:o.getFormError("hoursOfDay"),labelPopoverDescription:"Set the hours of the day e.g 08:00, 09:00, 10:00, etc",class:"w-full"},null,8,["tags","selectableTags","errorText"])):l("",!0)]),r("div",We,[i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateUsingDaysOfTheWeek,"onUpdate:modelValue":e[23]||(e[23]=s=>t.form.activateUsingDaysOfTheWeek=s),size:"md",errorText:o.getFormError("activateUsingDaysOfTheWeek"),labelPopoverDescription:"Turn on if you want customers to claim this coupon only on the specified days of the week e.g Monday, Tuesday, Wednesday, etc"},{default:n(()=>e[48]||(e[48]=[r("span",{class:"whitespace-nowrap"},"Activate on days of the week",-1)])),_:1},8,["modelValue","errorText"]),t.form.activateUsingDaysOfTheWeek?(a(),m(T,{key:0,tags:t.form.daysOfTheWeek,selectableTags:t.daysOfTheWeek,onOnTagsChanged:e[24]||(e[24]=s=>t.form.daysOfTheWeek=s),label:"Days Of The Week",labelPopoverTitle:"What Is This?",errorText:o.getFormError("daysOfTheWeek"),labelPopoverDescription:"Set the days of the week e.g Monday, Tuesday, Wednesday, etc",class:"w-full"},null,8,["tags","selectableTags","errorText"])):l("",!0)]),r("div",Ye,[i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateUsingDaysOfTheMonth,"onUpdate:modelValue":e[25]||(e[25]=s=>t.form.activateUsingDaysOfTheMonth=s),size:"md",errorText:o.getFormError("activateUsingDaysOfTheMonth"),labelPopoverDescription:"Turn on if you want customers to claim this coupon only on the specified days of the month e.g 01, 02, 03, etc"},{default:n(()=>e[49]||(e[49]=[r("span",{class:"whitespace-nowrap"},"Activate on days of the month",-1)])),_:1},8,["modelValue","errorText"]),t.form.activateUsingDaysOfTheMonth?(a(),m(T,{key:0,tags:t.form.daysOfTheMonth,selectableTags:t.daysOfTheMonth,onOnTagsChanged:e[26]||(e[26]=s=>t.form.daysOfTheMonth=s),label:"Days Of The Month",labelPopoverTitle:"What Is This?",errorText:o.getFormError("daysOfTheMonth"),labelPopoverDescription:"Set the days of the month e.g 01, 02, 03, etc",class:"w-full"},null,8,["tags","selectableTags","errorText"])):l("",!0)]),r("div",Ae,[i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateUsingMonthsOfTheYear,"onUpdate:modelValue":e[27]||(e[27]=s=>t.form.activateUsingMonthsOfTheYear=s),size:"md",errorText:o.getFormError("activateUsingMonthsOfTheYear"),labelPopoverDescription:"Turn on if you want customers to claim this coupon only on the specified months of the year e.g January, February, March, etc"},{default:n(()=>e[50]||(e[50]=[r("span",{class:"whitespace-nowrap"},"Activate on months of the year",-1)])),_:1},8,["modelValue","errorText"]),t.form.activateUsingMonthsOfTheYear?(a(),m(T,{key:0,tags:t.form.monthsOfTheYear,selectableTags:t.monthsOfTheYear,onOnTagsChanged:e[28]||(e[28]=s=>t.form.monthsOfTheYear=s),label:"Months Of The Year",labelPopoverTitle:"What Is This?",errorText:o.getFormError("monthsOfTheYear"),labelPopoverDescription:"Set the months of the year e.g January, February, March, etc",class:"w-full"},null,8,["tags","selectableTags","errorText"])):l("",!0)]),r("div",Le,[i(d,{labelPopoverTitle:"What Is This?",modelValue:t.form.activateUsingUsageLimit,"onUpdate:modelValue":e[29]||(e[29]=s=>t.form.activateUsingUsageLimit=s),size:"md",errorText:o.getFormError("activateUsingUsageLimit"),labelPopoverDescription:"Turn on if you want to set a usage limit for how many times this coupon can be claimed e.g Must be claimed no more than 10 times"},{default:n(()=>e[51]||(e[51]=[r("span",{class:"whitespace-nowrap"},"Activate on usage limit",-1)])),_:1},8,["modelValue","errorText"]),t.form.activateUsingUsageLimit?(a(),m(D,{key:0,min:"1",placeholder:"100",label:"Remaining Quantity",labelPopoverTitle:"What Is This?",modelValue:t.form.remainingQuantity,"onUpdate:modelValue":e[30]||(e[30]=s=>t.form.remainingQuantity=s),errorText:o.getFormError("remainingQuantity"),labelPopoverDescription:"Set the remaining quantity e.g 10 means that this coupon can only be claimed 10 times"},null,8,["modelValue","errorText"])):l("",!0)])],2)])]),r("div",Be,[r("div",Ne,[t.isLoadingCoupon||t.isSubmitting?(a(),m(b,{key:0,showSpinningLoader:!1,class:"rounded-lg"})):l("",!0),r("div",He,[i(d,{modelValue:t.form.active,"onUpdate:modelValue":e[31]||(e[31]=s=>t.form.active=s),size:"md",labelPopoverTitle:"What Is This?",errorText:o.getFormError("active"),labelPopoverDescription:"Turn on if you want your coupon to be active (Made available to customers)"},{default:n(()=>e[54]||(e[54]=[f(" Activate Coupon ")])),_:1},8,["modelValue","errorText"]),t.form.active?l("",!0):(a(),m(y,{key:0,type:"warning"},{default:n(()=>e[55]||(e[55]=[f(" This coupon has been "),r("span",{class:"font-bold"},"hidden",-1),f(" from customers visiting your store. "),r("hr",{class:"my-4"},null,-1),f("This means that customers will not be able to claim this coupon. ")])),_:1}))])]),t.coupon&&p.hasInstructions?(a(),c("div",Qe,[t.isLoadingCoupon||t.isSubmitting?(a(),m(b,{key:0,showSpinningLoader:!1,class:"rounded-lg"})):l("",!0),r("div",Re,[e[56]||(e[56]=r("div",{class:"flex items-center space-x-2"},[r("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5V6.75a4.5 4.5 0 1 1 9 0v3.75M3.75 21.75h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H3.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})]),r("p",{class:"font-bold text-lg"},"Activation Rules")],-1)),i(Y,{type:"primary",text:p.totalInstructions,showDot:!1},null,8,["text"])]),e[58]||(e[58]=r("p",{class:"text-sm text-gray-400 border-b border-dashed pb-2 mb-4"},"Learn how this coupon will be activated",-1)),p.mustSaveChanges?(a(),m(y,{key:1,type:"info"},{default:n(()=>e[57]||(e[57]=[f(" Save changes to apply activation rules ")])),_:1})):(a(),c("div",ze,[(a(!0),c(V,null,z(p.instructions,(s,L)=>(a(),c("div",{key:L,class:"flex space-x-2 px-2 border-l-4 border-green-300"},[r("p",Ge,g(s),1)]))),128))]))])):l("",!0)])]),t.coupon?(a(),c("div",{key:1,class:w(["space-y-4 shadow-lg rounded-lg border p-4",t.isLoadingCoupon?"bg-gray-50":"border-red-300 bg-red-50"])},[r("p",null,[e[59]||(e[59]=f("Do you want to permanently delete ")),r("span",je,g(t.form.name),1),e[60]||(e[60]=f("? Once this coupon is deleted you will not be able to recover it."))]),r("div",qe,[i(A,{approveText:"Delete Coupon",approveAction:p.deleteCoupon,isLoading:t.isDeleting},{content:n(()=>[e[63]||(e[63]=r("p",{class:"text-lg font-bold border-b border-dashed pb-4 mb-4"},"Confirm Delete",-1)),r("p",Je,[e[61]||(e[61]=f("Are you sure you want to permanently delete ")),r("span",Ze,g(t.form.name),1),e[62]||(e[62]=f("?"))])]),trigger:n(s=>[i(P,{action:s.showModal,loading:t.isDeleting,class:"w-40",type:"danger"},{default:n(()=>e[64]||(e[64]=[f(" Delete Coupon ")])),_:2},1032,["action","loading"])]),_:1},8,["approveAction","isLoading"])])],2)):l("",!0)])])}const St=ge(Te,[["render",Ke]]);export{St as default};
