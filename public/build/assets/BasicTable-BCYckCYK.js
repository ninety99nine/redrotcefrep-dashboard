import{o as s,c as a,h as k,b as e,t as c,f as n,F as f,k as x,m as u,n as _,x as S,Z as j,r as v,d as T,y as b,e as w}from"./app-Bi98IZzu.js";import{U as B}from"./UtilsMixin-CBwmyCNB.js";import{S as L}from"./SearchInput-DxfHidKd.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as I}from"./SpinningLoader-Co5nY0L9.js";const V={props:{pagination:{type:Object}},computed:{showResultTotals(){return this.pagination.from&&this.pagination.to&&this.pagination.total}},methods:{onClick(r){r.url&&this.$emit("paginate",r.url)},isDisabled(r){return r.url==null},getLinkClass(r,t){var i;return r==0?i="flex items-center justify-center px-3 h-8 ms-0 leading-tight border rounded-s-lg dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white":r==this.pagination.links.length-1?i="flex items-center justify-center px-3 h-8 leading-tight border rounded-e-lg hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white":i="flex items-center justify-center px-3 h-8 leading-tight border dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",this.isDisabled(t)?i+=" cursor-not-allowed bg-gray-100":i+=t.active?" bg-blue-500 hover:bg-blue-500 border-blue-500 text-white":"bg-white hover:bg-gray-100 hover:text-gray-700 text-gray-500",i}}},U={key:0,class:"text-sm font-normal text-gray-500 dark:text-gray-400"},N={class:"font-semibold text-gray-900 dark:text-white"},P={class:"font-semibold text-gray-900 dark:text-white"},A={class:"inline-flex -space-x-px rtl:space-x-reverse text-sm h-8"},H=["href","onClick","disabled"],O=["innerHTML"];function D(r,t,i,C,d,l){return s(),a("nav",{class:_(["flex items-center flex-column flex-wrap md:flex-row",l.showResultTotals?"justify-between":"justify-end"]),"aria-label":"Table navigation"},[l.showResultTotals?(s(),a("span",U,[t[0]||(t[0]=k("Showing ")),e("span",N,c(i.pagination.from)+"-"+c(i.pagination.to),1),t[1]||(t[1]=k(" of ")),e("span",P,c(i.pagination.total),1)])):n("",!0),e("ul",A,[(s(!0),a(f,null,x(i.pagination.links,(g,m)=>(s(),a("li",{key:m},[e("a",{href:g.url??"#",onClick:u(p=>l.onClick(g),["prevent"]),disabled:l.isDisabled(g),class:_(l.getLinkClass(m,g))},[e("span",{innerHTML:g.label},null,8,O)],10,H)]))),128))])],2)}const q=F(V,[["render",D]]),E={mixins:[B],components:{SearchInput:L,Pagination:q,SpinningLoader:I},props:{isLoading:{type:Boolean,default:!1},pagination:{type:Object},totalHeaders:{type:Number,default:0},showAddFilter:{type:Boolean,default:!1},filters:{type:Array,default:()=>[]}},data(){return{modal:null,filter:null,searchTerm:"",filterIndex:null,selectedFilter:null,uniqueModalId:this.generateUniqueId("modal")}},watch:{searchTerm(r,t){this.$emit("search",r)}},computed:{isSearching(){return this.hasSearchTerm&&this.isLoading},hasSearchTerm(){return this.searchTerm.length>0}},methods:{refresh(){this.isLoading||this.$emit("refresh")},paginate(r){this.$emit("paginate",r)},addOrUpdateFilter(){this.$emit("addOrUpdateFilter",this.filterIndex),this.filterIndex=null,this.filter=null},removeFilter(r){this.filters.splice(r,1),this.$emit("removeFilter")},showFilterModal(){this.modal.show(),this.$emit("showFilterModal")},hideFilterModal(){this.modal.hide(),this.$emit("hideFilterModal")},showSelectedFilter(r,t){this.showFilterModal(),this.filter=r,this.filterIndex=t,this.$emit("showSelectedFilter",r)}},mounted(){S();const r=document.getElementById(this.uniqueModalId);r!=null&&(this.modal=new j(r))}},z={class:"flex justify-between items-center mb-4"},R={class:"flex justify-center items-center space-x-4"},Z={class:"flex justify-start items-center bg-gray-50 rounded-lg p-4 mb-4"},G={class:"flex flex-wrap"},J=["onClick"],K=["onClick"],Q=["onClick"],W=["onClick"],X=["id"],Y={class:"relative p-4 w-full max-w-md max-h-full"},$={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},ee={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},te={class:"text-lg font-semibold text-gray-900 dark:text-white"},re={class:"grid grid-col-12 lg:gap-4 gap-4 p-4"},ie={class:"col-span-12 flex justify-end"},le={key:0,class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},se={class:"relative overflow-y-auto bg-white border rounded-lg shadow"},ae={key:0,class:"absolute top-0 bottom-0 left-0 right-0 bg-white/50 flex justify-center items-center"},oe={class:"w-full text-sm text-left rtl:text-right text-gray-500"},ne={class:"text-xs text-gray-700 uppercase bg-gray-50"},de={key:0},ge={key:2},ue={key:1,class:"text-xs text-gray-700 text-center py-16 bg-gray-50 border-t"};function he(r,t,i,C,d,l){const g=v("SearchInput"),m=v("Pagination"),p=v("SpinningLoader");return s(),a("div",null,[e("div",z,[e("div",R,[T(g,{modelValue:d.searchTerm,"onUpdate:modelValue":t[0]||(t[0]=o=>d.searchTerm=o),isSearching:l.isSearching},null,8,["modelValue","isSearching"]),b(r.$slots,"primaryFilters")]),e("button",{onClick:t[1]||(t[1]=u((...o)=>l.refresh&&l.refresh(...o),["prevent"])),type:"button",class:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"},t[6]||(t[6]=[e("svg",{class:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})],-1)]))]),i.showAddFilter?(s(),a(f,{key:0},[e("div",Z,[e("button",{onClick:t[2]||(t[2]=(...o)=>l.showFilterModal&&l.showFilterModal(...o)),type:"button",class:"text-xs text-blue-500 rounded-lg py-1 px-4 whitespace-nowrap cursor-pointer border border-blue-300 bg-blue-50 hover:text-blue-400 hover:border-blue-200 active:text-blue-300 active:border-blue-100"}," + Add Filter "),t[7]||(t[7]=e("div",{class:"h-4 border-r border-gray-300 mx-4"},null,-1)),e("div",G,[(s(!0),a(f,null,x(i.filters,(o,h)=>(s(),a("button",{onClick:u(y=>l.showSelectedFilter(o),["self"]),type:"button",class:"flex items-center mr-2 text-xs text-white rounded-lg py-1 px-2 whitespace-nowrap cursor-pointer border border-white bg-blue-500",key:h},[e("span",{onClick:u(y=>l.showSelectedFilter(o,h),["self"])},c(o.displayName),9,K),(s(),a("svg",{onClick:u(y=>l.removeFilter(h),["self"]),class:"w-4 h-4 ml-2 hover:text-blue-400 hover:border-blue-200 active:text-blue-300 active:border-blue-100",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{onClick:u(y=>l.removeFilter(h),["self"]),"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,8,W)],8,Q))],8,J))),128))])]),e("div",{id:d.uniqueModalId,tabindex:"-1",class:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},[e("div",Y,[e("div",$,[e("div",ee,[e("h3",te,c(d.filter==null?"+ Add Filter":"Edit Filter"),1),e("button",{onClick:t[3]||(t[3]=(...o)=>l.hideFilterModal&&l.hideFilterModal(...o)),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"},t[8]||(t[8]=[e("svg",{class:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),e("span",{class:"sr-only"},"Close modal",-1)]))]),e("div",re,[b(r.$slots,"modalFilters"),e("div",ie,[e("button",{onClick:[t[4]||(t[4]=u((...o)=>l.addOrUpdateFilter&&l.addOrUpdateFilter(...o),["prevent"])),t[5]||(t[5]=(...o)=>l.hideFilterModal&&l.hideFilterModal(...o))],type:"button",class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-xs px-4 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[d.filter==null?(s(),a("svg",le,t[9]||(t[9]=[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"},null,-1)]))):n("",!0),k(" "+c(d.filter==null?"Add Filter":"Done"),1)])])])])])],8,X)],64)):n("",!0),i.pagination&&i.pagination.total>5?(s(),w(m,{key:1,pagination:i.pagination,onPaginate:l.paginate,class:"mb-4"},null,8,["pagination","onPaginate"])):n("",!0),e("div",se,[i.pagination&&i.isLoading&&!l.isSearching?(s(),a("div",ae,[l.isSearching?n("",!0):(s(),w(p,{key:0}))])):n("",!0),e("table",oe,[e("thead",ne,[b(r.$slots,"head")]),!i.pagination&&i.isLoading&&i.totalHeaders>0?(s(),a("tbody",de,[(s(),a(f,null,x([1,2,3],(o,h)=>e("tr",{key:h,class:"animate-pulse"},[(s(!0),a(f,null,x(i.totalHeaders,(y,M)=>(s(),a("td",{key:M},t[10]||(t[10]=[e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mx-4 my-4"},null,-1)])))),128))])),64))])):r.$slots.tbody?b(r.$slots,"tbody",{key:1}):(s(),a("tbody",ge,[b(r.$slots,"body")]))]),i.pagination&&i.pagination.total==0?(s(),a("div",ue," No results found ")):n("",!0)]),i.pagination?(s(),w(m,{key:2,pagination:i.pagination,onPaginate:l.paginate,class:"mt-4"},null,8,["pagination","onPaginate"])):n("",!0)])}const xe=F(E,[["render",he]]);export{xe as B};
