import{U as u}from"./UtilsMixin-CBwmyCNB.js";import{I as c,a as h,b as g}from"./InputErrorMessage-xckJoMbN.js";import{r as f,o as n,c as a,b as d,F as m,k as D,q as b,B as y,g as I,m as _,d as k}from"./app-DGr24LlD.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x={props:{modelValue:{type:String},errorText:{type:String},length:{type:Number,default:6}},mixins:[u],components:{InputLabel:c,InputLabelDescription:h,InputErrorMessage:g},data(){return{otpDigits:Array(this.length).fill(""),uniqueId:this.generateUniqueId("mobile_number")}},watch:{modelValue(t,e){t!=this.otpDigits.join("")&&this.updateValue(t)},otpDigits:{handler(t){const e=t.join("");this.$emit("update:modelValue",e)},deep:!0}},methods:{updateValue(t){this.otpDigits=Array(this.length).fill(""),t=t.replace(/\D/g,"");for(let e=0;e<t.length&&e<this.length;e++)this.otpDigits[e]=t.charAt(e)},onFocus(t){for(let e=0;e<this.length;e++)e<t&&this.otpDigits[e].length==0&&this.$refs.otpInputs[e].focus()},onInput(t){var e=this.otpDigits[t].replace(/\D/g,"");e.length==1?this.otpDigits[t]=e.charAt(0):e.length==2?this.otpDigits[t]=e.charAt(1):this.otpDigits[t]=e,this.otpDigits[t].length===1&&t<this.otpDigits.length-1&&this.$refs.otpInputs[t+1].focus()},onBackspace(t){this.otpDigits[t]="",t>0&&this.$refs.otpInputs[t-1].focus()}}},B={class:"flex justify-center space-x-3"},F=["onUpdate:modelValue","onKeydown","onInput","onFocus"];function M(t,e,p,V,r,i){const l=f("InputErrorMessage");return n(),a("div",null,[d("div",B,[(n(!0),a(m,null,D(r.otpDigits,(A,s)=>b((n(),a("input",{class:"block w-12 h-12 text-center border border-gray-300 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600",key:s,ref_for:!0,ref:"otpInputs","onUpdate:modelValue":o=>r.otpDigits[s]=o,onKeydown:I(_(o=>i.onBackspace(s),["prevent"]),["backspace"]),onInput:o=>i.onInput(s),onFocus:o=>i.onFocus(s),maxlength:"2",type:"text",autofocus:""},null,40,F)),[[y,r.otpDigits[s]]])),128))]),k(l,{errorText:p.errorText,class:"flex justify-center mt-2"},null,8,["errorText"])])}const $=v(x,[["render",M]]);export{$ as O};
