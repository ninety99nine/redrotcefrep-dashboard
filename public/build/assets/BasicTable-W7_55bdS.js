import{o as s,c as l,i as _,d as e,t as u,h as n,F as f,l as x,m as c,n as p,q as S,M as j,e as B,k as m,g as v,r as w}from"./app-piavnWUw.js";import{U as L,S as T}from"./SpiningLoader-COnJLsaj.js";import{S as I}from"./SearchInput-BLhW_LtD.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={props:{pagination:{type:Object}},computed:{showResultTotals(){return this.pagination.from&&this.pagination.to&&this.pagination.total}},methods:{onClick(t){t.url&&this.$emit("paginate",t.url)},isDisabled(t){return t.url==null},getLinkClass(t,a){var r;return t==0?r="flex items-center justify-center px-3 h-8 ms-0 leading-tight border rounded-s-lg dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white":t==this.pagination.links.length-1?r="flex items-center justify-center px-3 h-8 leading-tight border rounded-e-lg hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white":r="flex items-center justify-center px-3 h-8 leading-tight border dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",this.isDisabled(a)?r+=" cursor-not-allowed bg-gray-100":r+=a.active?" bg-blue-500 hover:bg-blue-500 border-blue-500 text-white":"bg-white hover:bg-gray-100 hover:text-gray-700 text-gray-500",r}}},U={key:0,class:"text-sm font-normal text-gray-500 dark:text-gray-400"},N={class:"font-semibold text-gray-900 dark:text-white"},P={class:"font-semibold text-gray-900 dark:text-white"},A={class:"inline-flex -space-x-px rtl:space-x-reverse text-sm h-8"},H=["href","onClick","disabled"],O=["innerHTML"];function q(t,a,r,M,d,i){return s(),l("nav",{class:p(["flex items-center flex-column flex-wrap md:flex-row",i.showResultTotals?"justify-between":"justify-end"]),"aria-label":"Table navigation"},[i.showResultTotals?(s(),l("span",U,[_("Showing "),e("span",N,u(r.pagination.from)+"-"+u(r.pagination.to),1),_(" of "),e("span",P,u(r.pagination.total),1)])):n("",!0),e("ul",A,[(s(!0),l(f,null,x(r.pagination.links,(h,b)=>(s(),l("li",{key:b},[e("a",{href:h.url??"#",onClick:c(k=>i.onClick(h),["prevent"]),disabled:i.isDisabled(h),class:p(i.getLinkClass(b,h))},[e("span",{innerHTML:h.label},null,8,O)],10,H)]))),128))])],2)}const D=F(V,[["render",q]]),E={mixins:[L],components:{SearchInput:I,Pagination:D,SpiningLoader:T},props:{isLoading:{type:Boolean,default:!1},pagination:{type:Object},totalHeaders:{type:Number,default:0},showAddFilter:{type:Boolean,default:!1},filters:{type:Array,default:()=>[]}},data(){return{modal:null,filter:null,searchTerm:"",filterIndex:null,selectedFilter:null,uniqueModalId:this.generateUniqueId("modal")}},watch:{searchTerm(t,a){this.$emit("search",t)}},computed:{isSearching(){return this.searchTerm.length>0&&this.isLoading}},methods:{refresh(){this.isLoading||this.$emit("refresh")},paginate(t){this.$emit("paginate",t)},addOrUpdateFilter(){this.$emit("addOrUpdateFilter",this.filterIndex),this.filterIndex=null,this.filter=null},removeFilter(t){this.filters.splice(t,1),this.$emit("removeFilter")},showFilterModal(){this.modal.show(),this.$emit("showFilterModal")},hideFilterModal(){this.modal.hide(),this.$emit("hideFilterModal")},showSelectedFilter(t,a){this.showFilterModal(),this.filter=t,this.filterIndex=a,this.$emit("showSelectedFilter",t)}},mounted(){S();const t=document.getElementById(this.uniqueModalId);t!=null&&(this.modal=new j(t))}},z={class:"flex justify-between items-center mb-4"},R={class:"flex justify-center items-center space-x-4"},Z=e("svg",{class:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})],-1),G=[Z],J={class:"flex justify-start items-center bg-gray-50 rounded-lg p-4 mb-4"},K=e("div",{class:"h-4 border-r border-gray-300 mx-4"},null,-1),Q={class:"flex flex-wrap"},W=["onClick"],X=["onClick"],Y=["onClick"],$=["onClick"],ee=["id"],te={class:"relative p-4 w-full max-w-md max-h-full"},re={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},ie={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},se={class:"text-lg font-semibold text-gray-900 dark:text-white"},ae=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),le=e("span",{class:"sr-only"},"Close modal",-1),oe=[ae,le],ne={class:"grid grid-col-12 lg:gap-4 gap-4 p-4"},de={class:"col-span-12 flex justify-end"},he={key:0,class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},ce=e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"},null,-1),ge=[ce],ue={class:"relative overflow-y-auto bg-white border rounded-lg shadow"},be={key:0,class:"absolute top-0 bottom-0 left-0 right-0 bg-white/50 flex justify-center items-center"},me={class:"w-full text-sm text-left rtl:text-right text-gray-500"},fe={class:"text-xs text-gray-700 uppercase bg-gray-50"},ye={key:0},xe=e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mx-4 my-4"},null,-1),ve=[xe],we={key:2},_e={key:1,class:"text-xs text-gray-700 text-center py-16 bg-gray-50 border-t"};function ke(t,a,r,M,d,i){const h=w("SearchInput"),b=w("Pagination"),k=w("SpiningLoader");return s(),l("div",null,[e("div",z,[e("div",R,[B(h,{modelValue:d.searchTerm,"onUpdate:modelValue":a[0]||(a[0]=o=>d.searchTerm=o),isSearching:i.isSearching},null,8,["modelValue","isSearching"]),m(t.$slots,"primaryFilters")]),e("button",{onClick:a[1]||(a[1]=c((...o)=>i.refresh&&i.refresh(...o),["prevent"])),type:"button",class:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"},G)]),r.showAddFilter?(s(),l(f,{key:0},[e("div",J,[e("button",{onClick:a[2]||(a[2]=(...o)=>i.showFilterModal&&i.showFilterModal(...o)),type:"button",class:"text-xs text-blue-500 rounded-lg py-1 px-4 whitespace-nowrap cursor-pointer border border-blue-300 bg-blue-50 hover:text-blue-400 hover:border-blue-200 active:text-blue-300 active:border-blue-100"}," + Add Filter "),K,e("div",Q,[(s(!0),l(f,null,x(r.filters,(o,g)=>(s(),l("button",{onClick:c(y=>i.showSelectedFilter(o),["self"]),type:"button",class:"flex items-center mr-2 text-xs text-white rounded-lg py-1 px-2 whitespace-nowrap cursor-pointer border border-white bg-blue-500",key:g},[e("span",{onClick:c(y=>i.showSelectedFilter(o,g),["self"])},u(o.displayName),9,X),(s(),l("svg",{onClick:c(y=>i.removeFilter(g),["self"]),class:"w-4 h-4 ml-2 hover:text-blue-400 hover:border-blue-200 active:text-blue-300 active:border-blue-100",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{onClick:c(y=>i.removeFilter(g),["self"]),"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,8,$)],8,Y))],8,W))),128))])]),e("div",{id:d.uniqueModalId,tabindex:"-1","aria-hidden":"true",class:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},[e("div",te,[e("div",re,[e("div",ie,[e("h3",se,u(d.filter==null?"+ Add Filter":"Edit Filter"),1),e("button",{onClick:a[3]||(a[3]=(...o)=>i.hideFilterModal&&i.hideFilterModal(...o)),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"},oe)]),e("div",ne,[m(t.$slots,"modalFilters"),e("div",de,[e("button",{onClick:[a[4]||(a[4]=c((...o)=>i.addOrUpdateFilter&&i.addOrUpdateFilter(...o),["prevent"])),a[5]||(a[5]=(...o)=>i.hideFilterModal&&i.hideFilterModal(...o))],type:"button",class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-xs px-4 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[d.filter==null?(s(),l("svg",he,ge)):n("",!0),_(" "+u(d.filter==null?"Add Filter":"Done"),1)])])])])])],8,ee)],64)):n("",!0),r.pagination&&r.pagination.total>5?(s(),v(b,{key:1,pagination:r.pagination,onPaginate:i.paginate,class:"mb-4"},null,8,["pagination","onPaginate"])):n("",!0),e("div",ue,[r.pagination&&r.isLoading&&!i.isSearching?(s(),l("div",be,[i.isSearching?n("",!0):(s(),v(k,{key:0}))])):n("",!0),e("table",me,[e("thead",fe,[m(t.$slots,"head")]),!r.pagination&&r.isLoading&&r.totalHeaders>0?(s(),l("tbody",ye,[(s(),l(f,null,x([1,2,3],(o,g)=>e("tr",{key:g,class:"animate-pulse"},[(s(!0),l(f,null,x(r.totalHeaders,(y,C)=>(s(),l("td",{key:C},ve))),128))])),64))])):t.$slots.tbody?m(t.$slots,"tbody",{key:1}):(s(),l("tbody",we,[m(t.$slots,"body")]))]),r.pagination&&r.pagination.total==0?(s(),l("div",_e," No results found ")):n("",!0)]),r.pagination?(s(),v(b,{key:2,pagination:r.pagination,onPaginate:i.paginate,class:"mt-4"},null,8,["pagination","onPaginate"])):n("",!0)])}const Se=F(E,[["render",ke]]);export{Se as B};
