import{c as v,i as U}from"./cloneDeep-B1YGuKb7.js";import{r as d,$ as H,q as z,o as s,e as w,w as p,c as n,b as e,f as h,z as R,t as c,d as i,F as y,u as Z,s as q,n as W,h as _}from"./app-jXH5QC3l.js";import{P as C}from"./Pill-CNWbwQ3o.js";import{A as G}from"./Alert-DT2JK55x.js";import{F as J}from"./FormMixin-6JkaGLLr.js";import{U as K}from"./form-store-C265_0LO.js";import{u as b}from"./store-store-DI9g0YE3.js";import{T as Q}from"./TextHeader-7PJHfuaV.js";import{B as X}from"./BackButton-BwL1p-4a.js";import{P as Y}from"./PrimaryButton-BXUz1ZHt.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as $}from"./Countdown-C2pi1waa.js";import{E as tt}from"./ExternalLink-D-h8jxtk.js";import{C as et}from"./ConfirmModal-l78eHkJU.js";import{L as T}from"./LineSkeleton-3g5h70H3.js";import{M as P}from"./MoreInfoPopover-DuLCv7tU.js";import{B as S}from"./Button-BeSnAT_x.js";import{F as st}from"./FormErrorMessages-CsroBFH8.js";import{g as L,p as nt,d as it}from"./api-repository--xE_j9dL.js";import{T as ot}from"./TransactionPaymentStatus-DiTLjeC2.js";import"./SpinningLoader-BdvFuScB.js";/* empty css                                                                      */import"./ShineEffect-DfG5M4Ts.js";const at={components:{PrimaryButton:Y},props:{action:{type:Function},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,default:"base",options:["xs","sm","base","lg"]},type:{type:String,default:"dark",options:["dark","success","light","primary","warning","danger"]},content:{type:String,default:""}},data(){return{showText:!1,copyTimeout:null}},methods:{copyToClipboard(){this.showText=!0,this.copyTimeout==null&&clearInterval(this.copyTimeout),this.copyTimeout=setTimeout(()=>{this.showText=!1,clearInterval(this.copyTimeout)},1e3),this.action&&this.action()}}},rt={key:0,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},lt={key:1};function ct(o,t,m,k,r,a){const u=d("PrimaryButton"),l=H("clipboard");return z((s(),w(u,{action:a.copyToClipboard,disabled:m.disabled,loading:m.loading,size:m.size,type:m.type},{default:p(()=>[r.showText?h("",!0):(s(),n("svg",rt,t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"},null,-1)]))),r.showText?(s(),n("span",lt,"Copied!")):R(o.$slots,"default",{key:2})]),_:3},8,["action","disabled","loading","size","type"])),[[l,m.content]])}const dt=x(at,[["render",ct]]),mt={components:{Button:S,LineSkeleton:T},props:{transaction:{type:Object},isLoadingTransaction:{type:Boolean}},data(){return{storeState:b()}},computed:{store(){return this.storeState.store},owner(){return((this.transaction||{})._relationships||{}).owner||null},transactionForOrder(){return((this.transaction||{}).ownerType||"").toLowerCase()=="order"},transactionForPricingPlan(){return((this.transaction||{}).ownerType||"").toLowerCase()=="pricing plan"}},methods:{onViewOrder(){this.$router.push({name:"show-store-order",params:{store_href:this.store._links.showStore,order_href:this.owner._links.showOrder}}).then(()=>{window.scrollTo(0,0)})}}},ht={class:"bg-white shadow-lg rounded-lg border space-y-3 p-4"},ut={class:"flex items-center space-x-2"},pt={key:1,class:"p-1.5 bg-gray-100 rounded-full border border-gray-200"},ft={key:0,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},wt={key:1,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},yt={key:3,class:"font-bold text-lg"},gt={key:4,class:"font-bold text-lg"},_t={key:5,class:"font-bold text-lg"},xt={key:0,class:"text-xs"},kt={key:1,class:"flex justify-end"};function vt(o,t,m,k,r,a){const u=d("LineSkeleton"),l=d("Button");return s(),n("div",ht,[e("div",ut,[m.isLoadingTransaction?(s(),w(u,{key:0,width:"w-6",height:"h-6",shine:!0})):(s(),n("div",pt,[a.transactionForOrder?(s(),n("svg",ft,t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"},null,-1)]))):(s(),n("svg",wt,t[1]||(t[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"},null,-1)])))])),m.isLoadingTransaction?(s(),w(u,{key:2,width:"w-32",shine:!0})):a.transactionForOrder?(s(),n("span",yt,"Order #"+c(a.owner._attributes.number),1)):a.transactionForPricingPlan?(s(),n("span",gt,c(a.owner.name),1)):(s(),n("span",_t,"..."))]),a.transactionForPricingPlan?(s(),n("span",xt,c(a.owner.description),1)):h("",!0),a.transactionForOrder?(s(),n("div",kt,[i(l,{type:"primary",size:"xs",action:()=>a.onViewOrder()},{default:p(()=>t[2]||(t[2]=[e("span",null,"View Order",-1)])),_:1},8,["action"])])):h("",!0)])}const Tt=x(mt,[["render",vt]]),bt={components:{Button:S,LineSkeleton:T},props:{transaction:{type:Object},isLoadingTransaction:{type:Boolean}},data(){return{storeState:b()}},computed:{store(){return this.storeState.store},hasCustomer(){return this.transaction._relationships.customer!=null},customer(){return this.transaction._relationships.customer}},methods:{onViewCustomer(){this.$router.push({name:"show-store-customer",params:{store_href:this.store._links.showStore,customer_href:this.customer._links.showCustomer}}).then(()=>{window.scrollTo(0,0)})}}},Lt={class:"bg-white shadow-lg rounded-lg border space-y-3 p-4"},Ct={class:"flex items-center space-x-2"},Pt={key:1,class:"font-bold"},St={key:2,class:"font-bold text-lg"},Bt={class:"space-y-2"},Mt={key:0,class:"flex items-center space-x-2 text-sm"},Ft={key:1,class:"font-bold"},Vt={key:1,class:"flex items-center space-x-2 text-sm"},Dt={key:1,class:"font-bold"},At={key:1,class:"text-xs"},jt={key:0,class:"flex justify-end"};function Et(o,t,m,k,r,a){const u=d("LineSkeleton"),l=d("Button");return s(),n("div",Lt,[e("div",Ct,[t[0]||(t[0]=e("div",{class:"p-1.5 bg-gray-100 rounded-full border border-gray-200"},[e("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])],-1)),m.isLoadingTransaction?(s(),w(u,{key:0,width:"w-32",shine:!0})):a.hasCustomer?(s(),n("span",Pt,c(a.customer._attributes.name),1)):(s(),n("span",St,"Customer"))]),e("div",Bt,[m.isLoadingTransaction||a.hasCustomer&&(a.customer.mobileNumber||a.customer.email)?(s(),n(y,{key:0},[m.isLoadingTransaction||a.customer.mobileNumber?(s(),n("div",Mt,[t[1]||(t[1]=e("svg",{class:"w-4 h-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})],-1)),m.isLoadingTransaction?(s(),w(u,{key:0,width:"w-32",shine:!0})):(s(),n("span",Ft,c(a.customer.mobileNumber.national),1))])):h("",!0),m.isLoadingTransaction||a.customer.email?(s(),n("div",Vt,[t[2]||(t[2]=e("svg",{class:"w-4 h-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})],-1)),m.isLoadingTransaction?(s(),w(u,{key:0,width:"w-32",shine:!0})):(s(),n("span",Dt,c(a.customer.email),1))])):h("",!0)],64)):(s(),n("span",At,"No information"))]),!m.isLoadingTransaction&&a.hasCustomer?(s(),n("div",jt,[i(l,{type:"primary",size:"xs",action:()=>a.onViewCustomer()},{default:p(()=>t[3]||(t[3]=[e("span",null,"View Customer",-1)])),_:1},8,["action"])])):h("",!0)])}const It=x(bt,[["render",Et]]),Nt={components:{LineSkeleton:T,MoreInfoPopover:P,Pill:C},props:{transaction:{type:Object}}},Ot={class:"flex space-x-1 items-center"};function Ut(o,t,m,k,r,a){const u=d("Pill"),l=d("MoreInfoPopover");return s(),n("div",Ot,[i(u,{type:"danger",text:m.transaction.failureType,showDot:!1},null,8,["text"]),i(l,{description:m.transaction.failureReason,placement:"top"},null,8,["description"])])}const Ht=x(Nt,[["render",Ut]]),zt={mixins:[K,J],components:{Pill:C,Alert:G,TextHeader:Q,BackButton:X,CopyButton:dt,Countdown:$,ExternalLink:tt,ConfirmModal:et,LineSkeleton:T,MoreInfoPopover:P,TransactionOwner:Tt,FormErrorMessages:st,TransactionFailureType:Ht,TransactionCustomer:It,TransactionPaymentStatus:ot},data(){return{form:{paymentMethodId:null,description:null,amount:null},transaction:null,isDeleting:!1,isSubmitting:!1,apiState:Z(),appName:q.appName,storeState:b(),isRenewingPaymentLink:!1}},watch:{"$route.params.transaction_href"(o,t){window.scrollTo(0,0),this.getTransaction()}},computed:{store(){return this.storeState.store},isPaid(){return((this.transaction||{})._attributes||{}).isPaid},isPendingPayment(){return((this.transaction||{})._attributes||{}).isPendingPayment},hasCustomer(){return this.customer!=null},hasTransaction(){return this.transaction!=null},customer(){return((this.transaction||{})._relationships||{}).customer},paymentMethod(){return((this.transaction||{})._relationships||{}).paymentMethod||null},requestedByUser(){return((this.transaction||{})._relationships||{}).requestedByUser||null},manuallyVerifiedByUser(){return((this.transaction||{})._relationships||{}).manuallyVerifiedByUser||null},isCreating(){return this.$route.name==="create-store-transaction"},isEditting(){return this.$route.name==="show-store-transaction"},formHasChanged(){var o=v(this.form),t=v(this.originalForm);return!U(o,t)},mustSaveChanges(){return this.isEditting&&this.formHasChanged&&!this.isLoadingTransaction&&!this.isSubmitting},mustCreate(){return this.isCreating&&this.formHasChanged&&!this.isLoadingTransaction&&!this.isSubmitting}},methods:{goBack(){this.$router.replace({name:"show-store-transactions",params:{store_href:this.store._links.showStore}})},openPaymentLinkInNewTab(){window.open(this.transaction.metadata.dpoPaymentUrl,"_blank")},getTransaction(){this.isLoadingTransaction=!0;const o={_relationships:"customer,requestedByUser,manuallyVerifiedByUser,paymentMethod,owner"};L(this.$route.params.transaction_href,o).then(t=>{t.status==200&&(this.transaction=t.data.transaction),this.isLoadingTransaction=!1}).catch(t=>{this.isLoadingTransaction=!1,this.setServerFormErrors(t)})},renewTransactionPaymentLink(){this.isRenewingPaymentLink=!0,nt(this.transaction._links.renewTransactionPaymentLink).then(o=>{o.status==200&&(this.showSuccessfulNotification("Transaction renewed"),this.getTransaction()),this.isRenewingPaymentLink=!1}).catch(o=>{this.isRenewingPaymentLink=!1,this.setServerFormErrors(o)})},updateTransaction(){this.isSubmitting=!0;const o={};L(this.transaction._links.updateTransaction,o).then(t=>{t.status==200&&(this.originalForm=v(this.form),this.showSuccessfulNotification("Transaction updated")),this.isSubmitting=!1}).catch(t=>{this.isSubmitting=!1,this.setServerFormErrors(t)})},deleteTransaction(){this.isDeleting=!0,it(this.transaction._links.deleteTransaction).then(o=>{o.status==200&&(o.data.deleted?(this.showSuccessfulNotification("Transaction deleted"),this.$router.push({name:"show-store-transactions",params:{store_href:this.store._links.showStore}}),window.scrollTo(0,0)):(this.setFormError("general",o.data.message),this.showUnsuccessfulNotification(o.data.message))),this.isDeleting=!1}).catch(o=>{this.isDeleting=!1,this.setServerFormErrors(o)})}},created(){this.originalForm=v(this.form),this.isEditting&&this.getTransaction()}},Rt={class:"flex justify-between items-center border-dashed py-6"},Zt={class:"flex justify-start"},qt={key:0,class:"flex items-center space-x-2"},Wt={class:"flex space-x-2"},Gt={key:1,class:"flex items-center"},Jt={key:0,class:"flex space-x-1 items-center"},Kt={key:0,class:"flex space-x-2"},Qt={class:"font-bold"},Xt={class:"relative",action:"#",method:"POST"},Yt={class:"flex items-center space-x-2"},$t={class:"grid grid-cols-12 gap-4 mb-8"},te={class:"col-span-8"},ee={class:"bg-white shadow-lg rounded-lg border space-y-4 p-4 mb-4"},se={class:"flex items-center space-x-8"},ne={class:"flex items-center space-x-2"},ie={key:0,class:"flex items-center space-x-2"},oe={key:1,class:"flex items-center space-x-2"},ae={key:0,class:"flex items-center space-x-2"},re={key:1,class:"flex space-x-1 items-center"},le={class:"text-xs font-bold"},ce={key:0,class:"flex items-center space-x-2 w-full"},de={class:"w-full space-y-2"},me={key:1},he={key:0,class:"flex items-center space-x-2 border-b border-dashed pb-4 mb-4"},ue={class:"flex space-x-1 items-center"},pe={class:"text-xs font-bold"},fe={class:"flex items-center space-x-2 text-sm"},we={class:"flex items-center bg-white shadow-lg rounded-lg border space-y-4 p-4 mb-4"},ye={class:"w-full space-y-4"},ge={class:"flex items-end space-x-2"},_e={key:0,class:"flex items-center space-x-2"},xe={class:"text-4xl font-bold"},ke={key:0,class:"text-2xl text-gray-400"},ve={key:0,class:"flex items-center space-x-2 text-sm"},Te={class:"flex items-center space-x-2"},be={class:"font-bold"},Le={key:1,class:"flex items-center justify-between"},Ce={key:0,class:"flex items-center space-x-2"},Pe={key:1,class:"flex items-center space-x-2"},Se={key:0,class:"flex space-x-2"},Be={key:2,class:"flex justify-end"},Me={key:0,class:"border rounded-full bg-gray-50"},Fe={class:"col-span-4 space-y-4"},Ve={class:"flex flex-col justify-between bg-white shadow-lg rounded-lg border space-y-2 p-4"},De={class:"flex items-center space-x-2 text-sm"},Ae={key:0,class:"flex items-center space-x-2"},je={class:"font-bold"},Ee={class:"flex items-center space-x-2 text-sm"},Ie={key:0,class:"flex items-center space-x-2"},Ne={key:0,class:"font-bold"},Oe={key:1,class:"font-bold"},Ue={class:"flex items-center space-x-2 text-sm"},He={key:0,class:"flex items-center space-x-2"},ze={class:"flex items-center whitespace-pre"},Re={key:0},Ze={key:1,class:"font-bold text-black"},qe={class:"flex justify-end"},We={class:"mb-8"},Ge={class:"font-bold text-black"};function Je(o,t,m,k,r,a){const u=d("BackButton"),l=d("LineSkeleton"),B=d("TextHeader"),f=d("MoreInfoPopover"),g=d("Button"),M=d("Alert"),F=d("FormErrorMessages"),V=d("TransactionPaymentStatus"),D=d("TransactionFailureType"),A=d("Countdown"),j=d("TransactionOwner"),E=d("TransactionCustomer"),I=d("Pill"),N=d("ConfirmModal");return s(),n("div",null,[e("div",Rt,[e("div",Zt,[i(u,{class:"w-16 mr-4",action:a.goBack},null,8,["action"]),o.isLoadingTransaction?(s(),n("div",qt,[t[0]||(t[0]=e("span",{class:"text-2xl font-bold tracking-tight text-gray-300 animate-pulse"},"Transaction #",-1)),e("div",Wt,[i(l,{width:"w-12",shine:!0}),i(l,{width:"w-4",shine:!0})])])):(s(),n("div",Gt,[i(B,null,{default:p(()=>[_(c(a.isCreating?"Add Transaction":"Transaction #"+r.transaction._attributes.number),1)]),_:1}),i(f,{class:"ml-2 mt-1",title:"What Is This?",description:"Transactions are detailed records of payments made by customers for purchasing products or services from your store.",placement:"top"})]))]),a.isEditting?(s(),n("div",Jt,[o.isLoadingTransaction?(s(),n("div",Kt,[i(l,{width:"w-20",shine:!0}),i(l,{width:"w-32",shine:!0}),i(l,{width:"w-4",shine:!0})])):(s(),n(y,{key:1},[t[1]||(t[1]=e("span",null,"Created:",-1)),e("span",Qt,c(o.formattedDatetime(r.transaction.createdAt)),1),i(f,{title:o.formattedRelativeDate(r.transaction.createdAt),placement:"top"},null,8,["title"])],64))])):h("",!0)]),e("form",Xt,[a.mustCreate||a.mustSaveChanges?(s(),w(M,{key:0,type:"warning",class:"flex justify-between items-center mb-2"},{default:p(()=>[e("div",Yt,[t[2]||(t[2]=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1)),e("span",null,c(a.isCreating?"Create your transaction":"Please save your changes"),1)]),i(g,{type:"primary",size:"sm",action:a.isCreating?o.createTransaction:a.updateTransaction,loading:r.isSubmitting},{default:p(()=>[_(c(a.isCreating?"Create Transaction":"Save Changes"),1)]),_:1},8,["action","loading"])]),_:1})):h("",!0),e("div",$t,[e("div",te,[i(F),e("div",ee,[e("div",se,[e("div",ne,[t[3]||(t[3]=e("span",{class:"text-xs"},"Status:",-1)),o.isLoadingTransaction?(s(),n("div",ie,[i(l,{width:"w-20",shine:!0}),i(l,{width:"w-4",shine:!0})])):(s(),w(V,{key:1,transaction:r.transaction},null,8,["transaction"]))]),a.hasTransaction&&r.transaction.failureReason?(s(),w(D,{key:0,transaction:r.transaction},null,8,["transaction"])):h("",!0),o.isLoadingTransaction||!r.transaction.failureReason?(s(),n("div",oe,[t[4]||(t[4]=e("span",{class:"text-xs"},"Payment Method:",-1)),o.isLoadingTransaction?(s(),n("div",ae,[i(l,{width:"w-24"}),i(l,{width:"w-4"})])):(s(),n("div",re,[e("span",le,c(a.paymentMethod.name),1),i(f,{title:"What Is This?",description:"This is the payment method used for this transaction",placement:"top"})]))])):h("",!0)]),e("div",null,[o.isLoadingTransaction?(s(),n("div",ce,[i(l,{width:"w-8",height:"h-8",shine:!0}),e("div",de,[i(l,{width:"w-2/3",shine:!0}),i(l,{width:"w-1/3",shine:!0})])])):(s(),n("div",me,[r.transaction.failureReason?(s(),n("div",he,[t[5]||(t[5]=e("span",{class:"text-xs"},"Payment Method:",-1)),e("div",ue,[e("span",pe,c(a.paymentMethod.name),1),i(f,{title:"What Is This?",description:"This is the payment method used for this transaction",placement:"top"})])])):h("",!0),e("div",fe,[t[6]||(t[6]=e("svg",{class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),e("span",null,c(r.transaction.description),1)])]))])]),e("div",we,[e("div",ye,[e("div",ge,[o.isLoadingTransaction?(s(),n("div",_e,[i(l,{width:"w-40",height:"h-8",shine:!0}),i(l,{width:"w-12",height:"h-6",shine:!0})])):(s(),n(y,{key:1},[e("span",xe,c(r.transaction.amount.amountWithCurrency),1),r.transaction.percentage.value!=100?(s(),n("span",ke,"("+c(r.transaction.percentage.valueSymbol)+")",1)):h("",!0)],64))]),a.isPaid?(s(),n("div",ve,[t[7]||(t[7]=e("span",{class:"whitespace-nowrap"},"Date Paid: ",-1)),e("span",Te,[e("span",be,c(o.formattedDatetime(r.transaction.updatedAt)),1),i(f,{title:o.formattedRelativeDate(r.transaction.updatedAt),placement:"top"},null,8,["title"])])])):h("",!0),o.isLoadingTransaction||r.transaction.metadata&&r.transaction.metadata.canPayUsingDpo?(s(),n("div",Le,[e("div",null,[o.isLoadingTransaction?(s(),n("div",Ce,[i(l,{width:"w-40",shine:!0}),i(l,{width:"w-20",shine:!0}),i(l,{width:"w-4",shine:!0})])):(s(),n("div",Pe,[t[8]||(t[8]=e("span",null,"Payment Link Expires In: ",-1)),i(A,{showMoreInfoPopover:!1,time:r.transaction.metadata.dpoPaymentUrlExpiresAt,textClass:"text-yellow-500 font-bold underline decoration-dashed underline-offset-4"},null,8,["time"]),i(f,{title:"This is the time left before the payment link expires",placement:"top"})]))]),o.isLoadingTransaction||r.transaction.metadata.canPayUsingDpo?(s(),n("div",Se,[i(g,{type:"light",size:"sm",skeleton:o.isLoadingTransaction,copyContent:r.transaction.metadata.dpoPaymentUrl},{default:p(()=>t[9]||(t[9]=[e("span",null,"Copy Payment Link",-1)])),_:1},8,["skeleton","copyContent"]),i(g,{type:"primary",size:"sm",skeleton:o.isLoadingTransaction,action:a.openPaymentLinkInNewTab()},{default:p(()=>t[10]||(t[10]=[e("span",null,"Pay Now",-1)])),_:1},8,["skeleton","action"])])):h("",!0)])):r.transaction.metadata&&r.transaction.metadata.dpoPaymentLinkHasExpired?(s(),n("div",Be,[i(g,{type:"primary",size:"sm",action:a.renewTransactionPaymentLink(),loading:r.isRenewingPaymentLink},{default:p(()=>t[11]||(t[11]=[e("span",null,"Renew Payment Link",-1)])),_:1},8,["action","loading"])])):h("",!0)]),a.isPaid?(s(),n("span",Me,t[12]||(t[12]=[e("svg",{class:"w-20 h-20 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})],-1)]))):h("",!0)])]),e("div",Fe,[i(j,{transaction:r.transaction,isLoadingTransaction:o.isLoadingTransaction},null,8,["transaction","isLoadingTransaction"]),i(E,{transaction:r.transaction,isLoadingTransaction:o.isLoadingTransaction},null,8,["transaction","isLoadingTransaction"]),e("div",Ve,[e("div",De,[t[13]||(t[13]=e("span",{class:"whitespace-nowrap"},"Requester: ",-1)),o.isLoadingTransaction?(s(),n("div",Ae,[i(l,{width:"w-20",shine:!0}),i(l,{width:"w-4",shine:!0})])):(s(),n(y,{key:1},[e("span",je,c(a.requestedByUser._attributes.name),1),i(f,{title:"What Is This?",description:"This is the person that requested this transaction",placement:"top"})],64))]),e("div",Ee,[t[14]||(t[14]=e("span",{class:"whitespace-nowrap"},"Verifyer: ",-1)),o.isLoadingTransaction?(s(),n("div",Ie,[i(l,{width:"w-32",shine:!0}),i(l,{width:"w-4",shine:!0})])):(s(),n(y,{key:1},[a.manuallyVerifiedByUser?(s(),n("span",Ne,c(a.manuallyVerifiedByUser._attributes.name),1)):(s(),n("span",Oe,c(r.appName),1)),i(f,{title:"What Is This?",description:a.manuallyVerifiedByUser?"This is the person that verified this transaction":"This is the application that verified this transaction",placement:"top"},null,8,["description"])],64))]),e("div",Ue,[t[15]||(t[15]=e("span",{class:"whitespace-nowrap"},"Verification Method: ",-1)),o.isLoadingTransaction?(s(),n("div",He,[i(l,{width:"w-20",shine:!0}),i(l,{width:"w-4",shine:!0})])):(s(),n(y,{key:1},[i(I,{type:r.transaction.verificationType.toLowerCase()=="automatic"?"success":"info",text:r.transaction.verificationType,showDot:!1},null,8,["type","text"]),i(f,{title:"What Is This?",description:"This indicates whether the transaction was verified manually by a person or automatically by the application",placement:"top"})],64))])])])]),r.transaction?(s(),n("div",{key:1,class:W(["space-y-4 shadow-lg rounded-lg border p-4",o.isLoadingTransaction?"bg-gray-50":"border-red-300 bg-red-50"])},[e("div",ze,[t[16]||(t[16]=e("span",null,"Do you want to permanently delete",-1)),o.isLoadingTransaction?(s(),n("div",Re,[i(l,{width:"w-20 mx-2",shine:!0})])):(s(),n("span",Ze," Transaction #"+c(r.transaction._attributes.number),1)),t[17]||(t[17]=e("span",null,"? Once this transaction is deleted you will not be able to recover it.",-1))]),e("div",qe,[i(N,{approveText:"Delete Order",approveAction:a.deleteTransaction,isLoading:r.isDeleting},{content:p(()=>[t[20]||(t[20]=e("p",{class:"text-lg font-bold border-b border-dashed pb-4 mb-4"},"Confirm Delete",-1)),e("p",We,[t[18]||(t[18]=_("Are you sure you want to permanently delete ")),e("span",Ge,"Transaction #"+c(r.transaction._attributes.number),1),t[19]||(t[19]=_("?"))])]),trigger:p(O=>[i(g,{type:"danger",size:"sm",skeleton:a.isEditting&&o.isLoadingTransaction,action:O.showModal,loading:r.isDeleting},{default:p(()=>t[21]||(t[21]=[_(" Delete Transaction ")])),_:2},1032,["skeleton","action","loading"])]),_:1},8,["approveAction","isLoading"])])],2)):h("",!0)])])}const gs=x(zt,[["render",Je]]);export{gs as default};
