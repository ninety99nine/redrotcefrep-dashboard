import{J as i}from"./app-BMtIl1oL.js";import{U as e}from"./UtilsMixin-CbFS-0FV.js";const a=i("notification",{state:()=>({notifications:[]}),actions:{addSuccessNotification(r){this.addNotification(r,"success-notification")},addWarningNotification(r){this.addNotification(r,"warning-notification")},addNotification(r,o){this.notifications.push({type:o,message:r,id:e.methods.generateUniqueId("notification")})}}}),f=i("form",{state:()=>({formErrors:{},formErrorsTimeout:null}),getters:{getFormErrors(r){return Object.values(r.formErrors)}},actions:{setServerFormErrors(r){if(this.hideFormErrors(),(r.response??{}).status===422){const o=((r.response??{}).data??{}).errors??{};this.formErrors=Object.keys(o).reduce((t,s)=>(t[s]=o[s][0],t),{})}else{const o=((r.response??{}).data??{}).message??r.message;this.setGeneralFormError(o),o!=null&&a().addWarningNotification(o)}this.setFormErrorsTimeout()},setGeneralFormError(r){this.setFormError("general",r)},setFormError(r,o){this.formErrors[r]=o,this.setFormErrorsTimeout()},getFormError(r){return this.formErrors[r]??null},hideFormErrors(){this.formErrors={}},setFormErrorsTimeout(){this.clearFormErrorsTimeout(),this.formErrorsTimeout=setTimeout(()=>this.hideFormErrors(),5e3)},clearFormErrorsTimeout(){clearTimeout(this.formErrorsTimeout)}}});export{f as a,a as u};
