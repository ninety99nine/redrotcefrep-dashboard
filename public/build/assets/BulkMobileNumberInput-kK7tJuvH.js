import{U as C}from"./SpiningLoader-CsPmXxst.js";import{T as V}from"./TextInput-_gM6fl6u.js";import{o as m,f as u,w as i,d as o,r as n,t as f,e as d,K as F,g as I,i as T,k as N,q as D,c as w,F as S,l as E}from"./app-Kf0mCOXy.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as b,i as A}from"./cloneDeep-Cj89CU0d.js";import{F as L}from"./FormMixin-CYiBG1ca.js";import{A as P}from"./AddButton-YPx_iiuG.js";import{B as q}from"./BasicModal-CDGWEgr6.js";import{D as z}from"./DeleteButton-qqIC3cPW.js";import{P as U}from"./PrimaryButton-DULDYb5e.js";import{M as H}from"./MobileNumberInput-E_RreW9n.js";import{B as W}from"./BadgeIndicator-BRfv_GU4.js";import{F as X}from"./FormErrorMessages-Bdf-el1D.js";const j={props:{modelValue:{type:String},label:{type:String,default:""},labelPopoverTitle:{type:String},labelPopoverDescription:{type:String},placeholder:{type:String,default:""},required:{type:Boolean,default:!0},errorText:{type:String}},mixins:[C],components:{TextInput:V},data(){return{localModelValue:this.modelValue,uniqueId:this.generateUniqueId("email")}},watch:{modelValue(e,l){this.updateValue(e)},localModelValue(e,l){this.$emit("update:modelValue",e)}},methods:{updateValue(e){this.localModelValue=e}}},K=o("div",{class:"flex items-center space-x-1 py-1.5 px-4 rounded-l-md bg-gray-50 text-gray-500 border-r whitespace-nowrap"},[o("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])],-1);function Z(e,l,t,g,s,r){const h=n("TextInput");return m(),u(h,{label:t.label,required:t.required,errorText:t.errorText,modelValue:s.localModelValue,"onUpdate:modelValue":l[0]||(l[0]=p=>s.localModelValue=p),placeholder:t.placeholder,labelPopoverTitle:t.labelPopoverTitle,labelPopoverDescription:t.labelPopoverDescription},{prepend:i(()=>[K]),_:1},8,["label","required","errorText","modelValue","placeholder","labelPopoverTitle","labelPopoverDescription"])}const Ne=x(j,[["render",Z]]),G={mixins:[L],components:{AddButton:P,BasicModal:q,DeleteButton:z,PrimaryButton:U,MobileNumberInput:H,BadgeIndicator:W,FormErrorMessages:X},props:{isSubmitting:{type:Boolean,default:!1},mobileNumbers:{type:Array,default:()=>[]},createMobileNumber:{type:Function,default:null},updateMobileNumber:{type:Function,default:null},deleteMobileNumber:{type:Function,default:null},bodyClass:{type:String,default:null},showWhatsappIcon:{type:Boolean,default:!1}},data(){return{form:{mobileNumber:""},originalForm:null,mobileNumber:null,mobileNumberIndex:null}},computed:{hasMobileNumbers(){return this.mobileNumbers.length>0},formHasChanged(){var e=b(this.form),l=b(this.originalForm);return!A(e,l)},mustSaveChanges(){return this.formHasChanged&&!this.isSubmitting}},methods:{showMobileNumber(e,l,t){this.mobileNumberIndex=t,this.mobileNumber=l,this.mobileNumber&&this.setForm(),e()},setForm(){this.form.mobileNumber=this.mobileNumber,this.originalForm=b(this.form)},resetForm(){this.form={mobileNumber:""},this.originalForm=b(this.form)},_createMobileNumber(e){if(this.mobileNumbers.some(t=>t===this.form.mobileNumber)){this.showUnsuccessfulNotification("Mobile number already exists"),e();return}this.createMobileNumber&&this.createMobileNumber(this.form.mobileNumber,this.resetForm,e)},_updateMobileNumber(e){if(this.mobileNumbers.some(t=>t===this.form.mobileNumber)){this.showUnsuccessfulNotification("Mobile number already exists"),e();return}this.updateMobileNumber&&this.updateMobileNumber(this.form.mobileNumber,this.mobileNumberIndex,this.resetForm,e)},_deleteMobileNumber(e){this.deleteMobileNumber&&this.deleteMobileNumber(this.mobileNumberIndex,this.resetForm,e)}}},J={class:"font-lg font-bold mb-8"},O=o("svg",{class:"w-6 h-6 mt-1 ml-3",fill:"#44c152",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 308 308","xml:space":"preserve"},[o("g",{id:"XMLID_468_"},[o("path",{id:"XMLID_469_",d:"M227.904,176.981c-0.6-0.288-23.054-11.345-27.044-12.781c-1.629-0.585-3.374-1.156-5.23-1.156c-3.032,0-5.579,1.511-7.563,4.479c-2.243,3.334-9.033,11.271-11.131,13.642c-0.274,0.313-0.648,0.687-0.872,0.687c-0.201,0-3.676-1.431-4.728-1.888c-24.087-10.463-42.37-35.624-44.877-39.867c-0.358-0.61-0.373-0.887-0.376-0.887c0.088-0.323,0.898-1.135,1.316-1.554c1.223-1.21,2.548-2.805,3.83-4.348c0.607-0.731,1.215-1.463,1.812-2.153c1.86-2.164,2.688-3.844,3.648-5.79l0.503-1.011c2.344-4.657,0.342-8.587-0.305-9.856c-0.531-1.062-10.012-23.944-11.02-26.348c-2.424-5.801-5.627-8.502-10.078-8.502c-0.413,0,0,0-1.732,0.073c-2.109,0.089-13.594,1.601-18.672,4.802c-5.385,3.395-14.495,14.217-14.495,33.249c0,17.129,10.87,33.302,15.537,39.453c0.116,0.155,0.329,0.47,0.638,0.922c17.873,26.102,40.154,45.446,62.741,54.469c21.745,8.686,32.042,9.69,37.896,9.69c0.001,0,0.001,0,0.001,0c2.46,0,4.429-0.193,6.166-0.364l1.102-0.105c7.512-0.666,24.02-9.22,27.775-19.655c2.958-8.219,3.738-17.199,1.77-20.458C233.168,179.508,230.845,178.393,227.904,176.981z"}),o("path",{id:"XMLID_470_",d:"M156.734,0C73.318,0,5.454,67.354,5.454,150.143c0,26.777,7.166,52.988,20.741,75.928L0.212,302.716c-0.484,1.429-0.124,3.009,0.933,4.085C1.908,307.58,2.943,308,4,308c0.405,0,0.813-0.061,1.211-0.188l79.92-25.396c21.87,11.685,46.588,17.853,71.604,17.853C240.143,300.27,308,232.923,308,150.143C308,67.354,240.143,0,156.734,0zM156.734,268.994c-23.539,0-46.338-6.797-65.936-19.657c-0.659-0.433-1.424-0.655-2.194-0.655c-0.407,0-0.815,0.062-1.212,0.188l-40.035,12.726l12.924-38.129c0.418-1.234,0.209-2.595-0.561-3.647c-14.924-20.392-22.813-44.485-22.813-69.677c0-65.543,53.754-118.867,119.826-118.867c66.064,0,119.812,53.324,119.812,118.867C276.546,215.678,222.799,268.994,156.734,268.994z"})])],-1),Q={class:"flex space-x-2 mt-4"},R=o("span",{class:"ml-2"},"Delete",-1),Y={key:0,class:"flex flex-wrap gap-2"},$={class:"flex items-center space-x-2"},ee=o("svg",{class:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})],-1),oe=o("span",{class:"text-xs"},"Add Mobile Number",-1),te=o("span",{class:"whitespace-nowrap ml-2"},"Add Mobile Number",-1);function le(e,l,t,g,s,r){const h=n("FormErrorMessages"),p=n("MobileNumberInput"),y=n("DeleteButton"),v=n("PrimaryButton"),k=n("BadgeIndicator"),_=n("AddButton"),B=n("BasicModal");return m(),u(B,{onHide:r.resetForm},{content:i(a=>[o("div",null,[o("h1",J,f(s.mobileNumber?"Edit Mobile Number":"Add Mobile Number"),1),d(h),d(p,{label:"Mobile Number",modelValue:s.form.mobileNumber,"onUpdate:modelValue":l[0]||(l[0]=c=>s.form.mobileNumber=c),labelPopoverTitle:"What Is This?",errorText:e.getFormError("mobileNumber"),labelPopoverDescription:"The mobile number that will be used to receive orders via whatsapp when customers checkout on your store website"},F({_:2},[t.showWhatsappIcon?{name:"prepend",fn:i(()=>[O]),key:"0"}:void 0]),1032,["modelValue","errorText"]),o("div",Q,[s.mobileNumber?(m(),u(y,{key:0,disabled:t.isSubmitting,onClick:()=>r._deleteMobileNumber(a.hideModal),size:"xs",type:"danger"},{default:i(()=>[R]),_:2},1032,["disabled","onClick"])):I("",!0),d(v,{onClick:()=>s.mobileNumber?r._updateMobileNumber(a.hideModal):r._createMobileNumber(a.hideModal),disabled:!r.mustSaveChanges,size:"xs",type:"success",class:"w-full"},{default:i(()=>[T(f(s.mobileNumber?"Save Changes":"Add Mobile Number"),1)]),_:2},1032,["onClick","disabled"])])])]),trigger:i(a=>[N(e.$slots,"trigger",{showModal:a.showModal},()=>[o("div",{class:D(t.bodyClass)},[N(e.$slots,"content"),r.hasMobileNumbers?(m(),w("div",Y,[N(e.$slots,"prefix"),(m(!0),w(S,null,E(t.mobileNumbers,(c,M)=>(m(),u(k,{class:"h-6",key:M,type:"primary",showDot:!1,clickable:!0,action:()=>r.showMobileNumber(a.showModal,c,M)},{default:i(()=>[o("div",$,[o("span",null,f(c),1),ee])]),_:2},1032,["action"]))),128)),d(_,{onClick:()=>r.showMobileNumber(a.showModal,null,null),size:"xs",type:"light",class:"w-48",rounding:"rounded-full"},{default:i(()=>[oe]),_:2},1032,["onClick"])])):(m(),u(_,{key:1,onClick:()=>r.showMobileNumber(a.showModal,null,null),size:"xs",type:"light",class:"w-48",rounding:"rounded-full"},{default:i(()=>[te]),_:2},1032,["onClick"]))],2)])]),_:3},8,["onHide"])}const _e=x(G,[["render",le]]);export{_e as B,Ne as E};
