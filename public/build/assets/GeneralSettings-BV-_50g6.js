import{c as v,i as G}from"./cloneDeep-Cj89CU0d.js";import{A as J}from"./Alert-BHnqwbfj.js";import{F as A}from"./FormMixin-CYiBG1ca.js";import{T as Q,A as Y}from"./AddressModal-BWFJ5nW9.js";import{u as g}from"./store-store-C2_eLuQh.js";import{T as $}from"./TextInput-_gM6fl6u.js";import{T as ee}from"./TextHeader-Cdgnrugi.js";import{S as oe}from"./StoreLogo-zYi9lXOD.js";import{B as te,E as se}from"./BulkMobileNumberInput-kK7tJuvH.js";import{C as re}from"./Checkbox-C6zZavZf.js";import{U as le}from"./UndoButton-BBUKxXJA.js";import{S as H}from"./SelectInput-BklpiaOv.js";import{C as ie}from"./ConfirmModal-DrJlS0Sa.js";import{T as ne}from"./TextareaInput-Cp6x4S0k.js";import{P as ae}from"./PrimaryButton-DULDYb5e.js";import{T as me}from"./ToogleSwitch-CDDQu6G0.js";import{M as ue}from"./MobileNumberInput-E_RreW9n.js";import{C as de}from"./CountrySelectInput-BE301A7u.js";import{C as ce}from"./CurrencySelectInput-DDxJxvga.js";import{u as O,o as a,f as _,w as m,c as d,l as M,t as V,F as S,I as pe,J as he,r as n,d as e,q as ge,e as l,g as T,i as c,z as fe}from"./app-Kf0mCOXy.js";import{g as be,p as we,a as B,d as L}from"./api-repository-C4cDgx_E.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{B as ve}from"./BadgeIndicator-BRfv_GU4.js";import{F as _e}from"./FormErrorMessages-Bdf-el1D.js";import"./SpiningLoader-CsPmXxst.js";import"./InputLabel-B11U1-WT.js";import"./MoreInfoPopover-gLIaCQca.js";import"./InputErrorMessage-B1NpEu7u.js";import"./AddButton-YPx_iiuG.js";import"./BasicModal-CDGWEgr6.js";import"./DeleteButton-qqIC3cPW.js";import"./LineSkeleton-Ckj2823e.js";import"./StatusDot-B0b3cfnt.js";const xe={components:{SelectInput:H},data(){return{languages:[],apiState:O(),isLoadingLanguages:!1}},methods:{showLanguages(){this.languages.length||(this.isLoadingLanguages=!0,be(this.apiState.apiHome._links.showLanguages).then(t=>{t.status==200&&(this.languages=t.data),this.isLoadingLanguages=!1}).catch(t=>{this.isLoadingLanguages=!1,this.setServerFormErrors(t)}))}},created(){this.showLanguages()}},ye=["value"];function Te(t,s,p,h,o,i){const u=n("SelectInput");return a(),_(u,pe(he(t.$attrs)),{default:m(()=>[(a(!0),d(S,null,M(o.languages,(f,x)=>(a(),d("option",{key:x,value:f.code},V(f.name),9,ye))),128))]),_:1},16)}const Se=I(xe,[["render",Te]]),ke={mixins:[A],components:{BulkMobileNumberInput:te},data(){return{isSubmitting:!1,apiState:O(),storeState:g()}},computed:{store(){return this.storeState.store},mobileNumbers(){return this.storeRollingNumbers.map(t=>t.mobileNumber.international)},storeRollingNumbers(){return this.store._relationships.storeRollingNumbers}},methods:{createStoreRollingNumber(t,s,p){this.isSubmitting=!0;let h={mobileNumber:t,storeId:this.store.id,return:"1"};we(this.apiState.apiHome._links.createStoreRollingNumber,h).then(o=>{if(o.status==200){p(),s();var i=o.data.storeRollingNumber;g().store._relationships.storeRollingNumbers.push(i),this.showSuccessfulNotification("Whatsapp number added")}this.isSubmitting=!1}).catch(o=>{this.isSubmitting=!1,this.setServerFormErrors(o)})},updateStoreRollingNumber(t,s,p,h){this.isSubmitting=!0;let o={mobileNumber:t,return:"1"};const i=this.storeRollingNumbers[s];B(i._links.updateStoreRollingNumber,o).then(u=>{if(u.status==200)if(u.data.updated){h(),p();var f=u.data.storeRollingNumber;g().store._relationships.storeRollingNumbers[s]=f,this.showSuccessfulNotification("Whatsapp number updated")}else this.setFormError("general",u.data.message),this.showUnsuccessfulNotification(u.data.message);this.isSubmitting=!1}).catch(u=>{this.isSubmitting=!1,this.setServerFormErrors(u)})},deleteStoreRollingNumber(t,s,p){this.isSubmitting=!0;const h=this.storeRollingNumbers[t];L(h._links.deleteStoreRollingNumber).then(o=>{o.status==200&&(o.data.deleted?(p(),s(),g().store._relationships.storeRollingNumbers.splice(this.storeRollingNumberIndex,1)):(this.setFormError("general",o.data.message),this.showUnsuccessfulNotification(o.data.message))),this.isSubmitting=!1}).catch(o=>{this.isSubmitting=!1,this.setServerFormErrors(o)})}}},Ne=e("h1",{class:"flex items-center font-lg font-bold"},[e("svg",{class:"w-6 h-6 mr-4 flex-shrink-0",fill:"#44c152",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 308 308","xml:space":"preserve"},[e("g",{id:"XMLID_468_"},[e("path",{id:"XMLID_469_",d:"M227.904,176.981c-0.6-0.288-23.054-11.345-27.044-12.781c-1.629-0.585-3.374-1.156-5.23-1.156c-3.032,0-5.579,1.511-7.563,4.479c-2.243,3.334-9.033,11.271-11.131,13.642c-0.274,0.313-0.648,0.687-0.872,0.687c-0.201,0-3.676-1.431-4.728-1.888c-24.087-10.463-42.37-35.624-44.877-39.867c-0.358-0.61-0.373-0.887-0.376-0.887c0.088-0.323,0.898-1.135,1.316-1.554c1.223-1.21,2.548-2.805,3.83-4.348c0.607-0.731,1.215-1.463,1.812-2.153c1.86-2.164,2.688-3.844,3.648-5.79l0.503-1.011c2.344-4.657,0.342-8.587-0.305-9.856c-0.531-1.062-10.012-23.944-11.02-26.348c-2.424-5.801-5.627-8.502-10.078-8.502c-0.413,0,0,0-1.732,0.073c-2.109,0.089-13.594,1.601-18.672,4.802c-5.385,3.395-14.495,14.217-14.495,33.249c0,17.129,10.87,33.302,15.537,39.453c0.116,0.155,0.329,0.47,0.638,0.922c17.873,26.102,40.154,45.446,62.741,54.469c21.745,8.686,32.042,9.69,37.896,9.69c0.001,0,0.001,0,0.001,0c2.46,0,4.429-0.193,6.166-0.364l1.102-0.105c7.512-0.666,24.02-9.22,27.775-19.655c2.958-8.219,3.738-17.199,1.77-20.458C233.168,179.508,230.845,178.393,227.904,176.981z"}),e("path",{id:"XMLID_470_",d:"M156.734,0C73.318,0,5.454,67.354,5.454,150.143c0,26.777,7.166,52.988,20.741,75.928L0.212,302.716c-0.484,1.429-0.124,3.009,0.933,4.085C1.908,307.58,2.943,308,4,308c0.405,0,0.813-0.061,1.211-0.188l79.92-25.396c21.87,11.685,46.588,17.853,71.604,17.853C240.143,300.27,308,232.923,308,150.143C308,67.354,240.143,0,156.734,0zM156.734,268.994c-23.539,0-46.338-6.797-65.936-19.657c-0.659-0.433-1.424-0.655-2.194-0.655c-0.407,0-0.815,0.062-1.212,0.188l-40.035,12.726l12.924-38.129c0.418-1.234,0.209-2.595-0.561-3.647c-14.924-20.392-22.813-44.485-22.813-69.677c0-65.543,53.754-118.867,119.826-118.867c66.064,0,119.812,53.324,119.812,118.867C276.546,215.678,222.799,268.994,156.734,268.994z"})])]),e("span",null,"WhatsApp Order Distribution")],-1),Ce=e("p",{class:"text-sm text-gray-500"},"Distribute customer orders evenly among different WhatsApp numbers. Each number will receive one order message at a time, ensuring balanced order handling.",-1);function Me(t,s,p,h,o,i){const u=n("BulkMobileNumberInput");return a(),_(u,{showWhatsappIcon:!0,isSubmitting:o.isSubmitting,mobileNumbers:i.mobileNumbers,createMobileNumber:i.createStoreRollingNumber,updateMobileNumber:i.updateStoreRollingNumber,deleteMobileNumber:i.deleteStoreRollingNumber,bodyClass:"space-y-4 p-4 border rounded-lg shadow-lg"},{content:m(()=>[Ne,Ce]),_:1},8,["isSubmitting","mobileNumbers","createMobileNumber","updateMobileNumber","deleteMobileNumber"])}const Ve=I(ke,[["render",Me]]),Ie={mixins:[A],components:{Alert:J,TimeInput:Q,TextInput:$,TextHeader:ee,StoreLogo:oe,EmailInput:se,Checkbox:re,UndoButton:le,SelectInput:H,ConfirmModal:ie,TextareaInput:ne,AddressModal:Y,PrimaryButton:ae,ToogleSwitch:me,MobileNumberInput:ue,CountrySelectInput:de,CurrencySelectInput:ce,LanguageSelectInput:Se,BadgeIndicator:ve,FormErrorMessages:_e,StoreRollingNumbers:Ve},data(){return{form:{name:null,taxId:null,email:null,alias:null,online:null,country:null,currency:null,language:null,taxMethod:null,openingHours:[],description:null,distanceUnit:null,smsSenderName:null,offlineMessage:null,ussdMobileNumber:null,taxPercentageRate:null,showOpeningHours:!1,whatsappMobileNumber:null,allowCheckoutOnClosedHours:!1},days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],storeState:g(),aliasModified:!1,isSubmitting:!1,originalForm:null,isDeleting:!1,storeName:""}},watch:{},computed:{store(){return this.storeState.store},address(){return this.store._relationships.address},formHasChanged(){var t=v(this.form),s=v(this.originalForm);return!G(t,s)},mustSaveChanges(){return this.formHasChanged&&!this.isSubmitting}},methods:{setStoreFields(){this.form.name=this.store.name,this.form.email=this.store.email,this.form.alias=this.store.alias,this.form.taxId=this.store.taxId,this.form.online=this.store.online,this.form.country=this.store.country,this.form.language=this.store.language,this.form.taxMethod=this.store.taxMethod,this.form.currency=this.store.currency.code,this.form.description=this.store.description,this.form.distanceUnit=this.store.distanceUnit,this.form.openingHours=this.store.openingHours,this.form.smsSenderName=this.store.smsSenderName,this.form.offlineMessage=this.store.offlineMessage,this.form.showOpeningHours=this.store.showOpeningHours,this.form.ussdMobileNumber=this.store.ussdMobileNumber.international,this.form.taxPercentageRate=this.store.taxPercentageRate.value.toString(),this.form.allowCheckoutOnClosedHours=this.store.allowCheckoutOnClosedHours,this.form.whatsappMobileNumber=this.store.whatsappMobileNumber.international,this.form.openingHours.length==0&&this.generateOpeningHours(),this.originalForm=v(this.form)},resetForm(){this.form=v(this.originalForm)},syncWithAlias(){this.aliasModified==!1&&(this.form.alias=this.form.name,this.formatAlias())},formatAlias(t=!1){this.form.alias.length?(this.form.alias=this.form.alias.replace(/[^a-zA-Z0-9\s-]/g,"").replace(/\s+/g,"-").trim().toLowerCase(),this.aliasModified=t):this.aliasModified=!1},setAddress(t){g().store._relationships.address=t},getDefaultOpeningHour(){return{available:!0,hours:[["08:00","16:00"]]}},generateOpeningHours(){this.form.openingHours=Array(7).fill().map(()=>({...this.getDefaultOpeningHour()}))},addOpeningHour(t){this.form.openingHours[t].hours.push(["08:00","16:00"])},removeOpeningHour(t,s){this.form.openingHours[t].hours.splice(s,1)},updateStore(){if(this.form.name.trim()==""){this.setFormError("name","The store name is required"),this.showUnsuccessfulNotification("The store name is required");return}this.isSubmitting=!0,B(this.store._links.updateStore,this.form).then(t=>{t.status==200&&(g().shouldUpdate=!0,this.originalForm=v(this.form),this.showSuccessfulNotification("Store updated")),this.isSubmitting=!1}).catch(t=>{this.isSubmitting=!1,this.setServerFormErrors(t)})},deleteStore(){this.isDeleting=!0,L(this.store._links.deleteStore).then(t=>{t.status==200&&(t.data.deleted?(this.showSuccessfulNotification("Store deleted"),this.$router.replace({name:"dashboard"}),window.scrollTo(0,0)):(this.setFormError("general",t.data.message),this.showUnsuccessfulNotification(t.data.message))),this.isDeleting=!1}).catch(t=>{this.isDeleting=!1,this.setServerFormErrors(t)})}},mounted(){},created(){this.setStoreFields()}},Pe={class:"bg-white shadow-lg border p-8 rounded-lg mb-4"},De=e("h1",{class:"text-lg font-bold"},"General Settings",-1),Fe={class:"space-y-4"},Ue=e("div",{class:"flex items-center space-x-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})]),e("span",null,"Please save your changes")],-1),Ee={class:"flex items-center space-x-2"},Ae=e("span",{class:"ml-1"},"Undo",-1),He={class:"bg-white mb-4 p-8 rounded-lg"},Oe={action:"#",method:"POST"},Be={class:"space-y-4"},Le=e("div",{class:"flex items-center space-x-1 py-1.5 pl-2 pr-4 rounded-l-md bg-gray-50 text-gray-500 border-r whitespace-nowrap"},[e("svg",{class:"w-5 h-5 mt-0.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.893 13.393-1.135-1.135a2.252 2.252 0 0 1-.421-.585l-1.08-2.16a.414.414 0 0 0-.663-.107.827.827 0 0 1-.812.21l-1.273-.363a.89.89 0 0 0-.738 1.595l.587.39c.59.395.674 1.23.172 1.732l-.2.2c-.212.212-.33.498-.33.796v.41c0 .409-.11.809-.32 1.158l-1.315 2.191a2.11 2.11 0 0 1-1.81 1.025 1.055 1.055 0 0 1-1.055-1.055v-1.172c0-.92-.56-1.747-1.414-2.089l-.655-.261a2.25 2.25 0 0 1-1.383-2.46l.007-.042a2.25 2.25 0 0 1 .29-.787l.09-.15a2.25 2.25 0 0 1 2.37-1.048l1.178.236a1.125 1.125 0 0 0 1.302-.795l.208-.73a1.125 1.125 0 0 0-.578-1.315l-.665-.332-.091.091a2.25 2.25 0 0 1-1.591.659h-.18c-.249 0-.487.1-.662.274a.931.931 0 0 1-1.458-1.137l1.411-2.353a2.25 2.25 0 0 0 .286-.76m11.928 9.869A9 9 0 0 0 8.965 3.525m11.928 9.868A9 9 0 1 1 8.965 3.525"})]),e("span",null,"perfectorder.me"),e("span",{class:"text-gray-400"}," / ")],-1),Re=e("div",{class:"flex items-center space-x-1 py-1.5 px-4 rounded-l-md bg-gray-50 text-gray-500 border-r whitespace-nowrap"},[e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])],-1),We={class:"space-y-4 p-4 border rounded-lg shadow-lg"},ze=fe('<h1 class="flex items-center font-lg font-bold"><svg class="w-6 h-6 mr-4 flex-shrink-0" fill="#44c152" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 308 308" xml:space="preserve"><g id="XMLID_468_"><path id="XMLID_469_" d="M227.904,176.981c-0.6-0.288-23.054-11.345-27.044-12.781c-1.629-0.585-3.374-1.156-5.23-1.156c-3.032,0-5.579,1.511-7.563,4.479c-2.243,3.334-9.033,11.271-11.131,13.642c-0.274,0.313-0.648,0.687-0.872,0.687c-0.201,0-3.676-1.431-4.728-1.888c-24.087-10.463-42.37-35.624-44.877-39.867c-0.358-0.61-0.373-0.887-0.376-0.887c0.088-0.323,0.898-1.135,1.316-1.554c1.223-1.21,2.548-2.805,3.83-4.348c0.607-0.731,1.215-1.463,1.812-2.153c1.86-2.164,2.688-3.844,3.648-5.79l0.503-1.011c2.344-4.657,0.342-8.587-0.305-9.856c-0.531-1.062-10.012-23.944-11.02-26.348c-2.424-5.801-5.627-8.502-10.078-8.502c-0.413,0,0,0-1.732,0.073c-2.109,0.089-13.594,1.601-18.672,4.802c-5.385,3.395-14.495,14.217-14.495,33.249c0,17.129,10.87,33.302,15.537,39.453c0.116,0.155,0.329,0.47,0.638,0.922c17.873,26.102,40.154,45.446,62.741,54.469c21.745,8.686,32.042,9.69,37.896,9.69c0.001,0,0.001,0,0.001,0c2.46,0,4.429-0.193,6.166-0.364l1.102-0.105c7.512-0.666,24.02-9.22,27.775-19.655c2.958-8.219,3.738-17.199,1.77-20.458C233.168,179.508,230.845,178.393,227.904,176.981z"></path><path id="XMLID_470_" d="M156.734,0C73.318,0,5.454,67.354,5.454,150.143c0,26.777,7.166,52.988,20.741,75.928L0.212,302.716c-0.484,1.429-0.124,3.009,0.933,4.085C1.908,307.58,2.943,308,4,308c0.405,0,0.813-0.061,1.211-0.188l79.92-25.396c21.87,11.685,46.588,17.853,71.604,17.853C240.143,300.27,308,232.923,308,150.143C308,67.354,240.143,0,156.734,0zM156.734,268.994c-23.539,0-46.338-6.797-65.936-19.657c-0.659-0.433-1.424-0.655-2.194-0.655c-0.407,0-0.815,0.062-1.212,0.188l-40.035,12.726l12.924-38.129c0.418-1.234,0.209-2.595-0.561-3.647c-14.924-20.392-22.813-44.485-22.813-69.677c0-65.543,53.754-118.867,119.826-118.867c66.064,0,119.812,53.324,119.812,118.867C276.546,215.678,222.799,268.994,156.734,268.994z"></path></g></svg><span>WhatsApp Notifications</span></h1>',1),je={class:"text-sm text-gray-500"},Ze={class:"bg-white mb-4 p-8 rounded-lg"},Ke={action:"#",method:"POST"},Xe={class:"space-y-4"},qe=e("h1",{class:"flex items-center font-lg font-bold"},[e("svg",{class:"w-6 h-6 mr-2 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m6.115 5.19.319 1.913A6 6 0 0 0 8.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 0 0 2.288-4.042 1.087 1.087 0 0 0-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 0 1-.98-.314l-.295-.295a1.125 1.125 0 0 1 0-1.591l.13-.132a1.125 1.125 0 0 1 1.3-.21l.603.302a.809.809 0 0 0 1.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 0 0 1.528-1.732l.146-.292M6.115 5.19A9 9 0 1 0 17.18 4.64M6.115 5.19A8.965 8.965 0 0 1 12 3c1.929 0 3.716.607 5.18 1.64"})]),e("span",null,"Localization")],-1),Ge=e("p",{class:"text-sm text-gray-500"},"Set your store's country, currency, language, and preferred distance unit (Km/Mile) to align with your local market and ensure a seamless shopping experience for your customers.",-1),Je=e("option",{value:"km"},"Kilometer (km)",-1),Qe=e("option",{value:"mile"},"Mile",-1),Ye={class:"bg-white mb-4 p-8 rounded-lg"},$e={action:"#",method:"POST"},eo={class:"space-y-4"},oo=e("h1",{class:"flex items-center font-lg font-bold"},[e("svg",{class:"w-6 h-6 mr-2 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.121 7.629A3 3 0 0 0 9.017 9.43c-.023.212-.002.425.028.636l.506 3.541a4.5 4.5 0 0 1-.43 2.65L9 16.5l1.539-.513a2.25 2.25 0 0 1 1.422 0l.655.218a2.25 2.25 0 0 0 1.718-.122L15 15.75M8.25 12H12m9 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})]),e("span",null,"Tax")],-1),to=e("p",{class:"text-sm text-gray-500"},"Set your store's tax rate and method (Inclusive/Exclusive) to ensure accurate pricing and compliance with local tax regulations.",-1),so={class:"grid grid-cols-2 gap-4"},ro={class:"col-span-1"},lo=e("option",{value:"inclusive"},"Inclusive (Prices include tax)",-1),io=e("option",{value:"exclusive"},"Exclusive (Prices exclude tax)",-1),no={class:"col-span-1"},ao={class:"col-span-2"},mo={class:"bg-white mb-4 p-8 rounded-lg"},uo={action:"#",method:"POST"},co={class:"space-y-4"},po=e("h1",{class:"flex items-center font-lg font-bold"},[e("svg",{class:"w-6 h-6 mr-2 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})]),e("span",null,"Opening Hours")],-1),ho=e("p",{class:"text-sm text-gray-500"},"Set your store's operating hours, including availability and time slots for each day. Indicate if the store is open or closed on any specific day.",-1),go=e("svg",{class:"w-6 h-6 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})],-1),fo=e("span",null,"Customers cannot place orders during closed hours",-1),bo={class:"col-span-1 flex items-center space-x-2"},wo={class:"col-span-1 space-y-2"},vo={class:"flex items-center space-x-2"},_o=e("span",null,"-",-1),xo=["onClick"],yo=e("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),To=[yo],So=["onClick"],ko=e("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})],-1),No=[ko],Co={class:"space-y-4 shadow-lg rounded-lg border p-4 border-red-300 bg-red-50"},Mo=e("h1",{class:"text-lg font-bold"},"Danger",-1),Vo={class:"text-justify"},Io={class:"font-bold text-black"},Po={class:"flex justify-end"};function Do(t,s,p,h,o,i){const u=n("FormErrorMessages"),f=n("UndoButton"),x=n("PrimaryButton"),P=n("Alert"),k=n("ToogleSwitch"),D=n("TextareaInput"),b=n("TextInput"),F=n("MobileNumberInput"),R=n("EmailInput"),W=n("AddressModal"),z=n("BadgeIndicator"),j=n("StoreRollingNumbers"),Z=n("CountrySelectInput"),K=n("CurrencySelectInput"),X=n("LanguageSelectInput"),U=n("SelectInput"),q=n("Checkbox"),E=n("TimeInput");return a(),d("div",null,[e("div",Pe,[De,e("form",{class:ge(i.mustSaveChanges?"mt-4":"mt-10"),action:"#",method:"POST"},[e("div",Fe,[l(u),i.mustSaveChanges?(a(),_(P,{key:0,type:"warning",class:"flex justify-between items-center mb-2"},{default:m(()=>[Ue,e("div",Ee,[l(f,{action:i.resetForm,type:"light",size:"xs"},{default:m(()=>[Ae]),_:1},8,["action"]),l(x,{action:i.updateStore,loading:o.isSubmitting,class:"w-40"},{default:m(()=>[c(" Save Changes ")]),_:1},8,["action","loading"])])]),_:1})):T("",!0),l(k,{size:"md",modelValue:o.form.online,"onUpdate:modelValue":s[0]||(s[0]=r=>o.form.online=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("online"),labelPopoverDescription:"Turn on so that your store is online (Made available to customers). Turn off so that your store is offline (Not available to customers)"},{default:m(()=>[c(" Online ")]),_:1},8,["modelValue","errorText"]),o.form.online?T("",!0):(a(),_(D,{key:1,rows:2,label:"Offline Message",modelValue:o.form.offlineMessage,"onUpdate:modelValue":s[1]||(s[1]=r=>o.form.offlineMessage=r),labelPopoverTitle:"What Is This?",placeholder:"Closed for the holidays",errorText:t.getFormError("offlineMessage"),labelPopoverDescription:"The message to show to customers who visit your store while its offline (Not available to customers)"},null,8,["modelValue","errorText"])),l(b,{label:"Name",modelValue:o.form.name,"onUpdate:modelValue":s[2]||(s[2]=r=>o.form.name=r),onKeyup:i.syncWithAlias,placeholder:"Baby Cakes 🧁",autocomplete:"organization",errorText:t.getFormError("name"),labelPopoverTitle:"What Is This?",labelPopoverDescription:"The name of your store e.g Baby Cakes 🧁"},null,8,["modelValue","onKeyup","errorText"]),l(D,{rows:2,label:"Description",modelValue:o.form.description,"onUpdate:modelValue":s[3]||(s[3]=r=>o.form.description=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("description"),placeholder:"The sweetest cakes in the world 🍰",labelPopoverDescription:"A short and sweet description of your store e.g The sweetest cakes in the world 🍰"},null,8,["modelValue","errorText"])])],2)]),e("div",He,[e("form",Oe,[e("div",Be,[l(b,{modelValue:o.form.alias,"onUpdate:modelValue":s[4]||(s[4]=r=>o.form.alias=r),label:"Store Website",placeholder:"Baby Cakes 🧁",onKeyup:s[5]||(s[5]=()=>i.formatAlias(!0)),labelPopoverTitle:"What Is This?",errorText:t.getFormError("alias"),labelPopoverDescription:"The website link that will be used by customers to visit your store, shop and place orders"},{prepend:m(()=>[Le]),_:1},8,["modelValue","errorText"]),l(F,{label:"USSD Number",modelValue:o.form.ussdMobileNumber,"onUpdate:modelValue":s[6]||(s[6]=r=>o.form.ussdMobileNumber=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("ussdMobileNumber"),labelPopoverDescription:"The mobile number that will be used by customers to dial your store, shop and place orders"},null,8,["modelValue","errorText"]),l(R,{label:"Email",modelValue:o.form.email,"onUpdate:modelValue":s[7]||(s[7]=r=>o.form.email=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("email"),placeholder:"sales@"+(o.form.alias||"example")+".com",labelPopoverDescription:"The store email address e.g sales@"+(o.form.alias||"example")+".com"},null,8,["modelValue","errorText","placeholder","labelPopoverDescription"]),l(b,{maxlength:"11",label:"SMS Sender Name",placeholder:"Baby Cakes",modelValue:o.form.smsSenderName,"onUpdate:modelValue":s[8]||(s[8]=r=>o.form.smsSenderName=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("smsSenderName"),labelPopoverDescription:"The name given to SMS messages sent to the customer by your store e.g Baby Cakes"},{prepend:m(()=>[Re]),_:1},8,["modelValue","errorText"]),l(W,{address:i.address,storeId:i.store.id,onOnCreated:i.setAddress,onOnUpdated:i.setAddress,onOnDeleted:i.setAddress},null,8,["address","storeId","onOnCreated","onOnUpdated","onOnDeleted"]),e("div",We,[ze,e("p",je,[c("Set the primary WhatsApp number that your store will use to automatically send updates and notifications using "),l(z,{type:"primary",text:"workflows",showDot:!1,clickable:!0,onAction:()=>{}}),c(", ensuring clear and timely communication")]),l(F,{label:"WhatsApp Number",labelPopoverTitle:"What Is This?",modelValue:o.form.whatsappMobileNumber,"onUpdate:modelValue":s[9]||(s[9]=r=>o.form.whatsappMobileNumber=r),errorText:t.getFormError("whatsappMobileNumber"),labelPopoverDescription:"The Whatsapp mobile number that will be used to send notifications via whatsapp to customers or team members"},null,8,["modelValue","errorText"])]),l(j)])])]),e("div",Ze,[e("form",Ke,[e("div",Xe,[qe,Ge,l(Z,{width:"w-full",label:"Country",modelValue:o.form.country,"onUpdate:modelValue":s[10]||(s[10]=r=>o.form.country=r),labelPopoverTitle:"What Is This?",labelPopoverDescription:"The country that your store is operating from"},null,8,["modelValue"]),l(K,{width:"w-full",label:"Currency",modelValue:o.form.currency,"onUpdate:modelValue":s[11]||(s[11]=r=>o.form.currency=r),labelPopoverTitle:"What Is This?",labelPopoverDescription:"The currency accepted by your store"},null,8,["modelValue"]),l(X,{width:"w-full",label:"Language",modelValue:o.form.language,"onUpdate:modelValue":s[12]||(s[12]=r=>o.form.language=r),labelPopoverTitle:"What Is This?",labelPopoverDescription:"The language accepted by your store"},null,8,["modelValue"]),l(U,{width:"w-full",label:"Distance Unit",modelValue:o.form.distanceUnit,"onUpdate:modelValue":s[13]||(s[13]=r=>o.form.distanceUnit=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("distanceUnit"),labelPopoverDescription:"Choose the unit of measurement for distances used in your store. For example, kilometers (km) for metric systems or miles for imperial systems. This setting affects shipping calculations and location-based features."},{default:m(()=>[Je,Qe]),_:1},8,["modelValue","errorText"])])])]),e("div",Ye,[e("form",$e,[e("div",eo,[oo,to,e("div",so,[e("div",ro,[l(U,{width:"w-full",label:"Tax Method",modelValue:o.form.taxMethod,"onUpdate:modelValue":s[14]||(s[14]=r=>o.form.taxMethod=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("taxMethod"),labelPopoverDescription:"Choose whether taxes are included in your prices (inclusive) or added on top of prices (exclusive)."},{default:m(()=>[lo,io]),_:1},8,["modelValue","errorText"])]),e("div",no,[l(b,{label:"Tax ID",modelValue:o.form.taxId,"onUpdate:modelValue":s[15]||(s[15]=r=>o.form.taxId=r),placeholder:"12-3456789",errorText:t.getFormError("taxId"),labelPopoverTitle:"What Is This?",labelPopoverDescription:"Provide your tax identification number (e.g. EIN for US, VAT for UK)."},null,8,["modelValue","errorText"])]),e("div",ao,[l(b,{placeholder:"10",label:"Tax Rate (%)",modelValue:o.form.taxPercentageRate,"onUpdate:modelValue":s[16]||(s[16]=r=>o.form.taxPercentageRate=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("taxPercentageRate"),labelPopoverDescription:"Enter the percentage rate for taxes applied to sales. For example, 15 for a 15% VAT or 7.5 for a 7.5% Sales Tax. This rate will be used to calculate taxes on transactions."},null,8,["modelValue","errorText"])])])])])]),e("div",mo,[e("form",uo,[e("div",co,[po,ho,l(k,{size:"md",modelValue:o.form.showOpeningHours,"onUpdate:modelValue":s[17]||(s[17]=r=>o.form.showOpeningHours=r),labelPopoverTitle:"What Is This?",errorText:t.getFormError("showOpeningHours"),labelPopoverDescription:"Turn on if you would like your store to showcase its open or closed hours"},{default:m(()=>[c(" Show opening hours ")]),_:1},8,["modelValue","errorText"]),o.form.showOpeningHours?(a(),d(S,{key:0},[l(k,{size:"md",labelPopoverTitle:"What Is This?",modelValue:o.form.allowCheckoutOnClosedHours,"onUpdate:modelValue":s[18]||(s[18]=r=>o.form.allowCheckoutOnClosedHours=r),errorText:t.getFormError("allowCheckoutOnClosedHours"),labelPopoverDescription:"Turn on to allow customers to place orders during closed hours"},{default:m(()=>[c(" Allow checkout during closed hours ")]),_:1},8,["modelValue","errorText"]),o.form.allowCheckoutOnClosedHours?T("",!0):(a(),_(P,{key:0,type:"warning",class:"flex items-center space-x-2"},{default:m(()=>[go,fo]),_:1})),(a(!0),d(S,null,M(o.form.openingHours,(r,y)=>(a(),d("div",{key:y,class:"border-t border-dashed pt-4 grid grid-cols-2 gap-4 items-start"},[e("div",bo,[l(q,{modelValue:r.available,"onUpdate:modelValue":w=>r.available=w,size:"xs",class:"mt-1"},null,8,["modelValue","onUpdate:modelValue"]),e("span",null,V(o.days[y]),1)]),e("div",wo,[(a(!0),d(S,null,M(r.hours,(w,N)=>(a(),d("div",{key:N},[e("div",vo,[l(E,{modelValue:w[0],"onUpdate:modelValue":C=>w[0]=C,errorText:t.getFormError("openingHours"),class:"w-24"},null,8,["modelValue","onUpdate:modelValue","errorText"]),_o,l(E,{modelValue:w[1],"onUpdate:modelValue":C=>w[1]=C,errorText:t.getFormError("openingHours"),class:"w-24"},null,8,["modelValue","onUpdate:modelValue","errorText"]),N==0?(a(),d("div",{key:0,onClick:()=>i.addOpeningHour(y),class:"flex-shrink-0 cursor-pointer rounded-md border p-1 hover:bg-blue-50 transition-all"},To,8,xo)):(a(),d("div",{key:1,onClick:()=>i.removeOpeningHour(y,N),class:"flex-shrink-0 cursor-pointer rounded-md border p-1 bg-red-50 hover:bg-red-100 transition-all"},No,8,So))])]))),128))])]))),128))],64)):T("",!0)])])]),e("div",Co,[Mo,e("p",Vo,[c(" Do you want to permanently delete "),e("span",Io,V(o.form.name),1),c("? Once this store is deleted you will not be able to recover it. All orders, products, customers, and store-related settings will be permanently deleted and cannot be recovered. Enter the store name to confirm this action. ")]),l(b,{class:"mb-8",label:"Confirm",modelValue:o.storeName,"onUpdate:modelValue":s[19]||(s[19]=r=>o.storeName=r),placeholder:o.form.name,errorText:t.getFormError("name"),labelPopoverTitle:"What Is This?",labelPopoverDescription:"Type the store name ("+o.form.name+") to confirm deleting this store"},null,8,["modelValue","placeholder","errorText","labelPopoverDescription"]),e("div",Po,[l(x,{onClick:i.deleteStore,loading:o.isDeleting,disabled:o.storeName!=o.form.name||o.isDeleting,class:"w-40",type:"danger"},{default:m(()=>[c(" Delete Store ")]),_:1},8,["onClick","loading","disabled"])])])])}const ct=I(Ie,[["render",Do]]);export{ct as default};
