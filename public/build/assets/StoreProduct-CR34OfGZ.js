import{u as H,c as _,i as O}from"./store-store-CiySBc3u.js";import{A as st}from"./Alert-CsxssSMq.js";import{F as W}from"./FormMixin-BysEKQap.js";import{U as z}from"./UtilsMixin-CbFS-0FV.js";import{o,c as s,b as t,h as l,t as g,f as d,d as u,e as p,w as m,F as v,k as F,p as it,n as x,r as h,u as at}from"./app-EZwFWzQg.js";import{T as nt}from"./TextInput-BlwC0yZp.js";import{I as lt}from"./InputTags-CxcHLSsa.js";import{A as ut}from"./AddButton-rhzQm-Fi.js";import{T as ct}from"./TextHeader-CXnkslFG.js";import{M as dt}from"./MoneyInput-o7FF5WVP.js";import{U as mt}from"./UndoButton-SUqYWKEj.js";import{B as ht}from"./BackButton-0lWOK1hG.js";import{N as pt}from"./NumberInput-Dje6SRjv.js";import{S as ft}from"./SelectInput-B92hdI8V.js";import{C as gt}from"./ConfirmModal-Bp7NzThY.js";import{S as vt}from"./ShineEffect-DC1xi9mT.js";import{D as yt}from"./DeleteButton-BYjG5r6J.js";import{T as _t}from"./TextareaInput-C02_nd_v.js";import{S as R}from"./SpinningLoader-B1tzBtka.js";import{P as bt}from"./PrimaryButton-DAD3R8yC.js";import{L as wt}from"./LineSkeleton-D1cno8FP.js";import{M as j}from"./MoreInfoPopover-BrBGAcrV.js";import{u as kt}from"./form-store-BOyv0lmT.js";import{B as Vt}from"./BackdropLoader-Dqg3lq2w.js";import{T as q}from"./ToogleSwitch-YAYsdk5Y.js";import{B as Z}from"./BadgeIndicator-BCtNiC1n.js";import{F as Pt}from"./FormErrorMessages-Cl60s8JN.js";import{I as Tt}from"./InputErrorMessage-CeDumG2V.js";import{g as K,p as N,a as xt,d as At}from"./api-repository-B9Ai7pNX.js";import{B as St}from"./BasicTable-D4NHOnGD.js";import{N as Ct}from"./NoDataPlaceholder-D0HdjEFU.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputLabel-BiesuoZM.js";import"./vue3-tags-input.esm-QkUTzdT6.js";import"./StatusDot-DVyZdqLT.js";import"./SearchInput-D3KZdWPn.js";import"./index-B_gOZyBG.js";const Et={mixins:[W,z],components:{MoreInfoPopover:j,ToogleSwitch:q,BasicTable:St,SpinningLoader:R,BadgeIndicator:Z,NoDataPlaceholder:Ct},props:{product:{type:Object},isLoadingProduct:{type:Boolean},isCreatingVariations:{type:Boolean}},data(){return{pagination:null,searchTerm:null,showEverything:!1,sentFirstRequest:!1,storeState:H(),isLoadingProductVariations:!1}},watch:{isLoadingProduct(r,a){r==!1&&this.getProductVariations()},isCreatingVariations(r,a){r==!1&&this.getProductVariations()}},computed:{store(){return this.storeState.store},products(){return(this.pagination??{}).data??[]},hasVariations(){return this.totalVariations>0},totalVariations(){return(this.pagination??{}).total??0},tableHeaders(){return this.showEverything?["Name","Properties","Description","Visibility","Price","Stock","Variations","Quantity Per Order","Created Date"]:["Name","Properties","Visibility","Price","Stock","Variations"]}},methods:{onEdit(r){this.$router.push({name:"show-store-product",params:{store_href:this.store._links.showStore,product_href:r._links.showProduct}})},paginate(r){this.getProductVariations(r)},search(r){this.searchTerm=r,this.getProductVariations()},getProductVariations(r=null){this.isLoadingProductVariations=!0;const a={};this.searchTerm!=null&&this.searchTerm!=""&&(a.search=this.searchTerm),r=r??this.product._links.showProductVariations,K(r,a).then(y=>{y.status==200&&(this.pagination=y.data),this.isLoadingProductVariations=!1,this.sentFirstRequest=!0}).catch(y=>{this.isLoadingProductVariations=!1,this.setServerFormErrors(y)})}},mounted(){},created(){this.getProductVariations()}},Ft={class:"flex items-center"},Lt={class:"font-bold text-lg"},Dt={key:0},It={key:0,class:"text-xs"},Mt={key:1,class:"flex justify-center"},Bt={key:2,class:"mt-4"},Ut=["onClick"],Qt={class:"whitespace-nowrap px-4 py-4"},Ot={class:"flex space-x-1 items-center w-40"},Nt=t("hr",null,null,-1),Ht=t("span",null,"SKU: ",-1),Wt={key:0,class:"text-black"},zt=t("span",null,"Barcode: ",-1),Rt={key:0,class:"text-black"},jt=t("hr",null,null,-1),qt={class:"whitespace-nowrap px-4 py-4"},Zt={class:"flex space-x-1"},Kt={key:0,class:"px-4 py-4"},Gt={class:"flex space-x-1 items-center w-60"},Yt={class:"whitespace-nowrap px-4 py-4"},Jt={class:"flex space-x-1 items-center"},Xt={class:"whitespace-nowrap px-4 py-4"},$t={key:1,class:"flex space-x-1 items-center"},te=t("hr",null,null,-1),ee={key:0},oe=t("hr",null,null,-1),re=t("p",{class:"font-bold text-black"},[l("Price: "),t("span",{class:"text-green-500"},"Free")],-1),se={key:2,class:"text-black"},ie={class:"font-bold"},ae={class:"whitespace-nowrap px-4 py-4"},ne={key:1,class:"flex space-x-1 items-center"},le={class:"whitespace-normal"},ue={key:0},ce={key:1},de={class:"whitespace-nowrap px-4 py-4"},me={class:"flex space-x-1 items-center"},he={class:"whitespace-normal"},pe=t("hr",{class:"my-2"},null,-1),fe={class:"whitespace-nowrap px-4 py-4"},ge={class:"flex space-x-1 items-center"},ve={class:"whitespace-normal"},ye={class:"whitespace-nowrap px-4 py-4"},_e={class:"flex space-x-1 items-center"},be={key:1,class:"flex justify-between p-20 border rounded-lg bg-gray-50"},we=t("span",{class:"ml-2"},"Creating variations",-1),ke={key:1,class:"space-y-4"},Ve=t("h1",{class:"text-2xl font-bold"},"No variations",-1),Pe=t("p",null,[l("Add your product options above ☝️ and then "),t("span",{class:"underline decoration-dashed underline-offset-4"},"create"),l(" the different variations of your product")],-1),Te=[Ve,Pe],xe=t("span",{class:"text-8xl"},"🛍️",-1),Ae=[xe];function Se(r,a,y,A,e,n){const b=h("MoreInfoPopover"),S=h("SpinningLoader"),D=h("ToogleSwitch"),w=h("BadgeIndicator"),C=h("NoDataPlaceholder"),P=h("BasicTable");return o(),s("div",null,[t("div",Ft,[t("p",Lt,[l("Variations "),n.hasVariations?(o(),s("span",Dt,"("+g(n.totalVariations)+")",1)):d("",!0)]),u(b,{class:"ml-2 mt-1",title:"What Is This?",description:"Variations are different options of the same product e.g options for sizes, colors or materials.",placement:"top"})]),n.hasVariations?(o(),s("p",It,"Select any variations to make changes")):d("",!0),!e.sentFirstRequest&&e.isLoadingProductVariations?(o(),s("div",Mt,[u(S,{class:"my-4"})])):(o(),s("div",Bt,[n.totalVariations>0?(o(),p(P,{key:0,pagination:e.pagination,isLoading:e.isLoadingProductVariations,onPaginate:n.paginate,onSearch:n.search,onRefresh:n.getProductVariations,totalHeaders:n.tableHeaders.length},{primaryFilters:m(()=>[u(D,{modelValue:e.showEverything,"onUpdate:modelValue":a[0]||(a[0]=i=>e.showEverything=i),size:"md",labelPopoverTitle:"What Is This?",labelPopoverDescription:"Turn on if you want to show more information about your product variations"},{default:m(()=>[l(" Show Everything ")]),_:1},8,["modelValue"])]),head:m(()=>[t("tr",null,[(o(!0),s(v,null,F(n.tableHeaders,(i,T)=>(o(),s("th",{key:T,scope:"col",class:"whitespace-nowrap px-4 py-3"},g(i),1))),128))])]),body:m(()=>[(o(!0),s(v,null,F(n.products,(i,T)=>(o(),s("tr",{onClick:it(L=>n.onEdit(i),["stop"]),key:T,class:"group cursor-pointer bg-white hover:bg-gray-50 border-b"},[t("td",Qt,[t("div",Ot,[t("span",null,g(i.name),1),u(b,{class:"opacity-0 group-hover:opacity-100",title:i.name,placement:"top"},{description:m(()=>[Nt,t("p",null,[Ht,i.sku?(o(),s("span",Wt)):(o(),p(w,{key:1,type:"info",text:"None",showDot:!1}))]),t("p",null,[zt,i.barcode?(o(),s("span",Rt)):(o(),p(w,{key:1,type:"info",text:"None",showDot:!1}))]),i.showDescription.status&&i.description!=null?(o(),s(v,{key:0},[jt,t("p",null,g(i.description),1)],64)):d("",!0)]),_:2},1032,["title"])])]),t("td",qt,[t("div",Zt,[(o(!0),s(v,null,F(i._relationships.variables,(L,V)=>(o(),p(w,{key:V,type:"info",text:L.value,showDot:!1},null,8,["text"]))),128))])]),e.showEverything?(o(),s("td",Kt,[t("div",Gt,[i.description==null?(o(),p(C,{key:0})):(o(),s(v,{key:1},[t("span",{class:x({"line-through":i.showDescription.status==!1})},g(i.description),3),u(b,{class:"opacity-0 group-hover:opacity-100",description:i.showDescription.description,placement:"top"},null,8,["description"])],64))])])):d("",!0),t("td",Yt,[t("div",Jt,[u(w,{type:i.visible.status?"success":"warning",text:i.visible.name,showDot:!1},null,8,["type","text"]),u(b,{class:"opacity-0 group-hover:opacity-100",title:i.visible.name,description:i.visible.description,placement:"top"},null,8,["title","description"])])]),t("td",Xt,[i.allowVariations.status?(o(),p(C,{key:0})):(o(),s("div",$t,[i.isFree.status?(o(),p(w,{key:0,type:"info",text:"Free",showDot:!1})):(o(),s(v,{key:1},[t("span",null,g(i.unitPrice.amountWithCurrency),1),i.onSale.status?(o(),p(w,{key:0,type:"success",text:"on sale",showDot:!1})):d("",!0)],64)),u(b,{class:"opacity-0 group-hover:opacity-100",title:"Pricing",placement:"top"},{description:m(()=>[i.hasPrice.status?(o(),s(v,{key:0},[te,t("p",null,[l("Regular Price: "),t("span",{class:x(["text-black",{"line-through":i.onSale.status||i.isFree.status}])},g(i.unitRegularPrice.amountWithCurrency),3)]),i.onSale.status?(o(),s("p",ee,[l("Sale Price: "),t("span",{class:x(["text-black",{"line-through":i.isFree.status}])},g(i.unitSalePrice.amountWithCurrency),3)])):d("",!0)],64)):d("",!0),oe,i.isFree.status?(o(),s(v,{key:1},[t("p",null,g(i.isFree.description),1),re],64)):(o(),s("p",se,[l("Price: "),t("span",ie,g(i.unitPrice.amountWithCurrency),1)]))]),_:2},1024)]))]),t("td",ae,[i.allowVariations.status?(o(),p(C,{key:0})):(o(),s("div",ne,[u(w,{type:i.hasStock.status?"info":"danger",text:i.hasStock.status?i.stockQuantityType.value.toLowerCase()=="unlimited"?"Unlimited":i.stockQuantity.description:i.hasStock.name,showDot:!1},null,8,["type","text"]),u(b,{class:"opacity-0 group-hover:opacity-100",title:"Stock",placement:"top"},{description:m(()=>[t("div",le,[i.stockQuantityType.value.toLowerCase()=="unlimited"?(o(),s("p",ue,g(i.stockQuantityType.description),1)):(o(),s("p",ce,g(i.stockQuantity.description),1))])]),_:2},1024)]))]),t("td",de,[t("div",me,[u(w,{type:"info",text:i.allowVariations.name.toLowerCase()=="yes"?i.totalVisibleVariations:"None",showDot:!1},null,8,["text"]),u(b,{class:"opacity-0 group-hover:opacity-100",title:"Allow Variations",placement:"top"},{description:m(()=>[t("div",he,[t("p",null,g(i.allowVariations.description),1),i.allowVariations.status?(o(),s(v,{key:0},[pe,t("p",null,[l("Total Variations: "),t("span",null,g(i.totalVariations??"..."),1)]),t("p",null,[l("Total Visible Variations: "),t("span",null,g(i.totalVisibleVariations??"..."),1)])],64)):d("",!0)])]),_:2},1024)])]),e.showEverything?(o(),s(v,{key:1},[t("td",fe,[t("div",ge,[u(w,{type:"info",text:i.allowedQuantityPerOrder.value.toLowerCase()=="unlimited"?"Unlimited":i.maximumAllowedQuantityPerOrder.value,showDot:!1},null,8,["text"]),u(b,{class:"opacity-0 group-hover:opacity-100",title:"Quantity Per Order",placement:"top"},{description:m(()=>[t("div",ve,[t("p",null,g(i.allowedQuantityPerOrder.description),1)])]),_:2},1024)])]),t("td",ye,[t("div",_e,[t("span",null,g(r.formattedDatetime(i.createdAt)),1),u(b,{class:"opacity-0 group-hover:opacity-100",title:r.formattedRelativeDate(i.createdAt),placement:"top"},null,8,["title"])])])],64)):d("",!0)],8,Ut))),128))]),_:1},8,["pagination","isLoading","onPaginate","onSearch","onRefresh","totalHeaders"])):(o(),s("div",be,[y.isCreatingVariations?(o(),p(S,{key:0},{default:m(()=>[we]),_:1})):(o(),s("div",ke,Te)),t("div",{class:x({"animate-bounce":y.isCreatingVariations})},Ae,2)]))]))])}const Ce=G(Et,[["render",Se]]),Ee={mixins:[z,W],components:{Alert:st,TextInput:nt,TextHeader:ct,MoneyInput:dt,InputTags:lt,AddButton:ut,UndoButton:mt,BackButton:ht,NumberInput:pt,SelectInput:ft,ConfirmModal:gt,ShineEffect:vt,DeleteButton:yt,TextareaInput:_t,SpinningLoader:R,PrimaryButton:bt,LineSkeleton:wt,MoreInfoPopover:j,BackdropLoader:Vt,ToogleSwitch:q,BadgeIndicator:Z,FormErrorMessages:Pt,InputErrorMessage:Tt,ProductVariations:Ce},data(){return{form:{sku:"",name:"",barcode:"",isFree:!1,visible:!0,storeId:null,description:"",stockQuantity:"100",unitSalePrice:"0.00",variantAttributes:[],allowVariations:!1,showDescription:!1,unitRegularPrice:"0.00",stockQuantityType:"Unlimited",maximumAllowedQuantityPerOrder:"1",allowedQuantityPerOrder:"Unlimited"},product:null,isDeleting:!1,originalForm:null,isSubmitting:!1,apiState:at(),isLoadingProduct:!1,storeState:H(),isCreatingVariations:!1,originalVariantAttributes:[],notificationState:kt()}},watch:{"$route.params.product_href"(r,a){window.scrollTo(0,0),this.getProduct()}},computed:{store(){return this.storeState.store},isCreating(){return this.$route.name==="create-store-product"},isEditting(){return this.$route.name==="show-store-product"},hasVariantAttributes(){return this.form.variantAttributes.length>0},hasOriginalVariantAttributes(){return this.originalVariantAttributes.length>0},variantAttributesHaveChanged(){var r=_(this.form.variantAttributes),a=_(this.originalVariantAttributes);return r.forEach(y=>delete y.isEditable),a.forEach(y=>delete y.isEditable),!O(r,a)},formHasChanged(){var r=_(this.form),a=_(this.originalForm);return!O(r,a)},mustSaveChanges(){return this.isEditting&&this.formHasChanged&&!this.isLoadingProduct&&!this.isSubmitting},mustCreate(){return this.isCreating&&this.formHasChanged&&!this.isLoadingProduct&&!this.isSubmitting}},methods:{setProductFields(){this.form.sku=this.product.sku,this.form.name=this.product.name,this.form.barcode=this.product.barcode,this.form.isFree=this.product.isFree.status,this.form.visible=this.product.visible.status,this.form.description=this.product.description,this.form.allowVariations=this.product.allowVariations.status,this.form.showDescription=this.product.showDescription.status,this.form.stockQuantityType=this.product.stockQuantityType.value,this.form.stockQuantity=this.product.stockQuantity.value.toString(),this.form.allowedQuantityPerOrder=this.product.allowedQuantityPerOrder.value,this.form.unitSalePrice=this.covertToValidMoney(this.product.unitSalePrice.amountWithoutCurrency),this.form.maximumAllowedQuantityPerOrder=this.product.maximumAllowedQuantityPerOrder.value.toString(),this.form.unitRegularPrice=this.covertToValidMoney(this.product.unitRegularPrice.amountWithoutCurrency),this.form.variantAttributes=this.product.variantAttributes.map(r=>(r.isEditable=!1,r)),this.originalVariantAttributes=_(this.form.variantAttributes),this.originalForm=_(this.form)},goBack(){this.product?this.product.parentProductId?this.$router.replace({name:"show-store-product",params:{store_href:this.store._links.showStore,product_href:this.product._links.showParentProduct}}):this.$router.replace({name:"show-store-products",params:{store_href:this.store._links.showStore}}):this.$router.replace({name:"show-store-products",params:{store_href:this.store._links.showStore}})},onAddVariantAttribute(){this.form.variantAttributes.some(r=>r.name.toLowerCase()==="size")?this.form.variantAttributes.some(r=>r.name.toLowerCase()==="colour")?this.form.variantAttributes.some(r=>r.name.toLowerCase()==="material")?this.form.variantAttributes.push({name:"",isEditable:!0,instruction:"",values:[]}):this.form.variantAttributes.push({name:"Material",isEditable:!0,instruction:"Select your material",values:["Cotton","Nylon"]}):this.form.variantAttributes.push({name:"Colour",isEditable:!0,instruction:"Select your colour",values:["Red","Blue","Green"]}):this.form.variantAttributes.push({name:"Size",isEditable:!0,instruction:"Select your size",values:["Small","Medium","Large"]})},onRemoveVariantAttribute(r){this.form.variantAttributes.splice(r,1)},onResetVariantAttributes(){this.form.variantAttributes=_(this.originalVariantAttributes)},getProduct(){this.isLoadingProduct=!0,K(this.$route.params.product_href).then(r=>{r.status==200&&r.data.exists&&(this.product=r.data.product,this.setProductFields()),this.isLoadingProduct=!1}).catch(r=>{this.isLoadingProduct=!1,this.setServerFormErrors(r)})},createProduct(){if(this.form.name.trim()==""){this.setFormError("name","The product name is required"),this.showUnsuccessfulNotification("The product name is required"),window.scrollTo(0,0);return}if(this.form.allowVariations&&this.form.variantAttributes.length==0){this.setFormError("allowVariations","Add variation options"),this.showUnsuccessfulNotification("Add variation options"),window.scrollTo(0,0);return}this.isSubmitting=!0,this.form.return=!0,N(this.apiState.apiHome._links.createProduct,this.form).then(r=>{if(r.status==200)if(this.showSuccessfulNotification("Product created"),this.form.allowVariations){if(this.form.variantAttributes.length){var a=r.data.product;this.createProductVariations(a)}}else this.$router.push({name:"show-store-products",params:{store_href:this.store._links.showStore}}),window.scrollTo(0,0);this.isSubmitting=!1}).catch(r=>{this.isSubmitting=!1,this.setServerFormErrors(r)})},createProductVariations(r=null){if(this.isCreatingVariations)return;this.isCreatingVariations=!0;let a={variantAttributes:this.form.variantAttributes};const y=r?r._links.createProductVariations:this.product._links.createProductVariations;N(y,a).then(A=>{A.status==200&&(r==null?(this.originalForm=_(this.form),this.form.variantAttributes=this.form.variantAttributes.map(e=>(e.isEditable=!1,e)),this.originalForm.variantAttributes=_(this.form.variantAttributes),this.originalVariantAttributes=_(this.form.variantAttributes)):this.$router.replace({name:"show-store-product",params:{store_href:this.store._links.showStore,product_href:r._links.showProduct}})),this.isCreatingVariations=!1}).catch(A=>{this.isCreatingVariations=!1,this.setServerFormErrors(A)})},updateProduct(){if(this.form.name.trim()==""){this.setFormError("name","The product name is required"),this.showUnsuccessfulNotification("The product name is required"),window.scrollTo(0,0);return}this.isSubmitting=!0,xt(this.product._links.updateProduct,this.form).then(r=>{r.status==200&&(this.originalForm=_(this.form),this.showSuccessfulNotification("Product updated")),this.isSubmitting=!1}).catch(r=>{this.isSubmitting=!1,this.setServerFormErrors(r)})},deleteProduct(){this.isDeleting=!0,At(this.product._links.deleteProduct).then(r=>{r.status==200&&(r.data.deleted?(this.showSuccessfulNotification("Product deleted"),this.product._attributes.isVariation?this.$router.replace({name:"show-store-product",params:{store_href:this.store._links.showStore,product_href:this.product._links.showParentProduct}}):(this.$router.replace({name:"show-store-products",params:{store_href:this.store._links.showStore}}),window.scrollTo(0,0))):(this.setFormError("general",r.data.message),this.showUnsuccessfulNotification(r.data.message))),this.isDeleting=!1}).catch(r=>{this.isDeleting=!1,this.setServerFormErrors(r)})}},mounted(){},created(){this.form.storeId=this.store.id,this.originalForm=_(this.form),this.isEditting&&this.getProduct()}},Fe={class:"flex justify-start items-center border-dashed py-6"},Le={key:0,class:"flex items-center space-x-2"},De={action:"#",method:"POST"},Ie={class:"flex items-center space-x-2"},Me=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1),Be=t("svg",{class:"w-3 h-3 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})],-1),Ue={class:"grid grid-cols-12 gap-4 mb-8"},Qe={class:"col-span-8 relative"},Oe={class:"space-y-4 bg-white shadow-lg rounded-lg border p-4 mb-4"},Ne=t("span",{class:"font-bold"},"Free",-1),He={class:"flex space-x-4"},We=t("option",{value:"Limited"},"Limited",-1),ze=t("option",{value:"Unlimited"},"Unlimited",-1),Re={class:"flex space-x-4"},je=t("option",{value:"Limited"},"Limited",-1),qe=t("option",{value:"Unlimited"},"Unlimited",-1),Ze={class:"space-y-4 bg-white shadow-lg rounded-lg border p-4 mb-4"},Ke={key:1},Ge={class:"flex justify-between p-20 border rounded-lg bg-gray-50"},Ye={class:"space-y-4"},Je={class:"text-2xl font-bold"},Xe={key:0},$e={key:1},to={key:2},eo=t("div",null,[t("span",{class:"text-8xl"},"🛍️")],-1),oo={class:"absolute top-2 right-2 flex items-center space-x-2"},ro=["onClick"],so={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"},io={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"},ao={key:0,class:"space-y-4"},no=["onClick"],lo={class:"text-black"},uo={class:"text-xs text-black"},co={class:"flex space-x-2"},mo={class:"flex justify-end space-x-2"},ho=t("span",{class:"ml-1"},"Undo",-1),po={class:"flex justify-end"},fo={class:"relative"},go={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2"},vo={key:0,class:"animate-bounce text-4xl"},yo={class:"ml-2"},_o={key:1,class:"relative"},bo={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2"},wo={key:0,class:"animate-bounce text-4xl"},ko=t("svg",{class:"w-3 h-3 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})],-1),Vo={class:"col-span-4"},Po={class:"flex flex-col justify-between bg-white shadow-lg rounded-lg border p-4 relative"},To={class:"space-y-4"},xo={class:"flex items-center space-x-4"},Ao=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"},null,-1),So=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),Co=[Ao,So],Eo=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"},null,-1),Fo=[Eo],Lo=t("span",{class:"font-bold"},"hidden",-1),Do={class:"col-span-12"},Io={key:0,class:"space-y-4 bg-white shadow-lg rounded-lg border p-4"},Mo=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1),Bo={class:"font-bold text-black"},Uo={class:"flex justify-end"},Qo=t("p",{class:"text-lg font-bold border-b border-dashed pb-4 mb-4"},"Confirm Delete",-1),Oo={class:"mb-8"},No={class:"font-bold text-black"};function Ho(r,a,y,A,e,n){const b=h("BackButton"),S=h("LineSkeleton"),D=h("ShineEffect"),w=h("TextHeader"),C=h("MoreInfoPopover"),P=h("PrimaryButton"),i=h("Alert"),T=h("BackdropLoader"),L=h("FormErrorMessages"),V=h("TextInput"),E=h("ToogleSwitch"),B=h("MoneyInput"),Y=h("TextareaInput"),U=h("SelectInput"),Q=h("NumberInput"),I=h("BadgeIndicator"),J=h("DeleteButton"),X=h("InputTags"),M=h("InputErrorMessage"),$=h("UndoButton"),tt=h("AddButton"),et=h("ProductVariations"),ot=h("ConfirmModal");return o(),s("div",null,[t("div",Fe,[u(b,{class:"w-16 mr-4",action:n.goBack},null,8,["action"]),e.isLoadingProduct?(o(),s("div",Le,[u(D,{class:"flex space-x-2"},{default:m(()=>[u(S,{width:"w-40 mt-2"}),u(S,{width:"w-4 mt-2"})]),_:1})])):(o(),s(v,{key:1},[u(w,null,{default:m(()=>[l(g(n.isCreating?"Add Product":e.form.name),1)]),_:1}),u(C,{class:"ml-2 mt-1",title:"What Is This?",description:"Products are physical or non physical items that customers can place orders and pay for using your preferred payment methods",placement:"top"})],64))]),t("form",De,[n.mustCreate&&!(e.form.allowVariations&&!n.hasVariantAttributes)||n.mustSaveChanges?(o(),p(i,{key:0,type:"warning",class:"flex justify-between items-center mb-2"},{default:m(()=>[t("div",Ie,[Me,t("span",null,[!e.product&&n.variantAttributesHaveChanged&&n.hasVariantAttributes?(o(),s(v,{key:0},[l("Create your product and variations")],64)):n.variantAttributesHaveChanged&&n.hasVariantAttributes?(o(),s(v,{key:1},[l("Create your product variations")],64)):(o(),s(v,{key:2},[l(g(n.isCreating?"Create your product":"Please save your changes"),1)],64))])]),n.variantAttributesHaveChanged&&n.hasVariantAttributes?(o(),p(P,{key:0,action:()=>e.product?n.createProductVariations():n.createProduct(),loading:e.isCreatingVariations,class:"w-48",type:"primary"},{default:m(()=>[Be,l(" Create Variations ")]),_:1},8,["action","loading"])):(o(),p(P,{key:1,action:n.isCreating?n.createProduct:n.updateProduct,loading:e.isSubmitting,class:"w-40"},{default:m(()=>[l(g(n.isCreating?"Create Product":"Save Changes"),1)]),_:1},8,["action","loading"]))]),_:1})):d("",!0),t("div",Ue,[t("div",Qe,[e.isLoadingProduct||e.isSubmitting?(o(),p(T,{key:0,class:"rounded-lg"})):d("",!0),t("div",Oe,[u(L),u(V,{label:"Name",modelValue:e.form.name,"onUpdate:modelValue":a[0]||(a[0]=c=>e.form.name=c),placeholder:"Standard Ticket",labelPopoverTitle:"What Is This?",errorText:r.getFormError("name"),labelPopoverDescription:"The name of your product e.g Standard Ticket"},null,8,["modelValue","errorText"]),e.form.allowVariations==!1?(o(),s(v,{key:0},[u(E,{size:"md",modelValue:e.form.isFree,"onUpdate:modelValue":a[1]||(a[1]=c=>e.form.isFree=c),labelPopoverTitle:"What Is This?",errorText:r.getFormError("isFree"),labelPopoverDescription:"Turn on if you want your product to be made Free for customers"},{default:m(()=>[l(" Is Free ")]),_:1},8,["modelValue","errorText"]),e.form.isFree?(o(),p(i,{key:0},{default:m(()=>[l(" This product is "),Ne]),_:1})):(o(),s(v,{key:1},[u(B,{label:"Regular Price",modelValue:e.form.unitRegularPrice,"onUpdate:modelValue":a[2]||(a[2]=c=>e.form.unitRegularPrice=c),labelPopoverTitle:"What Is This?",errorText:r.getFormError("unitRegularPrice"),labelPopoverDescription:"Set the regular price of this product (How much the product is sold when its not on sale)"},null,8,["modelValue","errorText"]),u(B,{label:"Sale Price",modelValue:e.form.unitSalePrice,"onUpdate:modelValue":a[3]||(a[3]=c=>e.form.unitSalePrice=c),labelPopoverTitle:"What Is This?",errorText:r.getFormError("unitSalePrice"),labelPopoverDescription:"Set the sale price of this product (if the product is on sale)"},null,8,["modelValue","errorText"])],64)),u(E,{size:"md",modelValue:e.form.showDescription,"onUpdate:modelValue":a[4]||(a[4]=c=>e.form.showDescription=c),labelPopoverTitle:"What Is This?",errorText:r.getFormError("showDescription"),labelPopoverDescription:"Turn on if you want to show the product description to customers"},{default:m(()=>[l(" Show Description ")]),_:1},8,["modelValue","errorText"]),e.form.showDescription?(o(),p(Y,{key:2,rows:2,label:"Description",modelValue:e.form.description,"onUpdate:modelValue":a[5]||(a[5]=c=>e.form.description=c),labelPopoverTitle:"What Is This?",errorText:r.getFormError("description"),placeholder:"1 day show with popular artists",labelPopoverDescription:"Sweet and short description of your product e.g 1 day show with popular artists"},null,8,["modelValue","errorText"])):d("",!0),t("div",He,[u(U,{label:"Available Stock",modelValue:e.form.stockQuantityType,"onUpdate:modelValue":a[6]||(a[6]=c=>e.form.stockQuantityType=c),labelPopoverTitle:"What Is This?",errorText:r.getFormError("stockQuantityType"),labelPopoverDescription:"Select the available stock e.g Unlimited means that stock is always available while limited means that stock is limited to the quatities specified"},{default:m(()=>[We,ze]),_:1},8,["modelValue","errorText"]),e.form.stockQuantityType=="Limited"?(o(),p(Q,{key:0,min:"1",modelValue:e.form.stockQuantity,"onUpdate:modelValue":a[7]||(a[7]=c=>e.form.stockQuantity=c),labelPopoverTitle:"What Is This?",label:"Stock Quantity",placeholder:"100",errorText:r.getFormError("stockQuantity"),labelPopoverDescription:"Set the stock quantity e.g 100 means that you only have 100 items of this product"},null,8,["modelValue","errorText"])):d("",!0)]),t("div",Re,[u(U,{label:"Quantities Per Order",labelPopoverTitle:"What Is This?",modelValue:e.form.allowedQuantityPerOrder,"onUpdate:modelValue":a[8]||(a[8]=c=>e.form.allowedQuantityPerOrder=c),errorText:r.getFormError("allowedQuantityPerOrder"),labelPopoverDescription:"Select the maximum quantity per order of this product (Used to manage supply and demand) e.g Unlimited means that a customer can specify any quantity while limited means that a customer can only specify up to the maximum quantity that you support"},{default:m(()=>[je,qe]),_:1},8,["modelValue","errorText"]),e.form.allowedQuantityPerOrder=="Limited"?(o(),p(Q,{key:0,min:"1",placeholder:"10",labelPopoverTitle:"What Is This?",label:"Maximum Quantities Per Order",modelValue:e.form.maximumAllowedQuantityPerOrder,"onUpdate:modelValue":a[9]||(a[9]=c=>e.form.maximumAllowedQuantityPerOrder=c),errorText:r.getFormError("maximumAllowedQuantityPerOrder"),labelPopoverDescription:"Set the maximum quantity per order of this product (Used to manage supply and demand) e.g 10 means that a customer can only specify a quantity of 1 up to 10 when placing an order. They will not be permitted to order anymore than this quantity"},null,8,["modelValue","errorText"])):d("",!0)])],64)):d("",!0)]),t("div",Ze,[e.form.allowVariations||n.hasOriginalVariantAttributes?(o(),p(E,{key:0,labelPopoverTitle:"What Is This?",modelValue:e.form.allowVariations,"onUpdate:modelValue":a[10]||(a[10]=c=>e.form.allowVariations=c),size:"md",errorText:r.getFormError("allowVariations"),labelPopoverDescription:"Turn on if you want your product to support variations (different versions of itself e.g different sizes, materials, colors, etc)"},{default:m(()=>[l(" Allow variations ")]),_:1},8,["modelValue","errorText"])):d("",!0),n.hasOriginalVariantAttributes?d("",!0):(o(),s("div",Ke,[t("div",Ge,[t("div",Ye,[t("h1",Je,[e.form.allowVariations&&n.hasVariantAttributes?(o(),s(v,{key:0},[l("Create Variations")],64)):e.form.allowVariations?(o(),s(v,{key:1},[l("Add Options")],64)):(o(),s(v,{key:2},[l("Have Options?")],64))]),n.hasVariantAttributes?(o(),s("p",Xe,[l("Click the "),u(I,{type:"primary",text:"Create Variations",showDot:!1}),l(" button to create different variations of your product e.g different sizes, materials, colors, etc")])):e.form.allowVariations?(o(),s("p",$e,[l("Click the "),u(I,{type:"primary",text:"+ Add Option",showDot:!1}),l(" button to add different variations of your product e.g different sizes, materials, colors, etc")])):(o(),s("p",to,[l("Turn on "),u(I,{type:"primary",text:"Allow variations",showDot:!1}),l(" if you want your product to support variations (different versions of itself e.g different sizes, materials, colors, etc)")])),e.form.allowVariations?d("",!0):(o(),p(E,{key:3,labelPopoverTitle:"What Is This?",modelValue:e.form.allowVariations,"onUpdate:modelValue":a[11]||(a[11]=c=>e.form.allowVariations=c),size:"md",errorText:r.getFormError("allowVariations"),labelPopoverDescription:"Turn on if you want your product to support variations (different versions of itself e.g different sizes, materials, colors, etc)"},{default:m(()=>[l(" Allow variations ")]),_:1},8,["modelValue","errorText"]))]),eo])])),e.form.allowVariations?(o(),s(v,{key:2},[(o(!0),s(v,null,F(e.form.variantAttributes,(c,f)=>(o(),s("div",{key:f,class:"relative bg-gray-50 p-4 border rounded-lg"},[t("div",oo,[(o(),s("svg",{class:"w-6 h-6 cursor-pointer hover:opacity-50",onClick:k=>e.form.variantAttributes[f].isEditable=!e.form.variantAttributes[f].isEditable,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e.form.variantAttributes[f].isEditable?(o(),s("path",so)):(o(),s("path",io))],8,ro)),u(J,{action:()=>n.onRemoveVariantAttribute(f),size:"xs",type:"danger"},null,8,["action"])]),e.form.variantAttributes[f].isEditable?(o(),s("div",ao,[u(V,{label:"Name",placeholder:"Size",labelPopoverTitle:"What Is This?",modelValue:e.form.variantAttributes[f].name,"onUpdate:modelValue":k=>e.form.variantAttributes[f].name=k,errorText:r.getFormError("variantAttributes"+f+"name"),labelPopoverDescription:"The variation name e.g Size, Color, Material, etc"},null,8,["modelValue","onUpdate:modelValue","errorText"]),u(V,{label:"Instruction",placeholder:"Select your size",labelPopoverTitle:"What Is This?",modelValue:e.form.variantAttributes[f].instruction,"onUpdate:modelValue":k=>e.form.variantAttributes[f].instruction=k,errorText:r.getFormError("variantAttributes"+f+"instruction"),labelPopoverDescription:"The variation instruction e.g Select your size"},null,8,["modelValue","onUpdate:modelValue","errorText"]),(o(),p(X,{label:"Options",labelPopoverTitle:"What Is This?",key:e.form.variantAttributes[f].values,tags:e.form.variantAttributes[f].values,errorText:r.getFormError("variantAttributes"+f+"value"),onOnTagsChanged:k=>e.form.variantAttributes[f].values=k,labelPopoverDescription:"The variation options e.g Small, Medium, Large, etc"},null,8,["tags","errorText","onOnTagsChanged"]))])):(o(),s("div",{key:1,class:"space-y-2 cursor-pointer",onClick:k=>e.form.variantAttributes[f].isEditable=!0},[t("p",lo,g(e.form.variantAttributes[f].name),1),r.getFormError("variantAttributes"+f+"name")?(o(),p(M,{key:0,errorText:r.getFormError("variantAttributes"+f+"name")},null,8,["errorText"])):d("",!0),t("p",uo,g(e.form.variantAttributes[f].instruction),1),r.getFormError("variantAttributes"+f+"name")?(o(),p(M,{key:1,errorText:r.getFormError("variantAttributes"+f+"instruction")},null,8,["errorText"])):d("",!0),t("div",co,[(o(!0),s(v,null,F(e.form.variantAttributes[f].values,(k,rt)=>(o(),s("span",{key:rt,class:"py-1 px-2 bg-black text-white text-xs rounded-lg"},g(k),1))),128))]),r.getFormError("variantAttributes"+f+"name")?(o(),p(M,{key:2,errorText:r.getFormError("variantAttributes"+f+"value")},null,8,["errorText"])):d("",!0)],8,no))]))),128)),t("div",mo,[n.variantAttributesHaveChanged&&n.hasOriginalVariantAttributes?(o(),p($,{key:0,action:n.onResetVariantAttributes,size:"xs"},{default:m(()=>[ho]),_:1},8,["action"])):d("",!0),t("div",po,[t("div",fo,[t("div",go,[n.hasVariantAttributes?d("",!0):(o(),s("div",vo,"👆"))]),u(tt,{action:n.onAddVariantAttribute,class:x(n.hasVariantAttributes?"w-48":"w-40"),size:"xs"},{default:m(()=>[t("span",yo,g(n.hasVariantAttributes?"Add Another Option":"Add Option"),1)]),_:1},8,["action","class"])])]),n.variantAttributesHaveChanged&&n.hasVariantAttributes?(o(),s("div",_o,[t("div",bo,[e.isCreatingVariations?d("",!0):(o(),s("div",wo,"👆"))]),u(P,{action:()=>e.product?n.createProductVariations():n.createProduct(),loading:e.isCreatingVariations,class:"w-40",size:"xs",type:"primary"},{default:m(()=>[ko,l(" Create Variations ")]),_:1},8,["action","loading"])])):d("",!0)])],64)):d("",!0)])]),t("div",Vo,[t("div",Po,[e.isLoadingProduct||e.isSubmitting?(o(),p(T,{key:0,showSpinningLoader:!1,class:"rounded-lg"})):d("",!0),t("div",To,[t("div",xo,[e.form.visible?(o(),s("svg",{key:0,onClick:a[12]||(a[12]=c=>e.form.visible=!e.form.visible),class:"w-6 h-6 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Co)):(o(),s("svg",{key:1,onClick:a[13]||(a[13]=c=>e.form.visible=!e.form.visible),class:"w-6 h-6 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Fo)),u(E,{class:"flex",modelValue:e.form.visible,"onUpdate:modelValue":a[14]||(a[14]=c=>e.form.visible=c),size:"md",labelPopoverTitle:"What Is This?",errorText:r.getFormError("visible"),labelPopoverDescription:"Turn on if you want your product to be visible (Made available to customers)"},{default:m(()=>[l(" Show Product ")]),_:1},8,["modelValue","errorText"])]),e.form.visible?d("",!0):(o(),p(i,{key:0,type:"warning"},{default:m(()=>[l(" This product has been "),Lo,l(" from customers visiting your store ")]),_:1})),u(V,{modelValue:e.form.sku,"onUpdate:modelValue":a[15]||(a[15]=c=>e.form.sku=c),errorText:r.getFormError("sku"),labelPopoverTitle:"What Is This?",label:"SKU",placeholder:"std-ticket",labelPopoverDescription:"The stock keeping unit of this product. Useful for stock management"},null,8,["modelValue","errorText"]),u(V,{modelValue:e.form.barcode,"onUpdate:modelValue":a[16]||(a[16]=c=>e.form.barcode=c),labelPopoverTitle:"What Is This?",errorText:r.getFormError("barcode"),label:"Barcode",placeholder:"123456789",labelPopoverDescription:"The barcode of this product. Useful for stock management"},null,8,["modelValue","errorText"])])])]),t("div",Do,[e.form.allowVariations&&n.hasOriginalVariantAttributes?(o(),s("div",Io,[n.variantAttributesHaveChanged?(o(),p(i,{key:0,class:"flex items-start space-x-2"},{default:m(()=>[Mo,t("div",null,[l(" The variation options have been changed. You can "),n.hasVariantAttributes?(o(),s(v,{key:0},[l(" either "),t("span",{onClick:a[17]||(a[17]=()=>n.createProductVariations()),class:"font-bold underline cursor-pointer"}," Create New Variations "),l(" or ")],64)):d("",!0),t("span",{onClick:a[18]||(a[18]=(...c)=>n.onResetVariantAttributes&&n.onResetVariantAttributes(...c)),class:"font-bold underline cursor-pointer"}," Undo Changes "),l(" to revert back to the original variations you had before. ")])]),_:1})):e.product?(o(),p(et,{key:1,product:e.product,isLoadingProduct:e.isLoadingProduct,isCreatingVariations:e.isCreatingVariations},null,8,["product","isLoadingProduct","isCreatingVariations"])):d("",!0)])):d("",!0)])]),e.product?(o(),s("div",{key:1,class:x(["space-y-4 shadow-lg rounded-lg border p-4",e.isLoadingProduct?"bg-gray-50":"border-red-300 bg-red-50"])},[t("p",null,[l("Do you want to permanently delete "),t("span",Bo,g(e.form.name),1),l("? Once this product is deleted you will not be able to recover it.")]),t("div",Uo,[u(ot,{approveText:"Delete Product",approveAction:n.deleteProduct,isLoading:e.isDeleting},{content:m(()=>[Qo,t("p",Oo,[l("Are you sure you want to permanently delete "),t("span",No,g(e.form.name),1),l("?")])]),trigger:m(c=>[u(P,{action:c.showModal,loading:e.isDeleting,class:"w-40",type:"danger"},{default:m(()=>[l(" Delete Product ")]),_:2},1032,["action","loading"])]),_:1},8,["approveAction","isLoading"])])],2)):d("",!0)])])}const Tr=G(Ee,[["render",Ho]]);export{Tr as default};
