import{c as A,u as q,i as z}from"./store-store-BuER1JKg.js";import{A as re}from"./Alert-BvQkNG_V.js";import{F}from"./FormMixin-Dzt3yRs-.js";import{J as ue,r as i,o as s,c as l,b as t,n as C,F as Z,k as E,d,w as h,t as T,f as p,h as I,e as v,I as he,p as N,u as se}from"./app-grlxYGJ_.js";import{T as fe}from"./TextHeader-CqSXahLq.js";import{B as pe}from"./BackButton-Bi6wH8US.js";import{U as W}from"./UndoButton-BPZDgURr.js";import{S as ne}from"./ShineEffect-Bt1CzWs1.js";import{P as $}from"./PrimaryButton-BY_y1Rjt.js";import{L as le}from"./LineSkeleton-BsIx13di.js";import{B as _e}from"./BackdropLoader-C6rP2EW0.js";import{M as ie}from"./MoreInfoPopover-53ylBu8u.js";import{d as ve,g as ye,p as ge,a as be}from"./api-repository-LmcO78hV.js";import{F as ke}from"./FormErrorMessages-Dl2wZFu8.js";import{U as we}from"./UtilsMixin-CbFS-0FV.js";import{D as xe,a as Te}from"./DeliveryTimePicker-WrDZ1go_.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{T as Me}from"./TimeInput-D5gWtYy8.js";import{C as U}from"./Checkbox-D4l5o4w6.js";import{C as Y}from"./ConfirmModal-ACEQFkTh.js";import{B as G}from"./BadgeIndicator-CLU9Zr1j.js";import{S as R}from"./SelectInput-Bih-y-Gk.js";import{T as X}from"./ToogleSwitch-Cm0PdcAN.js";import{N as P}from"./NumberInput-D7NmfMLv.js";import{A as ee}from"./AddButton-Bzkcom5O.js";import{M as Q}from"./MoneyInput-DzNDzXO4.js";import{A as De}from"./AddressInput-D81f4TzJ.js";import{D as ae}from"./DeleteButton-DaHY8ctR.js";import{I as te}from"./InputErrorMessage-C99IOSXE.js";import{T as oe}from"./TextInput-DdxIk0Wi.js";import{I as Se}from"./InputTags-CRqToN7q.js";import{V as Ce}from"./vue-draggable-next.esm-bundler-B0RHmGrz.js";import{T as de}from"./TextareaInput-Dkxa8E0l.js";import"./form-store--DaPYUFD.js";import"./SpinningLoader-CrKvtbiA.js";import"./Datepicker-BhcfrTZa.js";import"./InputLabel-BEeTToQ7.js";import"./StatusDot-kJPL5CpR.js";import"./BasicModal-DK1pbEOs.js";import"./CountrySelectInput-DCHYAF5k.js";import"./vue3-tags-input.esm-hXgcuN1Q.js";const L=ue("deliveryMethod",{state:()=>({deliveryMethod:null,isLoadingDeliveryMethod:!1}),actions:{reset(){this.deliveryMethod=null,this.isLoadingDeliveryMethod=!1}}}),Fe={mixins:[we],components:{ShineEffect:ne,LineSkeleton:le,DeliveryDatePicker:xe,DeliveryTimePicker:Te},props:{form:{type:Object}},data(){return{testDeliveryDate:null,testDeliveryTimeslot:null,scheduleOptions:{},showScheduleSummary:!0,isLoadingDateOptions:!1,isLoadingTimeOptions:!1}},computed:{scheduleKeyPoints(){return this.scheduleOptions.scheduleKeyPoints||[]}},methods:{onIsLoadingDateOptions(o){this.testDeliveryDate=null,this.testDeliveryTimeslot=null,this.isLoadingDateOptions=o},onIsLoadingTimeOptions(o){this.testDeliveryTimeslot=null,this.isLoadingTimeOptions=o},toggleScheduleSummary(){this.showScheduleSummary=!this.showScheduleSummary,this.testDeliveryDate=null,this.testDeliveryTimeslot=null}}},Ve={class:"bg-white border rounded-lg space-y-4"},Ie=t("p",{class:"font-bold text-md"},"Schedule Summary",-1),Oe={class:"hover:text-gray-500 active:text-gray-400"},Ae=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"},null,-1),Ze=[Ae],Ee=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"},null,-1),Be=[Ee],Ue={class:"flex space-x-2"},je={class:"text-xs"},Le={key:0,class:"space-y-4 px-4 pb-4"},Pe=t("p",{class:"font-bold text-md mb-2"},"Test Schedule",-1),Ne={class:"text-sm text-gray-500"},He=t("p",{class:"text-sm text-gray-500"},"Go ahead and try it! ðŸ«£",-1),qe={class:"grid grid-cols-2 gap-4 space-x-2"},Ge={class:"col-span-2 lg:col-span-1 space-y-2"},Re=t("span",{class:"font-bold text-sm"},"Delivery date",-1),ze={key:0,class:"col-span-2 lg:col-span-1 space-y-2"},We=t("span",{class:"font-bold text-sm"},"Delivery time",-1),$e={key:0,class:"text-sm text-green-500"},Qe={class:"font-bold"};function Je(o,r,e,k,a,n){const c=i("LineSkeleton"),m=i("ShineEffect"),_=i("DeliveryDatePicker"),S=i("DeliveryTimePicker");return s(),l("div",Ve,[t("div",{onClick:r[2]||(r[2]=(...w)=>n.toggleScheduleSummary&&n.toggleScheduleSummary(...w)),class:C(["space-y-2 p-4 cursor-pointer rounded-lg hover:bg-gray-50",{"border-b border-dashed pb-4":a.showScheduleSummary}])},[t("div",{class:C(["flex justify-between",{"mb-4":a.showScheduleSummary}])},[Ie,t("div",Oe,[a.showScheduleSummary?(s(),l("svg",{key:0,class:"w-6 h-6 cursor-pointer",onClick:r[0]||(r[0]=w=>a.showScheduleSummary=!1),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Ze)):(s(),l("svg",{key:1,onClick:r[1]||(r[1]=w=>a.showScheduleSummary=!0),class:"w-6 h-6 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Be))])],2),a.showScheduleSummary?(s(),l(Z,{key:0},[a.isLoadingDateOptions||a.isLoadingTimeOptions?(s(),l(Z,{key:0},E([1,2,3],(w,D)=>d(m,{key:D},{default:h(()=>[t("div",Ue,[d(c,{width:"w-2"}),d(c,{width:"w-1/2"})])]),_:2},1024)),64)):(s(!0),l(Z,{key:1},E(n.scheduleKeyPoints,(w,D)=>(s(),l("div",{key:D,class:"px-2 border-l-4 border-green-300"},[t("p",je,T(w),1)]))),128))],64)):p("",!0)],2),a.showScheduleSummary?(s(),l("div",Le,[Pe,t("div",null,[t("p",Ne,[I("This is how the delivery days"),e.form.scheduleType=="date and time"?(s(),l(Z,{key:0},[I(" and times")],64)):p("",!0),I(" will appear for customers shopping today.")]),He]),t("div",qe,[t("div",Ge,[Re,d(_,{form:e.form,modelValue:a.testDeliveryDate,"onUpdate:modelValue":r[3]||(r[3]=w=>a.testDeliveryDate=w),onIsLoading:n.onIsLoadingDateOptions,onScheduleOptions:r[4]||(r[4]=w=>a.scheduleOptions=w)},null,8,["form","modelValue","onIsLoading"])]),a.testDeliveryDate&&!a.isLoadingDateOptions&&e.form.scheduleType=="date and time"?(s(),l("div",ze,[We,d(S,{form:e.form,modelValue:a.testDeliveryTimeslot,"onUpdate:modelValue":r[5]||(r[5]=w=>a.testDeliveryTimeslot=w),deliveryDate:a.testDeliveryDate,onIsLoading:n.onIsLoadingTimeOptions,onScheduleOptions:r[6]||(r[6]=w=>a.scheduleOptions=w)},null,8,["form","modelValue","deliveryDate","onIsLoading"])])):p("",!0)]),a.testDeliveryDate?(s(),l("p",$e,[I("Your order will be delivered on "),t("span",Qe,T(a.testDeliveryDate)+" ("+T(o.customFormattedDate(a.testDeliveryDate,"ddd"))+")",1),I(", just "+T(o.formattedRelativeDate(a.testDeliveryDate,!0))+" from now.",1)])):p("",!0)])):p("",!0)])}const Ke=M(Fe,[["render",Je]]),Ye={mixins:[F],components:{TimeInput:Me,Checkbox:U,ConfirmModal:Y,PrimaryButton:$,MoreInfoPopover:ie,BadgeIndicator:G},props:{form:{type:Object}},data(){return{hours:[],availableDays:[],defaultTimeslot:["08:00","16:00"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},watch:{"form.autoGenerateTimeSlots"(o,r){if(o){const e=this.timeslots.map(n=>n.length).reduce((n,c)=>n+c,0),k=this.form.operationalHours.map(n=>n.hours.length).reduce((n,c)=>n+c,0),a=e-k;this.showSuccessfulNotification(`Added ${a} ${a==1?"timeslot":"timeslots"}`)}}},computed:{totalSelectedDays(){return this.availableDays.filter(o=>o.selected).length},timeslots(){const o=[],r=k=>{const[a,n]=k.split(":").map(Number);return a*60+n},e=k=>{const a=Math.floor(k/60).toString().padStart(2,"0"),n=(k%60).toString().padStart(2,"0");return`${a}:${n}`};return this.form.operationalHours.forEach((k,a)=>{const n=new Set;k.available&&k.hours.forEach(m=>{const[_,S]=m,[w,D]=m.map(r);if(this.form.autoGenerateTimeSlots){const y=this.form.timeSlotIntervalUnit==="hour"?this.form.timeSlotIntervalValue*60:this.form.timeSlotIntervalValue;for(let g=w;g+y<=D;g+=y){const O=g+y,f=e(g);let b;g+y>=D?b=e(O):b=e(O-1),n.add(`${f} - ${b}`)}}else n.add(`${_} - ${S}`)});const c=[...n].sort((m,_)=>{const[S]=m.split(" - "),[w]=_.split(" - ");return r(S)-r(w)});o.push(c)}),o}},methods:{addHour(){this.hours.push(A(this.defaultTimeslot))},removeHour(o){this.hours.splice(o,1)},addOperationalHour(o){this.form.operationalHours[o].hours.push(A(this.defaultTimeslot))},removeOperationalHour(o,r){this.form.operationalHours[o].hours.splice(r,1)},showBulkAddTimeslotsModal(){this.hours.length==0&&this.addHour(),this.$nextTick(()=>{this.$refs.bulkAddTimeslotsButton.$el.click()})},showBulkResetTimeslotsModal(){this.$nextTick(()=>{this.$refs.bulkResetTimeslotsButton.$el.click()})},bulkAddTimeslots(o){const r=Array.from(new Set(this.hours.map(e=>JSON.stringify(e)))).map(e=>JSON.parse(e));this.form.operationalHours.forEach((e,k)=>{this.availableDays[k].selected&&(e.hours=A(r)),this.availableDays[k].selected&&!e.available&&(e.available=!0)}),this.showSuccessfulNotification("Timeslots added"),o()},bulkResetTimeslots(o){this.form.operationalHours.forEach((r,e)=>{this.availableDays[e].selected&&(r.hours=[A(this.defaultTimeslot)]),this.availableDays[e].selected&&!r.available&&(r.available=!0)}),this.showSuccessfulNotification("Timeslots reset"),o()}},created(){this.availableDays=this.form.operationalHours.map((o,r)=>({name:this.days[r],selected:!0}))}},Xe={class:"flex justify-end space-x-2 p-4 border rounded-lg bg-white"},et={class:"col-span-1 flex items-center space-x-2"},tt={key:0,class:"col-span-1 space-y-2"},ot={class:"flex items-center space-x-2"},st=t("span",null,"-",-1),rt=["onClick"],nt=t("svg",{class:"w-4 h-4 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),lt=[nt],it=["onClick"],at=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})],-1),dt=[at],ct={class:"flex space-x-1 items-center mt-2"},mt={class:"space-y-2 border-t border-dashed pt-2 mt-2"},ut=t("p",{class:"text-lg font-bold border-b border-dashed pb-4 mb-4"},"Bulk Add Timeslots",-1),ht=t("p",{class:"text-sm mb-4"},"Set the timeslots to be created",-1),ft={class:"space-y-2 mb-8"},pt={class:"flex items-center space-x-2 mb-4"},_t=t("span",null,"-",-1),vt=t("svg",{class:"w-4 h-4 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),yt=[vt],gt=["onClick"],bt=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})],-1),kt=[bt],wt={class:"grid grid-cols-1 md:grid-cols-3 gap-2"},xt={class:"ml-1"},Tt=t("p",{class:"text-lg font-bold border-b border-dashed pb-4 mb-4"},"Bulk Reset Timeslots",-1),Mt={class:"flex items-center space-x-2 mb-4"},Dt=t("span",null,"-",-1),St=t("p",{class:"text-sm mb-4"},"Select days to reset timeslots",-1),Ct={class:"grid grid-cols-1 md:grid-cols-3 gap-2"},Ft={class:"ml-1"};function Vt(o,r,e,k,a,n){const c=i("BadgeIndicator"),m=i("Checkbox"),_=i("TimeInput"),S=i("MoreInfoPopover"),w=i("PrimaryButton"),D=i("ConfirmModal");return s(),l("div",null,[t("div",Xe,[d(c,{type:"primary",text:"+ Bulk Add Timeslots",showDot:!1,clickable:!0,action:n.showBulkAddTimeslotsModal},null,8,["action"]),d(c,{type:"primary",text:"Reset Timeslots",showDot:!1,clickable:!0,action:n.showBulkResetTimeslotsModal},null,8,["action"])]),(s(!0),l(Z,null,E(e.form.operationalHours,(y,g)=>(s(),l("div",{key:g,class:C([{"border-t":g!=0},g==e.form.operationalHours.length-1?"border-b pb-4":"pb-4","border-blue-200 border-dashed hover:bg-blue-100 pt-4 grid grid-cols-2 gap-4 items-start"])},[t("div",et,[d(m,{modelValue:y.available,"onUpdate:modelValue":O=>y.available=O,size:"xs",class:"mt-1"},null,8,["modelValue","onUpdate:modelValue"]),t("span",null,T(a.days[g]),1)]),y.available?(s(),l("div",tt,[(s(!0),l(Z,null,E(y.hours,(O,f)=>(s(),l("div",{key:f},[t("div",ot,[d(_,{modelValue:e.form.operationalHours[g].hours[f][0],"onUpdate:modelValue":b=>e.form.operationalHours[g].hours[f][0]=b,errorText:o.getFormError("operationalHours"+g+"Hours"+f+"0"),class:"w-24"},null,8,["modelValue","onUpdate:modelValue","errorText"]),st,d(_,{modelValue:e.form.operationalHours[g].hours[f][1],"onUpdate:modelValue":b=>e.form.operationalHours[g].hours[f][1]=b,errorText:o.getFormError("operationalHours"+g+"Hours"+f+"1"),class:"w-24"},null,8,["modelValue","onUpdate:modelValue","errorText"]),f==0?(s(),l("div",{key:0,onClick:()=>n.addOperationalHour(g),class:"flex-shrink-0 cursor-pointer rounded-md border border-blue-200 p-1 hover:bg-blue-100 transition-all"},lt,8,rt)):(s(),l("div",{key:1,onClick:()=>n.removeOperationalHour(g,f),class:"flex-shrink-0 cursor-pointer rounded-md border p-1 bg-red-50 hover:bg-red-100 transition-all"},dt,8,it))])]))),128)),t("div",ct,[d(c,{type:"success",showDot:!1,class:"border border-green-200",text:n.timeslots[g].length+" "+(n.timeslots[g].length==1?"timeslot":"timeslots")},null,8,["text"]),d(S,{title:a.days[g]+" timeslots",placement:"top"},{description:h(()=>[t("div",mt,[(s(!0),l(Z,null,E(n.timeslots[g],(O,f)=>(s(),l("p",{key:f,class:"flex space-x-2 px-2 border-l-4 border-green-300"},T(O),1))),128))])]),_:2},1032,["title"])])])):p("",!0)],2))),128)),d(D,{approveText:"Add Timeslots",approveAction:y=>n.bulkAddTimeslots(y),approveDisabled:a.hours.length==0,approveType:"primary"},{content:h(()=>[ut,ht,t("div",ft,[(s(!0),l(Z,null,E(a.hours,(y,g)=>(s(),l("div",{key:g},[t("div",pt,[d(_,{modelValue:a.hours[g][0],"onUpdate:modelValue":O=>a.hours[g][0]=O,class:"w-24"},null,8,["modelValue","onUpdate:modelValue"]),_t,d(_,{modelValue:a.hours[g][1],"onUpdate:modelValue":O=>a.hours[g][1]=O,class:"w-24"},null,8,["modelValue","onUpdate:modelValue"]),g==0?(s(),l("div",{key:0,onClick:r[0]||(r[0]=()=>n.addHour()),class:"flex-shrink-0 cursor-pointer rounded-md border border-blue-200 p-1 hover:bg-blue-100 transition-all"},yt)):(s(),l("div",{key:1,onClick:()=>n.removeHour(g),class:"flex-shrink-0 cursor-pointer rounded-md border p-1 bg-red-50 hover:bg-red-100 transition-all"},kt,8,gt))])]))),128)),t("div",wt,[(s(!0),l(Z,null,E(a.availableDays,(y,g)=>(s(),l("div",{key:g},[d(m,{size:"xs",modelValue:y.selected,"onUpdate:modelValue":O=>y.selected=O,disabled:y.selected&&n.totalSelectedDays===1},{default:h(()=>[t("span",xt,T(y.name),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]))),128))])])]),trigger:h(y=>[d(w,{ref:"bulkAddTimeslotsButton",action:y.showModal,class:"hidden",type:"primary"},null,8,["action"])]),_:1},8,["approveAction","approveDisabled"]),d(D,{approveText:"Reset Timeslots",approveAction:y=>n.bulkResetTimeslots(y),approveType:"primary"},{content:h(()=>[Tt,t("div",Mt,[d(_,{modelValue:a.defaultTimeslot[0],"onUpdate:modelValue":r[1]||(r[1]=y=>a.defaultTimeslot[0]=y),class:"w-24"},null,8,["modelValue"]),Dt,d(_,{modelValue:a.defaultTimeslot[1],"onUpdate:modelValue":r[2]||(r[2]=y=>a.defaultTimeslot[1]=y),class:"w-24"},null,8,["modelValue"])]),St,t("div",Ct,[(s(!0),l(Z,null,E(a.availableDays,(y,g)=>(s(),l("div",{key:g},[d(m,{size:"xs",modelValue:y.selected,"onUpdate:modelValue":O=>y.selected=O,disabled:y.selected&&n.totalSelectedDays===1},{default:h(()=>[t("span",Ft,T(y.name),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]))),128))])]),trigger:h(y=>[d(w,{ref:"bulkResetTimeslotsButton",action:y.showModal,class:"hidden",type:"primary"},null,8,["action"])]),_:1},8,["approveAction"])])}const It=M(Ye,[["render",Vt]]),Ot={mixins:[F],components:{SelectInput:R},props:{form:{type:Object}}},At=t("option",{value:"date"},"Date",-1),Zt=t("option",{value:"date and time"},"Date And Time",-1);function Et(o,r,e,k,a,n){const c=i("SelectInput");return s(),v(c,{label:"Customer selects",modelValue:e.form.scheduleType,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.scheduleType=m),labelPopoverTitle:"What Is This?",errorText:o.getFormError("scheduleType"),labelPopoverDescription:"Select the schedule type e.g Customers should specify a delivery date or both delivery date and time"},{default:h(()=>[At,Zt]),_:1},8,["modelValue","errorText"])}const Bt=M(Ot,[["render",Et]]),Ut={mixins:[F],components:{Checkbox:U},props:{form:{type:Object}}},jt=t("div",{class:"mt-0.5 mx-2"},[t("p",{class:"font-bold text-sm mb-1"},"Same day delivery"),t("p",{class:"text-sm text-gray-500 max-w-96"},"Customers must place orders for delivery on the same day")],-1);function Lt(o,r,e,k,a,n){const c=i("Checkbox");return s(),v(c,{size:"xs",modelValue:e.form.sameDayDelivery,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.sameDayDelivery=m),errorText:o.getFormError("sameDayDelivery")},{default:h(()=>[jt]),_:1},8,["modelValue","errorText"])}const Pt=M(Ut,[["render",Lt]]),Nt={mixins:[F],components:{ToogleSwitch:X},props:{form:{type:Object}}};function Ht(o,r,e,k,a,n){const c=i("ToogleSwitch");return s(),v(c,{size:"md",modelValue:e.form.setSchedule,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.setSchedule=m),labelPopoverTitle:"What Is This?",errorText:o.getFormError("setSchedule"),labelPopoverDescription:"Turn on so that customers specify delivery dates and times. Turn off so that customers do not specify delivery dates and times"},{default:h(()=>[I(" Set schedule ")]),_:1},8,["modelValue","errorText"])}const qt=M(Nt,[["render",Ht]]),Gt={mixins:[F],components:{Checkbox:U,NumberInput:P},props:{form:{type:Object}}},Rt=t("p",{class:"text-sm mt-0.5 mx-2"},"Auto generate time slots",-1);function zt(o,r,e,k,a,n){const c=i("Checkbox");return s(),v(c,{size:"xs",modelValue:e.form.autoGenerateTimeSlots,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.autoGenerateTimeSlots=m),errorText:o.getFormError("autoGenerateTimeSlots"),labelPopoverDescription:"Automatically generates time options for customers to choose from"},{default:h(()=>[Rt]),_:1},8,["modelValue","errorText"])}const Wt=M(Gt,[["render",zt]]),$t={mixins:[F],components:{SelectInput:R},props:{form:{type:Object}}},Qt={value:"minute"},Jt={value:"hour"};function Kt(o,r,e,k,a,n){const c=i("SelectInput");return e.form.autoGenerateTimeSlots?(s(),v(c,{key:0,labelPopoverTitle:"What Is This?",modelValue:e.form.timeSlotIntervalUnit,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.timeSlotIntervalUnit=m),errorText:o.getFormError("timeSlotIntervalUnit"),labelPopoverDescription:"Set the interval that should be used to auto generate the time slots"},{default:h(()=>[t("option",Qt,T(e.form.timeSlotIntervalValue=="1"?"Minute":"Minutes"),1),t("option",Jt,T(e.form.timeSlotIntervalValue=="1"?"Hour":"Hours"),1)]),_:1},8,["modelValue","errorText"])):p("",!0)}const Yt=M($t,[["render",Kt]]),Xt={mixins:[F],components:{NumberInput:P},props:{form:{type:Object}}};function eo(o,r,e,k,a,n){const c=i("NumberInput");return e.form.autoGenerateTimeSlots?(s(),v(c,{key:0,min:"1",placeholder:"1",modelValue:e.form.timeSlotIntervalValue,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.timeSlotIntervalValue=m),errorText:o.getFormError("timeSlotIntervalValue")},null,8,["modelValue","errorText"])):p("",!0)}const to=M(Xt,[["render",eo]]),oo={mixins:[F],components:{Checkbox:U,NumberInput:P,SelectInput:R},props:{form:{type:Object}}},so={class:"mt-0.5 mx-2"},ro=t("p",{class:"font-bold text-sm mb-1"},"Require minimum notice for orders",-1),no=t("p",{class:"text-sm text-gray-500 max-w-96"},"Customers must place orders at least a few hours or days before the delivery date to allow for order processing",-1),lo=t("span",{class:"text-sm"}," Accept orders at least ",-1),io={value:"hour"},ao={value:"day"},co={class:"text-sm"};function mo(o,r,e,k,a,n){const c=i("NumberInput"),m=i("SelectInput"),_=i("Checkbox");return s(),v(_,{size:"xs",modelValue:e.form.requireMinimumNoticeForOrders,"onUpdate:modelValue":r[2]||(r[2]=S=>e.form.requireMinimumNoticeForOrders=S),errorText:o.getFormError("requireMinimumNoticeForOrders")},{default:h(()=>[t("div",so,[ro,no,t("div",{class:C([e.form.requireMinimumNoticeForOrders?"h-10 mt-4":"h-0 mt-0","text-gray-500 space-x-2 transition-all duration-500 overflow-hidden"])},[lo,d(c,{min:"1",placeholder:"1",modelValue:e.form.earliestDeliveryTimeValue,"onUpdate:modelValue":r[0]||(r[0]=S=>e.form.earliestDeliveryTimeValue=S),class:C([e.form.scheduleType=="date"?"w-32":"w-20","inline-block"])},he({_:2},[e.form.scheduleType=="date"?{name:"suffix",fn:h(()=>[I(T(e.form.earliestDeliveryTimeValue=="1"?"day":"days"),1)]),key:"0"}:void 0]),1032,["modelValue","class"]),e.form.scheduleType=="date and time"?(s(),v(m,{key:0,width:"w-24",class:"inline-block",modelValue:e.form.earliestDeliveryTimeUnit,"onUpdate:modelValue":r[1]||(r[1]=S=>e.form.earliestDeliveryTimeUnit=S)},{default:h(()=>[t("option",io,T(e.form.earliestDeliveryTimeValue=="1"?"Hour":"Hours"),1),t("option",ao,T(e.form.earliestDeliveryTimeValue=="1"?"Day":"Days"),1)]),_:1},8,["modelValue"])):p("",!0),t("span",co,[I(" before delivery date "),e.form.scheduleType=="date and time"&&e.form.earliestDeliveryTimeUnit=="hour"?(s(),l(Z,{key:0},[I("("+T(e.form.earliestDeliveryTimeValue)+" "+T(e.form.earliestDeliveryTimeValue=="1"?"hour":"hours")+" notice)",1)],64)):(s(),l(Z,{key:1},[I("("+T(e.form.earliestDeliveryTimeValue)+" "+T(e.form.earliestDeliveryTimeValue=="1"?"day":"days")+" notice)",1)],64))])],2)])]),_:1},8,["modelValue","errorText"])}const uo=M(oo,[["render",mo]]),ho={mixins:[F],components:{Checkbox:U,NumberInput:P},props:{form:{type:Object}}},fo={class:"mt-0.5 mx-2"},po=t("p",{class:"font-bold text-sm mb-1"},"Restrict maximum notice for orders",-1),_o=t("p",{class:"text-sm text-gray-500 max-w-96"},"Customers can only place orders if the delivery date is within a reasonable timeframe",-1),vo=t("span",{class:"text-sm"}," Restrict orders more than ",-1),yo=t("span",{class:"text-sm"}," from the delivery date ",-1);function go(o,r,e,k,a,n){const c=i("NumberInput"),m=i("Checkbox");return s(),v(m,{size:"xs",modelValue:e.form.restrictMaximumNoticeForOrders,"onUpdate:modelValue":r[1]||(r[1]=_=>e.form.restrictMaximumNoticeForOrders=_),errorText:o.getFormError("restrictMaximumNoticeForOrders")},{default:h(()=>[t("div",fo,[po,_o,t("div",{class:C([e.form.restrictMaximumNoticeForOrders?"h-10 mt-4":"h-0 mt-0","text-gray-500 space-x-2 transition-all duration-500 overflow-hidden"])},[vo,d(c,{min:"1",placeholder:"1",class:"w-32 inline-block",modelValue:e.form.latestDeliveryTimeValue,"onUpdate:modelValue":r[0]||(r[0]=_=>e.form.latestDeliveryTimeValue=_)},{suffix:h(()=>[I("Days")]),_:1},8,["modelValue"]),yo],2)])]),_:1},8,["modelValue","errorText"])}const bo=M(ho,[["render",go]]),ko={components:{ScheduleSummary:Ke,OperationalHours:It,ScheduleTypeSelect:Bt,SameDayDeliveryCheckbox:Pt,SetScheduleToogleSwitch:qt,AutoGenerateTimeSlotsCheckbox:Wt,AutoGenerateTimeSlotsUnitSelect:Yt,AutoGenerateTimeSlotsNumberInput:to,RequireMinimumNoticeForOrdersCheckbox:uo,RestrictMinimumNoticeForOrdersCheckbox:bo},props:{form:{type:Object}}},wo={class:"space-y-4 mb-8"},xo={key:0,class:"flex space-x-8 items-end"},To={class:"flex space-x-1 items-end"},Mo=t("p",{class:"text-sm text-gray-500"},"Set the days and times that customers can expect delivery",-1),Do={class:"space-y-4"};function So(o,r,e,k,a,n){const c=i("SetScheduleToogleSwitch"),m=i("ScheduleTypeSelect"),_=i("AutoGenerateTimeSlotsCheckbox"),S=i("AutoGenerateTimeSlotsNumberInput"),w=i("AutoGenerateTimeSlotsUnitSelect"),D=i("OperationalHours"),y=i("SameDayDeliveryCheckbox"),g=i("RequireMinimumNoticeForOrdersCheckbox"),O=i("RestrictMinimumNoticeForOrdersCheckbox"),f=i("ScheduleSummary");return s(),l("div",{class:C([{"border border-dashed rounded-lg":e.form.setSchedule}])},[t("div",{class:C([{"bg-blue-50 p-4 rounded-lg":e.form.setSchedule},"transition-all duration-500"])},[d(c,{form:e.form},null,8,["form"]),t("div",{class:C([e.form.setSchedule?"h-20 mt-4 mb-2 p-0.5":"h-0 mb-0 p-0","transition-all duration-500 overflow-hidden"])},[d(m,{form:e.form},null,8,["form"])],2),e.form.setSchedule?(s(),l(Z,{key:0},[t("div",wo,[e.form.scheduleType=="date and time"?(s(),l("div",xo,[d(_,{form:e.form},null,8,["form"]),t("div",To,[d(S,{form:e.form},null,8,["form"]),d(w,{form:e.form},null,8,["form"])])])):p("",!0),Mo,d(D,{form:e.form},null,8,["form"])]),t("div",Do,[d(y,{form:e.form},null,8,["form"]),e.form.sameDayDelivery?p("",!0):(s(),l(Z,{key:0},[d(g,{form:e.form},null,8,["form"]),d(O,{form:e.form},null,8,["form"])],64)),d(f,{form:e.form},null,8,["form"])])],64)):p("",!0)],2)],2)}const Co=M(ko,[["render",So]]),Fo={mixins:[F],components:{Alert:re,Checkbox:U,BadgeIndicator:G},props:{form:{type:Object}},methods:{enableRequireLocationOnMap(){this.form.requireLocationOnMap=!0,this.form.showDistanceOnInvoice=!0}}},Vo=t("div",{class:"space-y-1 mt-0.5"},[t("p",{class:"font-bold text-sm mx-2"},"Show distance in invoice"),t("p",{class:"text-sm text-gray-500 mx-2"},"The calculated delivery distance will appear on the invoice")],-1),Io={class:"text-xs text-gray-500 space-x-1"},Oo=t("span",null,"ðŸ’¡",-1),Ao=t("span",null,"Turn on",-1),Zo=t("span",null,"so that distances are calculated more accurately (optional)",-1);function Eo(o,r,e,k,a,n){const c=i("Checkbox"),m=i("BadgeIndicator"),_=i("Alert");return s(),l("div",null,[d(c,{size:"xs",modelValue:e.form.showDistanceOnInvoice,"onUpdate:modelValue":r[0]||(r[0]=S=>e.form.showDistanceOnInvoice=S),errorText:o.getFormError("showDistanceOnInvoice")},{default:h(()=>[Vo]),_:1},8,["modelValue","errorText"]),e.form.requireLocationOnMap?p("",!0):(s(),v(_,{key:0,type:"light",class:"border border-dashed border-gray-200 mt-4"},{default:h(()=>[t("span",Io,[Oo,Ao,d(m,{type:"primary",showDot:!1,clickable:!0,text:"Require location on map",action:()=>n.enableRequireLocationOnMap()},null,8,["action"]),Zo])]),_:1}))])}const Bo=M(Fo,[["render",Eo]]),Uo={mixins:[F],components:{AddButton:ee,MoneyInput:Q,UndoButton:W,NumberInput:P,AddressInput:De,DeleteButton:ae,BadgeIndicator:G,InputErrorMessage:te,ShowDistanceInInvoiceCheckbox:Bo},props:{form:{type:Object}},data(){return{originalDistanceZones:[],storeState:q(),deliveryMethodState:L()}},computed:{store(){return this.storeState.store},deliveryMethod(){return this.deliveryMethodState.deliveryMethod},hasDeliveryMethod(){return this.deliveryMethod!=null},address(){return this.hasDeliveryMethod?this.deliveryMethod._relationships.address:null},hasAddress(){return this.address!=null},hasDistanceZones(){return this.form.distanceZones.length>0},hasOriginalDistanceZones(){return this.originalDistanceZones.length>0},distanceZonesHaveChanged(){var o=A(this.form.distanceZones),r=A(this.originalDistanceZones);return o.forEach(e=>delete e.isEditable),r.forEach(e=>delete e.isEditable),!z(o,r)}},methods:{setAddress(o){L().deliveryMethod._relationships.address=o},setValidatedAddressForm(o){this.form.address=o},onDeletedAddress(){this.hasAddress?L().deliveryMethod._relationships.address=null:delete this.form.address},onAddDistanceZone(){var o=this.form.distanceZones.length,r=o>0?(this.form.distanceZones[o-1].fee*2).toString():"50.00",e=o>0?(this.form.distanceZones[o-1].distance*2).toString():"10";this.form.distanceZones.push({fee:r,isEditable:!0,distance:e})},onRemoveDistanceZone(o){this.form.distanceZones.splice(o,1)},onResetDistanceZones(){this.form.distanceZones=A(this.originalDistanceZones)}}},jo={class:"space-y-4"},Lo={class:"space-y-4 p-4 border rounded-lg shadow-lg bg-white"},Po=t("h1",{class:"text-md font-bold m-2"},"Zones",-1),No={class:"absolute top-2 right-2 flex items-center space-x-2"},Ho=["onClick"],qo={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"},Go={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"},Ro={key:0,class:"space-y-4"},zo={class:"flex items-center space-x-2 text-sm text-gray-500"},Wo=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1),$o={class:"flex space-x-4"},Qo=["onClick"],Jo={class:"flex items-center space-x-4 text-sm text-gray-500"},Ko={class:"flex items-center space-x-2"},Yo=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1),Xo={key:0},es={class:"flex items-center space-x-4 px-4 py-4 border rounded-lg bg-gray-50"},ts=t("svg",{class:"w-8 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1),os={class:"text-sm space-y-2"},ss={class:"flex justify-end space-x-2"},rs=t("span",{class:"ml-1"},"Undo",-1),ns={class:"flex justify-end"},ls={class:"relative"},is={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2"},as={key:0,class:"animate-bounce text-4xl"},ds=t("span",{class:"ml-2"},"Add Zone",-1);function cs(o,r,e,k,a,n){const c=i("ShowDistanceInInvoiceCheckbox"),m=i("AddressInput"),_=i("DeleteButton"),S=i("NumberInput"),w=i("MoneyInput"),D=i("BadgeIndicator"),y=i("InputErrorMessage"),g=i("UndoButton"),O=i("AddButton");return s(),l("div",jo,[t("div",Lo,[d(c,{form:e.form},null,8,["form"])]),d(m,{address:n.address,title:"Base location",onOnCreated:n.setAddress,onOnUpdated:n.setAddress,onOnDeleted:n.onDeletedAddress,onOnValidated:n.setValidatedAddressForm,deliveryMethodId:n.hasDeliveryMethod?n.deliveryMethod.id:null,subtitle:"Set the starting point for calculating delivery distances"},null,8,["address","onOnCreated","onOnUpdated","onOnDeleted","onOnValidated","deliveryMethodId"]),Po,(s(!0),l(Z,null,E(e.form.distanceZones,(f,b)=>(s(),l("div",{key:b,class:"relative bg-gray-50 p-4 border rounded-lg"},[t("div",No,[(s(),l("svg",{class:"w-6 h-6 cursor-pointer hover:opacity-50",onClick:B=>e.form.distanceZones[b].isEditable=!e.form.distanceZones[b].isEditable,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e.form.distanceZones[b].isEditable?(s(),l("path",qo)):(s(),l("path",Go))],8,Ho)),d(_,{action:()=>n.onRemoveDistanceZone(b),size:"xs",type:"danger"},null,8,["action"])]),e.form.distanceZones[b].isEditable?(s(),l("div",Ro,[t("div",zo,[Wo,t("span",null,"Zone "+T(b+1),1)]),t("div",$o,[d(S,{min:"1",placeholder:"10",label:"Delivery distance up to",labelPopoverTitle:"What Is This?",modelValue:e.form.distanceZones[b].distance,"onUpdate:modelValue":B=>e.form.distanceZones[b].distance=B,errorText:o.getFormError("distanceZones"+b+"distance"),labelPopoverDescription:"Set the maximum distance eligible for this delivery method"},{suffix:h(()=>[I(T(n.store.distanceUnit),1)]),_:2},1032,["modelValue","onUpdate:modelValue","errorText"]),d(w,{label:"Delivery fee",labelPopoverTitle:"What Is This?",modelValue:e.form.distanceZones[b].fee,"onUpdate:modelValue":B=>e.form.distanceZones[b].fee=B,errorText:o.getFormError("distanceZones"+b+"fee"),labelPopoverDescription:"Specify the fee charged for deliveries within the set distance range"},null,8,["modelValue","onUpdate:modelValue","errorText"])])])):(s(),l("div",{key:1,class:"space-y-2 cursor-pointer",onClick:B=>e.form.distanceZones[b].isEditable=!0},[t("div",Jo,[t("div",Ko,[Yo,t("span",null,"Zone "+T(b+1),1)]),e.form.distanceZones[b].distance?(s(),v(D,{key:0,type:"info",text:e.form.distanceZones[b].distance+" "+n.store.distanceUnit,showDot:!1},null,8,["text"])):(s(),v(y,{key:1,errorText:"No distance",margin:"mt-0"})),e.form.distanceZones[b].fee?(s(),v(D,{key:2,type:"primary",text:n.store.currency.symbol+e.form.distanceZones[b].fee,showDot:!1},null,8,["text"])):(s(),v(y,{key:3,errorText:"No fee",margin:"mt-0"}))]),o.getFormError("distanceZones"+b+"distance")?(s(),v(y,{key:0,errorText:o.getFormError("distanceZones"+b+"distance")},null,8,["errorText"])):p("",!0),o.getFormError("distanceZones"+b+"fee")?(s(),v(y,{key:1,errorText:o.getFormError("distanceZones"+b+"fee")},null,8,["errorText"])):p("",!0)],8,Qo))]))),128)),n.hasDistanceZones?p("",!0):(s(),l("div",Xo,[t("div",es,[ts,t("div",os,[d(D,{type:"primary",text:"+ Add Zone",showDot:!1,clickable:!0,action:n.onAddDistanceZone},null,8,["action"]),I(" to offer delivery within specific distances for a fee ")])])])),t("div",ss,[n.distanceZonesHaveChanged&&n.hasOriginalDistanceZones?(s(),v(g,{key:0,action:n.onResetDistanceZones,size:"xs"},{default:h(()=>[rs]),_:1},8,["action"])):p("",!0),t("div",ns,[t("div",ls,[t("div",is,[n.hasDistanceZones?p("",!0):(s(),l("div",as,"ðŸ‘†"))]),d(O,{action:n.onAddDistanceZone,class:"w-40",size:"xs"},{default:h(()=>[ds]),_:1},8,["action"])])])])])}const ms=M(Uo,[["render",cs]]),us={mixins:[F],components:{TextInput:oe,InputTags:Se,AddButton:ee,MoneyInput:Q,UndoButton:W,DeleteButton:ae,BadgeIndicator:G,InputErrorMessage:te},props:{form:{type:Object}},data(){return{originalPostalCodeZones:[],storeState:q()}},computed:{store(){return this.storeState.store},hasPostalCodeZones(){return this.form.postalCodeZones.length>0},hasOriginalPostalCodeZones(){return this.originalPostalCodeZones.length>0},postalCodeZonesHaveChanged(){var o=A(this.form.postalCodeZones),r=A(this.originalPostalCodeZones);return o.forEach(e=>delete e.isEditable),r.forEach(e=>delete e.isEditable),!z(o,r)}},methods:{onAddPostalCodeZone(){var o=this.form.postalCodeZones.length,r=o>0?(this.form.postalCodeZones[o-1].fee*2).toString():"50.00";this.form.postalCodeZones.push({fee:r,name:"",postalCodes:[],isEditable:!0})},onRemovePostalCodeZone(o){this.form.postalCodeZones.splice(o,1)},onResetPostalCodeZones(){this.form.postalCodeZones=A(this.originalPostalCodeZones)}}},hs={class:"space-y-4"},fs=t("h1",{class:"text-md font-bold m-2"},"Zones",-1),ps={class:"absolute top-2 right-2 flex items-center space-x-2"},_s=["onClick"],vs={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"},ys={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"},gs={key:0,class:"space-y-4"},bs={class:"flex items-center space-x-2 text-sm text-gray-500"},ks=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1),ws={class:"space-y-4"},xs={class:"flex space-x-4"},Ts=["onClick"],Ms={class:"flex items-center space-x-4 text-sm text-gray-500 mb-4"},Ds={class:"flex items-center space-x-2"},Ss=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1),Cs={key:0,class:"flex space-x-2"},Fs={key:0},Vs={class:"flex items-center space-x-4 px-4 py-4 border rounded-lg bg-gray-50"},Is=t("svg",{class:"w-8 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1),Os={class:"text-sm space-y-2"},As={class:"flex justify-end space-x-2"},Zs=t("span",{class:"ml-1"},"Undo",-1),Es={class:"flex justify-end"},Bs={class:"relative"},Us={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2"},js={key:0,class:"animate-bounce text-4xl"},Ls=t("span",{class:"ml-2"},"Add Zone",-1);function Ps(o,r,e,k,a,n){const c=i("DeleteButton"),m=i("TextInput"),_=i("MoneyInput"),S=i("InputTags"),w=i("BadgeIndicator"),D=i("InputErrorMessage"),y=i("UndoButton"),g=i("AddButton");return s(),l("div",hs,[fs,(s(!0),l(Z,null,E(e.form.postalCodeZones,(O,f)=>(s(),l("div",{key:f,class:"relative bg-gray-50 p-4 border rounded-lg"},[t("div",ps,[(s(),l("svg",{class:"w-6 h-6 cursor-pointer hover:opacity-50",onClick:b=>e.form.postalCodeZones[f].isEditable=!e.form.postalCodeZones[f].isEditable,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e.form.postalCodeZones[f].isEditable?(s(),l("path",vs)):(s(),l("path",ys))],8,_s)),d(c,{action:()=>n.onRemovePostalCodeZone(f),size:"xs",type:"danger"},null,8,["action"])]),e.form.postalCodeZones[f].isEditable?(s(),l("div",gs,[t("div",bs,[ks,t("span",null,"Zone "+T(f+1),1)]),t("div",ws,[t("div",xs,[d(m,{label:"Area Name",placeholder:"Nairobi",labelPopoverTitle:"What Is This?",modelValue:e.form.postalCodeZones[f].name,"onUpdate:modelValue":b=>e.form.postalCodeZones[f].name=b,errorText:o.getFormError("postalCodeZones"+f+"name"),labelPopoverDescription:"Set the area name for this delivery method"},null,8,["modelValue","onUpdate:modelValue","errorText"]),d(_,{label:"Delivery fee",labelPopoverTitle:"What Is This?",modelValue:e.form.postalCodeZones[f].fee,"onUpdate:modelValue":b=>e.form.postalCodeZones[f].fee=b,errorText:o.getFormError("postalCodeZones"+f+"fee"),labelPopoverDescription:"Specify the fee charged for deliveries within the area"},null,8,["modelValue","onUpdate:modelValue","errorText"])]),(s(),v(S,{label:"Postal Codes",labelPopoverTitle:"What Is This?",key:e.form.postalCodeZones[f].postalCodes,tags:e.form.postalCodeZones[f].postalCodes,errorText:o.getFormError("postalCodeZones"+f+"value"),onOnTagsChanged:b=>e.form.postalCodeZones[f].postalCodes=b,labelPopoverDescription:"The postal codes supported by this area e.g 10001, 00100 or SW1A 1AA"},null,8,["tags","errorText","onOnTagsChanged"]))])])):(s(),l("div",{key:1,class:"space-y-2 cursor-pointer",onClick:b=>e.form.postalCodeZones[f].isEditable=!0},[t("div",Ms,[t("div",Ds,[Ss,t("span",null,"Zone "+T(f+1),1)]),e.form.postalCodeZones[f].name?(s(),v(w,{key:0,type:"info",text:e.form.postalCodeZones[f].name,showDot:!1},null,8,["text"])):(s(),v(D,{key:1,errorText:"No name",margin:"mt-0"})),e.form.postalCodeZones[f].fee?(s(),v(w,{key:2,type:"primary",text:n.store.currency.symbol+e.form.postalCodeZones[f].fee,showDot:!1},null,8,["text"])):(s(),v(D,{key:3,errorText:"No fee",margin:"mt-0"}))]),e.form.postalCodeZones[f].postalCodes.length?(s(),l("div",Cs,[(s(!0),l(Z,null,E(e.form.postalCodeZones[f].postalCodes,(b,B)=>(s(),l("span",{key:B,class:"py-0.5 px-2 bg-gray-100 border text-gray-500 text-xs rounded-lg"},T(b),1))),128))])):(s(),v(D,{key:1,errorText:"No postal codes",margin:"mt-0"})),o.getFormError("postalCodeZones"+f+"name")?(s(),v(D,{key:2,errorText:o.getFormError("postalCodeZones"+f+"name")},null,8,["errorText"])):p("",!0),o.getFormError("postalCodeZones"+f+"fee")?(s(),v(D,{key:3,errorText:o.getFormError("postalCodeZones"+f+"fee")},null,8,["errorText"])):p("",!0)],8,Ts))]))),128)),n.hasPostalCodeZones?p("",!0):(s(),l("div",Fs,[t("div",Vs,[Is,t("div",Os,[t("p",null,[d(w,{type:"primary",text:"+ Add Zone",showDot:!1,clickable:!0,action:n.onAddPostalCodeZone},null,8,["action"]),I(" to offer delivery to specific postal codes for a fee")])])])])),t("div",As,[n.postalCodeZonesHaveChanged&&n.hasOriginalPostalCodeZones?(s(),v(y,{key:0,action:n.onResetPostalCodeZones,size:"xs"},{default:h(()=>[Zs]),_:1},8,["action"])):p("",!0),t("div",Es,[t("div",Bs,[t("div",Us,[n.hasPostalCodeZones?p("",!0):(s(),l("div",js,"ðŸ‘†"))]),d(g,{action:n.onAddPostalCodeZone,class:"w-40",size:"xs"},{default:h(()=>[Ls]),_:1},8,["action"])])])])])}const Ns=M(us,[["render",Ps]]),Hs={mixins:[F],components:{MoneyInput:Q},props:{form:{type:Object}}};function qs(o,r,e,k,a,n){const c=i("MoneyInput");return e.form.feeType=="flat fee"?(s(),v(c,{key:0,label:"Flat Fee",modelValue:e.form.flatFeeRate,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.flatFeeRate=m),labelPopoverTitle:"What Is This?",errorText:o.getFormError("flatFeeRate"),labelPopoverDescription:"Set the flat fee amount (This is the flat fee that will be applied as a charge)"},null,8,["modelValue","errorText"])):p("",!0)}const Gs=M(Hs,[["render",qs]]),Rs={mixins:[F],components:{SelectInput:R},props:{form:{type:Object}}},zs=t("option",{value:"flat fee"},"Flat fee",-1),Ws=t("option",{value:"percentage fee"},"Percentage fee",-1),$s=t("option",{value:"fee by distance"},"Fee by distance",-1),Qs=t("option",{value:"fee by postal code"},"Fee by postal code",-1);function Js(o,r,e,k,a,n){const c=i("SelectInput");return s(),v(c,{width:"w-full",label:"Fee Type",modelValue:e.form.feeType,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.feeType=m),labelPopoverTitle:"What Is This?",errorText:o.getFormError("feeType"),labelPopoverDescription:"Select the free type e.g Is this a flat fee or a free that is calculated based on a percetange of the total cart amount, location distance or postal code?"},{default:h(()=>[zs,Ws,$s,Qs]),_:1},8,["modelValue","errorText"])}const Ks=M(Rs,[["render",Js]]),Ys={mixins:[F],components:{ToogleSwitch:X},props:{form:{type:Object}}};function Xs(o,r,e,k,a,n){const c=i("ToogleSwitch");return s(),v(c,{size:"md",modelValue:e.form.chargeFee,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.chargeFee=m),labelPopoverTitle:"What Is This?",errorText:o.getFormError("chargeFee"),labelPopoverDescription:"Turn on so that your delivery method charges a fee. Turn off so that your delivery method is free of charge"},{default:h(()=>[I(" Charge fee ")]),_:1},8,["modelValue","errorText"])}const er=M(Ys,[["render",Xs]]),tr={mixins:[F],components:{NumberInput:P},props:{form:{type:Object}}};function or(o,r,e,k,a,n){const c=i("NumberInput");return e.form.feeType=="percentage fee"?(s(),v(c,{key:0,min:"1",placeholder:"100",label:"Percentage Fee",modelValue:e.form.percentageFeeRate,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.percentageFeeRate=m),labelPopoverTitle:"What Is This?",errorText:o.getFormError("percentageFeeRate"),labelPopoverDescription:"Set the percentage fee amount (This is the percentage fee that will be applied as a charge)"},{suffix:h(()=>[I("%")]),_:1},8,["modelValue","errorText"])):p("",!0)}const sr=M(tr,[["render",or]]),rr={components:{FeeByDistance:ms,FeeByPostalCode:Ns,FlatFeeMoneyInput:Gs,FeeTypeSelectInput:Ks,ChargeFeeToogleSwitch:er,PercentageFeeNumberInput:sr},props:{form:{type:Object}}},nr={class:"flex justify-between items-center space-x-8"};function lr(o,r,e,k,a,n){const c=i("ChargeFeeToogleSwitch"),m=i("FeeTypeSelectInput"),_=i("FlatFeeMoneyInput"),S=i("PercentageFeeNumberInput"),w=i("FeeByDistance"),D=i("FeeByPostalCode");return s(),l("div",{class:C([{"border border-dashed rounded-lg":e.form.chargeFee}])},[t("div",{class:C([{"bg-blue-50 p-4 rounded-lg":e.form.chargeFee},"transition-all duration-500"])},[d(c,{form:e.form},null,8,["form"]),t("div",{class:C([e.form.chargeFee?"h-24 mt-4 p-0.5":"h-0 mb-0 p-0","transition-all duration-500 overflow-hidden"])},[t("div",nr,[d(m,{form:e.form},null,8,["form"]),d(_,{form:e.form},null,8,["form"]),d(S,{form:e.form},null,8,["form"])])],2),e.form.chargeFee&&e.form.feeType=="fee by distance"?(s(),v(w,{key:0,form:e.form},null,8,["form"])):p("",!0),e.form.chargeFee&&e.form.feeType=="fee by postal code"?(s(),v(D,{key:1,form:e.form},null,8,["form"])):p("",!0)],2)],2)}const ir=M(rr,[["render",lr]]),ar={mixins:[F],components:{TextInput:oe},props:{form:{type:Object}}};function dr(o,r,e,k,a,n){const c=i("TextInput");return s(),v(c,{label:"Name",modelValue:e.form.name,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.name=m),placeholder:"In-house Delivery",errorText:o.getFormError("name"),labelPopoverTitle:"What Is This?",labelPopoverDescription:"The delivery method name e.g In-house delivery, Self pickup or Dine in"},null,8,["modelValue","errorText"])}const cr=M(ar,[["render",dr]]),mr={mixins:[F],components:{Checkbox:U},props:{form:{type:Object}}},ur=t("div",{class:"space-y-1 mt-0.5"},[t("p",{class:"font-bold text-sm mx-2"},"Capture additional fields"),t("p",{class:"text-sm text-gray-500 mx-2"},"Collect extra information from customers before placing an order, such as short answers, selected dates and times, file uploads or map locations")],-1);function hr(o,r,e,k,a,n){const c=i("Checkbox");return s(),v(c,{size:"xs",modelValue:e.form.captureAdditionalFields,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.captureAdditionalFields=m),errorText:o.getFormError("captureAdditionalFields")},{default:h(()=>[ur]),_:1},8,["modelValue","errorText"])}const fr=M(mr,[["render",hr]]),pr={mixins:[F],components:{draggable:Ce,TextInput:oe,AddButton:ee,MoneyInput:Q,Checkbox:U,UndoButton:W,SelectInput:R,ConfirmModal:Y,NumberInput:P,TextareaInput:de,PrimaryButton:$,BadgeIndicator:G,InputErrorMessage:te,CaptureAdditionalFieldsToogleSwitch:fr},props:{form:{type:Object}},data(){return{originalFields:[],deletableIndex:null,storeState:q(),deletableAdditionalField:null}},computed:{store(){return this.storeState.store},hasFields(){return this.form.additionalFields.length>0},hasOriginalFields(){return this.originalFields.length>0},hasCollapsedAll(){return this.form.additionalFields.every(o=>o.isEditable===!1)},hasExpandedAll(){return this.form.additionalFields.every(o=>o.isEditable===!0)},fieldsHaveChanged(){var o=A(this.form.additionalFields),r=A(this.originalFields);return o.forEach(e=>delete e.isEditable),r.forEach(e=>delete e.isEditable),!z(o,r)}},methods:{onAddField(){this.form.additionalFields.push({validation:"not applicable",type:"short answer",isEditable:!0,required:!1,description:"",options:[],question:"",min:"1",max:"2"})},showDeleteConfirmationModal(o,r){this.deletableIndex=r,this.deletableAdditionalField=o,this.$nextTick(()=>{this.$refs.confirmDeleteButton.$el.click()})},onRemoveField(o){this.form.additionalFields.splice(this.deletableIndex,1),o()},onResetFields(){this.form.additionalFields=A(this.originalFields)},hasOptions(o){return this.form.additionalFields[o].options.length>0},supportsOptions(o){return o.type=="checkbox"||o.type=="select"},onAddOption(o){this.form.additionalFields[o].options.push({name:"",fee:"0.00"})},collapseAll(){this.form.additionalFields.forEach(o=>{o.isEditable=!1})},expandAll(){this.form.additionalFields.forEach(o=>{o.isEditable=!0})},onRemoveFieldOption(o,r){this.form.additionalFields[o].options.splice(r,1)}}},_r={key:0,class:"space-y-4 mt-4"},vr={class:"flex justify-end items-center space-x-2 px-2"},yr=["onClick"],gr={class:"absolute top-2 right-2 flex items-center space-x-2 opacity-20 group-hover:opacity-100"},br=["onClick"],kr=["onClick"],wr={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"},xr={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"},Tr=["onClick"],Mr=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"},null,-1),Dr=[Mr],Sr=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"},null,-1),Cr=[Sr],Fr={key:0,class:"space-y-4"},Vr={class:"flex items-center space-x-2"},Ir={key:0,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Or=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"},null,-1),Ar=[Or],Zr={key:1,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Er=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),Br=[Er],Ur={key:2,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},jr=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"},null,-1),Lr=[jr],Pr={key:3,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Nr=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),Hr=[Nr],qr={key:4,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Gr=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"},null,-1),Rr=[Gr],zr={key:5,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Wr=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"},null,-1),$r=[Wr],Qr={key:6,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Jr=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),Kr=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"},null,-1),Yr=[Jr,Kr],Xr=t("option",{value:"short answer"},"Short answer",-1),en=t("option",{value:"time"},"Time",-1),tn=t("option",{value:"date"},"Date",-1),on=t("option",{value:"checkbox"},"Checkbox",-1),sn=t("option",{value:"select"},"Select",-1),rn=t("option",{value:"file upload"},"File upload",-1),nn=t("option",{value:"location"},"Location",-1),ln=["onClick"],an=["onClick"],dn={class:"w-full flex items-center space-x-4"},cn={class:"flex items-center space-x-4"},mn=["onClick"],un=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"},null,-1),hn=[un],fn=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"},null,-1),pn=[fn],_n={class:"flex justify-end"},vn={class:"relative"},yn={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2"},gn={key:0,class:"animate-bounce text-4xl"},bn=t("span",{class:"ml-2"},"Add Option",-1),kn={key:0,class:"flex items-end space-x-2"},wn=t("option",{value:"not applicable"},"Not applicable",-1),xn=t("option",{value:"select at least"},"Select at least",-1),Tn=t("option",{value:"select at most"},"Select at most",-1),Mn=t("option",{value:"select between"},"Select between",-1),Dn=t("p",{class:"text-sm mt-0.5 mx-2"},"Required",-1),Sn=["onClick"],Cn={class:"flex items-center space-x-2 text-sm text-gray-500"},Fn={key:0,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Vn=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"},null,-1),In=[Vn],On={key:1,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},An=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),Zn=[An],En={key:2,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Bn=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"},null,-1),Un=[Bn],jn={key:3,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Ln=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),Pn=[Ln],Nn={key:4,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Hn=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"},null,-1),qn=[Hn],Gn={key:5,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Rn=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"},null,-1),zn=[Rn],Wn={key:6,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},$n=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),Qn=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"},null,-1),Jn=[$n,Qn],Kn={key:7},Yn={key:0,class:"text-sm text-gray-500"},Xn={class:"flex justify-end space-x-2"},el=t("span",{class:"ml-1"},"Undo",-1),tl={class:"flex justify-end"},ol={class:"relative"},sl={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2"},rl={key:0,class:"animate-bounce text-4xl"},nl=t("span",{class:"ml-2"},"Add Field",-1),ll=t("p",{class:"text-lg font-bold border-b border-dashed pb-4 mb-4"},"Confirm Delete",-1),il={key:0,class:"flex items-start space-x-2 border rounded-lg p-2 mb-4"},al={key:0,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},dl=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"},null,-1),cl=[dl],ml={key:1,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},ul=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),hl=[ul],fl={key:2,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},pl=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"},null,-1),_l=[pl],vl={key:3,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},yl=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),gl=[yl],bl={key:4,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},kl=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"},null,-1),wl=[kl],xl={key:5,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Tl=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"},null,-1),Ml=[Tl],Dl={key:6,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Sl=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),Cl=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"},null,-1),Fl=[Sl,Cl],Vl={class:"mb-8"};function Il(o,r,e,k,a,n){const c=i("CaptureAdditionalFieldsToogleSwitch"),m=i("SelectInput"),_=i("TextInput"),S=i("TextareaInput"),w=i("MoneyInput"),D=i("draggable"),y=i("AddButton"),g=i("NumberInput"),O=i("Checkbox"),f=i("InputErrorMessage"),b=i("BadgeIndicator"),B=i("UndoButton"),J=i("PrimaryButton"),K=i("ConfirmModal");return s(),l("div",{class:C([{"border border-dashed rounded-lg":e.form.captureAdditionalFields}])},[t("div",{class:C([{"bg-blue-50 p-4 rounded-lg":e.form.captureAdditionalFields},"transition-all duration-500"])},[d(c,{form:e.form},null,8,["form"]),e.form.captureAdditionalFields?(s(),l("div",_r,[t("div",vr,[e.form.additionalFields.length>=2&&!n.hasCollapsedAll?(s(),l("span",{key:0,class:"text-sm text-gray-500 underline hover:text-black cursor-pointer",onClick:r[0]||(r[0]=(...x)=>n.collapseAll&&n.collapseAll(...x))}," collapse all ")):p("",!0),e.form.additionalFields.length>=2&&!n.hasExpandedAll?(s(),l("span",{key:1,class:"text-sm text-gray-500 underline hover:text-black cursor-pointer",onClick:r[1]||(r[1]=N((...x)=>n.expandAll&&n.expandAll(...x),["stop"]))}," expand all ")):p("",!0)]),d(D,{class:"space-y-2",handle:".draggable-handle","ghost-class":"bg-yellow-50",modelValue:e.form.additionalFields,"onUpdate:modelValue":r[4]||(r[4]=x=>e.form.additionalFields=x)},{default:h(()=>[(s(!0),l(Z,null,E(e.form.additionalFields,(x,u)=>(s(),l("div",{key:u,onClick:V=>e.form.additionalFields[u].isEditable?null:e.form.additionalFields[u].isEditable=!0,class:C(["w-full relative bg-gray-50 p-4 border rounded-lg hover:bg-gray-100 group",{"cursor-pointer":!e.form.additionalFields[u].isEditable}])},[t("div",gr,[e.form.additionalFields[u].isEditable?(s(),l("span",{key:0,class:"text-sm text-gray-500 underline hover:text-black cursor-pointer",onClick:N(V=>e.form.additionalFields[u].isEditable=!1,["stop"])}," close ",8,br)):(s(),l("svg",{key:1,class:"w-4 h-4 cursor-pointer hover:opacity-50",onClick:N(V=>e.form.additionalFields[u].isEditable=!0,["stop"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e.form.additionalFields[u].isEditable?(s(),l("path",wr)):(s(),l("path",xr))],8,kr)),(s(),l("svg",{onClick:N(V=>n.showDeleteConfirmationModal(x,u),["stop"]),class:"w-4 h-4 cursor-pointer hover:text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Dr,8,Tr)),(s(),l("svg",{onClick:r[2]||(r[2]=N(()=>{},["stop"])),class:"draggable-handle w-4 h-4 cursor-grab hover:text-yellow-500 active:cursor-grabbing",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Cr))]),e.form.additionalFields[u].isEditable?(s(),l("div",Fr,[t("div",Vr,[x.type=="short answer"?(s(),l("svg",Ir,Ar)):x.type=="time"?(s(),l("svg",Zr,Br)):x.type=="date"?(s(),l("svg",Ur,Lr)):x.type=="checkbox"?(s(),l("svg",Pr,Hr)):x.type=="select"?(s(),l("svg",qr,Rr)):x.type=="file upload"?(s(),l("svg",zr,$r)):x.type=="location"?(s(),l("svg",Qr,Yr)):p("",!0),d(m,{width:"w-60",labelPopoverTitle:"What Is This?",modelValue:e.form.additionalFields[u].type,"onUpdate:modelValue":V=>e.form.additionalFields[u].type=V,errorText:o.getFormError("additionalFields"+u+"type"),labelPopoverDescription:"Select the field type"},{default:h(()=>[Xr,en,tn,on,sn,rn,nn]),_:2},1032,["modelValue","onUpdate:modelValue","errorText"])]),d(_,{placeholder:"Question",labelPopoverTitle:"What Is This?",modelValue:e.form.additionalFields[u].question,"onUpdate:modelValue":V=>e.form.additionalFields[u].question=V,labelPopoverDescription:"The question to ask the customer",errorText:o.getFormError("additionalFields"+u+"question")},null,8,["modelValue","onUpdate:modelValue","errorText"]),e.form.additionalFields[u].addDescription?(s(),v(S,{key:0,rows:2,placeholder:"Description",labelPopoverTitle:"What Is This?",modelValue:e.form.additionalFields[u].description,"onUpdate:modelValue":V=>e.form.additionalFields[u].description=V,errorText:o.getFormError("additionalFields"+u+"description"),labelPopoverDescription:"Additional information related to the question"},null,8,["modelValue","onUpdate:modelValue","errorText"])):(s(),l("span",{key:1,onClick:N(V=>e.form.additionalFields[u].addDescription=!0,["stop"]),class:"inline-block text-sm text-gray-500 underline cursor-pointer px-2"}," Add description ",8,ln)),e.form.additionalFields[u].addDescription==!0&&e.form.additionalFields[u].description==""?(s(),l("span",{key:2,class:"inline-block text-sm text-gray-500 underline cursor-pointer px-2",onClick:N(V=>e.form.additionalFields[u].addDescription=!1,["stop"])}," Hide description ",8,an)):p("",!0),n.supportsOptions(x)?(s(),l(Z,{key:3},[d(D,{class:"space-y-2",handle:".draggable-handle-2","ghost-class":"bg-yellow-50",modelValue:e.form.additionalFields[u].options,"onUpdate:modelValue":V=>e.form.additionalFields[u].options=V},{default:h(()=>[(s(!0),l(Z,null,E(e.form.additionalFields[u].options,(V,j)=>(s(),l("div",{key:j,class:"flex items-center justify-between space-x-4 rounded-lg py-2 px-2 hover:border-blue-200 hover:bg-gray-50 group"},[t("div",dn,[d(_,{class:"w-full",placeholder:"Option",modelValue:e.form.additionalFields[u].options[j].name,"onUpdate:modelValue":H=>e.form.additionalFields[u].options[j].name=H,errorText:o.getFormError("additionalFields"+u+"options"+j+"name")},null,8,["modelValue","onUpdate:modelValue","errorText"]),d(w,{modelValue:e.form.additionalFields[u].options[j].fee,"onUpdate:modelValue":H=>e.form.additionalFields[u].options[j].fee=H,errorText:o.getFormError("additionalFields"+u+"options"+j+"fee")},null,8,["modelValue","onUpdate:modelValue","errorText"])]),t("div",cn,[(s(),l("svg",{onClick:H=>n.onRemoveFieldOption(u,j),class:"w-4 h-4 cursor-pointer hover:text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},hn,8,mn)),(s(),l("svg",{onClick:r[3]||(r[3]=N(()=>{},["stop"])),class:"draggable-handle-2 w-4 h-4 cursor-grab hover:text-yellow-500 active:cursor-grabbing",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},pn))])]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),t("div",_n,[t("div",vn,[t("div",yn,[n.hasOptions(u)?p("",!0):(s(),l("div",gn,"ðŸ‘†"))]),d(y,{action:()=>n.onAddOption(u),class:"w-40",size:"xs"},{default:h(()=>[bn]),_:2},1032,["action"])])])],64)):p("",!0),t("div",{class:C(["flex",x.type=="checkbox"?"justify-between":"justify-end","items-end"])},[x.type=="checkbox"?(s(),l("div",kn,[d(m,{width:"w-60",label:"Validation",labelPopoverTitle:"What Is This?",modelValue:e.form.additionalFields[u].validation,"onUpdate:modelValue":V=>e.form.additionalFields[u].validation=V,errorText:o.getFormError("additionalFields"+u+"validation"),labelPopoverDescription:"Select the type of validation to be applied"},{default:h(()=>[wn,xn,Tn,Mn]),_:2},1032,["modelValue","onUpdate:modelValue","errorText"]),e.form.additionalFields[u].validation=="select at least"||e.form.additionalFields[u].validation=="select between"?(s(),v(g,{key:0,min:"0",class:"w-24",modelValue:e.form.additionalFields[u].min,"onUpdate:modelValue":V=>e.form.additionalFields[u].min=V,errorText:o.getFormError("additionalFields"+u+"min"),label:e.form.additionalFields[u].validation=="select at least"?"":"Min"},null,8,["modelValue","onUpdate:modelValue","errorText","label"])):p("",!0),e.form.additionalFields[u].validation=="select at most"||e.form.additionalFields[u].validation=="select between"?(s(),v(g,{key:1,min:"0",class:"w-24",modelValue:e.form.additionalFields[u].max,"onUpdate:modelValue":V=>e.form.additionalFields[u].max=V,errorText:o.getFormError("additionalFields"+u+"max"),label:e.form.additionalFields[u].validation=="select at most"?"":"Max"},null,8,["modelValue","onUpdate:modelValue","errorText","label"])):p("",!0)])):p("",!0),d(O,{size:"xs",modelValue:e.form.additionalFields[u].required,"onUpdate:modelValue":V=>e.form.additionalFields[u].required=V,errorText:o.getFormError("additionalFields"+u+"required"),labelPopoverDescription:"Whether this field is always required"},{default:h(()=>[Dn]),_:2},1032,["modelValue","onUpdate:modelValue","errorText"])],2)])):(s(),l("div",{key:1,class:"space-y-2",onClick:V=>e.form.additionalFields[u].isEditable=!0},[t("div",Cn,[x.type=="short answer"?(s(),l("svg",Fn,In)):x.type=="time"?(s(),l("svg",On,Zn)):x.type=="date"?(s(),l("svg",En,Un)):x.type=="checkbox"?(s(),l("svg",jn,Pn)):x.type=="select"?(s(),l("svg",Nn,qn)):x.type=="file upload"?(s(),l("svg",Gn,zn)):x.type=="location"?(s(),l("svg",Wn,Jn)):p("",!0),x.question?(s(),l("span",Kn,T(x.question),1)):(s(),v(f,{key:8,errorText:"No question asked",margin:"mt-0"})),x.required?(s(),v(b,{key:9,type:"primary",text:"required",showDot:!1})):p("",!0)]),x.description?(s(),l("p",Yn,T(x.description),1)):p("",!0)],8,Sn))],10,yr))),128))]),_:1},8,["modelValue"]),t("div",Xn,[n.fieldsHaveChanged&&n.hasOriginalFields?(s(),v(B,{key:0,action:n.onResetFields,size:"xs"},{default:h(()=>[el]),_:1},8,["action"])):p("",!0),t("div",tl,[t("div",ol,[t("div",sl,[n.hasFields?p("",!0):(s(),l("div",rl,"ðŸ‘†"))]),d(y,{action:n.onAddField,class:"w-40",size:"xs"},{default:h(()=>[nl]),_:1},8,["action"])])])])])):p("",!0)],2),a.deletableAdditionalField?(s(),v(K,{key:0,approveText:"Delete",approveAction:x=>n.onRemoveField(x)},{content:h(()=>[ll,a.deletableAdditionalField.question?(s(),l("div",il,[a.deletableAdditionalField.type=="short answer"?(s(),l("svg",al,cl)):a.deletableAdditionalField.type=="time"?(s(),l("svg",ml,hl)):a.deletableAdditionalField.type=="date"?(s(),l("svg",fl,_l)):a.deletableAdditionalField.type=="checkbox"?(s(),l("svg",vl,gl)):a.deletableAdditionalField.type=="select"?(s(),l("svg",bl,wl)):a.deletableAdditionalField.type=="file upload"?(s(),l("svg",xl,Ml)):a.deletableAdditionalField.type=="location"?(s(),l("svg",Dl,Fl)):p("",!0),t("span",null,T(a.deletableAdditionalField.question),1)])):p("",!0),t("p",Vl,[I("Are you sure you want to delete this "),d(b,{type:"primary",text:a.deletableAdditionalField.type,showDot:!1},null,8,["text"]),I(" field?")])]),trigger:h(x=>[d(J,{ref:"confirmDeleteButton",action:x.showModal,class:"hidden",type:"danger"},null,8,["action"])]),_:1},8,["approveAction"])):p("",!0)],2)}const Ol=M(pr,[["render",Il]]),Al={mixins:[F],components:{ToogleSwitch:X},props:{form:{type:Object}}};function Zl(o,r,e,k,a,n){const c=i("ToogleSwitch");return s(),v(c,{size:"md",modelValue:e.form.active,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.active=m),labelPopoverTitle:"What Is This?",errorText:o.getFormError("active"),labelPopoverDescription:"Turn on so that your delivery method is made available to customers. Turn off so that your delivery method not available to customers"},{default:h(()=>[I(" Active ")]),_:1},8,["modelValue","errorText"])}const El=M(Al,[["render",Zl]]),Bl={mixins:[F],components:{TextareaInput:de},props:{form:{type:Object}}};function Ul(o,r,e,k,a,n){const c=i("TextareaInput");return s(),v(c,{rows:2,label:"Description",modelValue:e.form.description,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.description=m),labelPopoverTitle:"What Is This?",errorText:o.getFormError("description"),placeholder:"Delivery using our in-house logistics service",labelPopoverDescription:"A short and sweet description of how delivery/pickup will be accomplished"},null,8,["modelValue","errorText"])}const jl=M(Bl,[["render",Ul]]),Ll={mixins:[F],components:{ConfirmModal:Y,PrimaryButton:$},props:{form:{type:Object}},data(){return{isDeleting:!1,storeState:q(),deliveryMethodState:L()}},computed:{store(){return this.storeState.store},deliveryMethod(){return this.deliveryMethodState.deliveryMethod},isLoadingDeliveryMethod(){return this.deliveryMethodState.isLoadingDeliveryMethod}},methods:{deleteDeliveryMethod(){this.isDeleting=!0,ve(this.deliveryMethod._links.deleteDeliveryMethod).then(o=>{o.status==200?o.data.deleted?(this.$router.push({name:"show-store-delivery-methods",params:{store_href:this.store._links.showStore}}).then(()=>{window.scrollTo(0,0)}),this.showSuccessfulNotification("Delivery method deleted")):(this.setFormError("general",o.data.message),this.showUnsuccessfulNotification(o.data.message)):(this.setFormError("general",o.data.message),this.showUnsuccessfulNotification(o.data.message)),this.isDeleting=!1}).catch(o=>{this.isDeleting=!1,this.setServerFormErrors(o)})}}},Pl={class:"font-bold text-black"},Nl={class:"flex justify-end"},Hl=t("p",{class:"text-lg font-bold border-b border-dashed pb-4 mb-4"},"Confirm Delete",-1),ql={class:"mb-8"},Gl={class:"font-bold text-black"};function Rl(o,r,e,k,a,n){const c=i("PrimaryButton"),m=i("ConfirmModal");return n.deliveryMethod?(s(),l("div",{key:0,class:C(["space-y-4 shadow-lg rounded-lg border p-4",n.isLoadingDeliveryMethod?"bg-gray-50":"border-red-300 bg-red-50"])},[t("p",null,[I("Do you want to permanently delete "),t("span",Pl,T(e.form.name),1),I("? Once this delivery method is deleted you will not be able to recover it.")]),t("div",Nl,[d(m,{approveText:"Delete Delivery Method",approveAction:n.deleteDeliveryMethod,isLoading:a.isDeleting},{content:h(()=>[Hl,t("p",ql,[I("Are you sure you want to permanently delete "),t("span",Gl,T(e.form.name),1),I("?")])]),trigger:h(_=>[d(c,{action:_.showModal,loading:a.isDeleting,class:"w-60",type:"danger"},{default:h(()=>[I(" Delete Delivery Method ")]),_:2},1032,["action","loading"])]),_:1},8,["approveAction","isLoading"])])],2)):p("",!0)}const zl=M(Ll,[["render",Rl]]),Wl={mixins:[F],components:{Checkbox:U,NumberInput:P},props:{form:{type:Object}}},$l=t("div",{class:"space-y-1 mt-0.5"},[t("p",{class:"font-bold text-sm mx-2"},"Qualify on minimum grand total"),t("p",{class:"text-sm text-gray-500 mx-2"},"Customer carts must qualify with a minimum grand total before placing an order.")],-1);function Ql(o,r,e,k,a,n){const c=i("Checkbox"),m=i("NumberInput");return s(),l("div",{class:C([{"border border-dashed rounded-lg":e.form.qualifyOnMinimumGrandTotal}])},[t("div",{class:C([{"bg-blue-50 p-4 rounded-lg":e.form.qualifyOnMinimumGrandTotal},"transition-all duration-500"])},[d(c,{size:"xs",modelValue:e.form.qualifyOnMinimumGrandTotal,"onUpdate:modelValue":r[0]||(r[0]=_=>e.form.qualifyOnMinimumGrandTotal=_),errorText:o.getFormError("qualifyOnMinimumGrandTotal")},{default:h(()=>[$l]),_:1},8,["modelValue","errorText"]),t("div",{class:C([e.form.qualifyOnMinimumGrandTotal?"h-24 p-0.5":"h-0 mb-0 p-0","transition-all duration-500 overflow-hidden"])},[e.form.qualifyOnMinimumGrandTotal?(s(),v(m,{key:0,min:"1",placeholder:"100",class:"max-w-80 mt-4",label:"Minimum Grand Total",labelPopoverTitle:"What Is This?",modelValue:e.form.minimumGrandTotal,"onUpdate:modelValue":r[1]||(r[1]=_=>e.form.minimumGrandTotal=_),errorText:o.getFormError("minimumGrandTotal"),labelPopoverDescription:"Customer carts must qualify with a minimum grand total before placing an order"},null,8,["modelValue","errorText"])):p("",!0)],2)],2)],2)}const Jl=M(Wl,[["render",Ql]]),Kl={mixins:[F],components:{Checkbox:U},props:{form:{type:Object}}},Yl=t("div",{class:"space-y-1 mt-0.5"},[t("p",{class:"font-bold text-sm mx-2"},"Require location on map"),t("p",{class:"text-sm text-gray-500 mx-2"},"Customers must pick a location on the map for accurate delivery")],-1);function Xl(o,r,e,k,a,n){const c=i("Checkbox");return s(),v(c,{size:"xs",modelValue:e.form.requireLocationOnMap,"onUpdate:modelValue":r[0]||(r[0]=m=>e.form.requireLocationOnMap=m),errorText:o.getFormError("requireLocationOnMap")},{default:h(()=>[Yl]),_:1},8,["modelValue","errorText"])}const ei=M(Kl,[["render",Xl]]),ti={mixins:[F],components:{Checkbox:U,NumberInput:P},props:{form:{type:Object}}},oi=t("div",{class:"mt-0.5 mx-2"},[t("p",{class:"font-bold text-sm mb-1"},"Set daily order limit"),t("p",{class:"text-sm text-gray-500 max-w-96"},"Orders placed must not exceed the daily limit specified")],-1),si=t("span",{class:"text-sm"}," Accept no more than ",-1),ri=t("span",{class:"text-sm"}," orders per day ",-1);function ni(o,r,e,k,a,n){const c=i("Checkbox"),m=i("NumberInput");return s(),l("div",{class:C([{"border border-dashed rounded-lg":e.form.setDailyOrderLimit}])},[t("div",{class:C([{"bg-blue-50 p-4 rounded-lg":e.form.setDailyOrderLimit},"transition-all duration-500"])},[d(c,{size:"xs",modelValue:e.form.setDailyOrderLimit,"onUpdate:modelValue":r[0]||(r[0]=_=>e.form.setDailyOrderLimit=_),errorText:o.getFormError("setDailyOrderLimit")},{default:h(()=>[oi]),_:1},8,["modelValue","errorText"]),t("div",{class:C([e.form.setDailyOrderLimit?"h-10 mt-4 py-0.5":"h-0 mt-0 py-0","text-gray-500 space-x-2 transition-all duration-500 overflow-hidden"])},[si,d(m,{min:"1",placeholder:"1",class:"w-24 inline-block",modelValue:e.form.dailyOrderLimit,"onUpdate:modelValue":r[1]||(r[1]=_=>e.form.dailyOrderLimit=_)},null,8,["modelValue"]),ri],2)],2)],2)}const li=M(ti,[["render",ni]]),ii={mixins:[F],components:{Checkbox:U,NumberInput:P},props:{form:{type:Object}}},ai=t("div",{class:"space-y-1 mt-0.5"},[t("p",{class:"font-bold text-sm mx-2"},"Offer free delivery on minimum grand total"),t("p",{class:"text-sm text-gray-500 mx-2"},"Customer carts must qualify with a minimum grand total to claim free delivery.")],-1);function di(o,r,e,k,a,n){const c=i("Checkbox"),m=i("NumberInput");return s(),l("div",{class:C([{"border border-dashed rounded-lg":e.form.offerFreeDeliveryOnMinimumGrandTotal}])},[t("div",{class:C([{"bg-blue-50 p-4 rounded-lg":e.form.offerFreeDeliveryOnMinimumGrandTotal},"transition-all duration-500"])},[d(c,{size:"xs",modelValue:e.form.offerFreeDeliveryOnMinimumGrandTotal,"onUpdate:modelValue":r[0]||(r[0]=_=>e.form.offerFreeDeliveryOnMinimumGrandTotal=_),errorText:o.getFormError("offerFreeDeliveryOnMinimumGrandTotal")},{default:h(()=>[ai]),_:1},8,["modelValue","errorText"]),t("div",{class:C([e.form.offerFreeDeliveryOnMinimumGrandTotal?"h-24 p-0.5":"h-0 mb-0 p-0","transition-all duration-500 overflow-hidden"])},[e.form.offerFreeDeliveryOnMinimumGrandTotal?(s(),v(m,{key:0,min:"1",placeholder:"100",class:"max-w-80 mt-4",label:"Minimum Grand Total",labelPopoverTitle:"What Is This?",modelValue:e.form.freeDeliveryMinimumGrandTotal,"onUpdate:modelValue":r[1]||(r[1]=_=>e.form.freeDeliveryMinimumGrandTotal=_),errorText:o.getFormError("minimumGrandTotal"),labelPopoverDescription:"Customer carts must qualify with a minimum grand total to claim free delivery"},null,8,["modelValue","errorText"])):p("",!0)],2)],2)],2)}const ci=M(ii,[["render",di]]),mi={mixins:[F],components:{Alert:re,TextHeader:fe,BackButton:pe,UndoButton:W,ShineEffect:ne,PrimaryButton:$,LineSkeleton:le,MoreInfoPopover:ie,BackdropLoader:_e,FormErrorMessages:ke,Schedule:Co,ChargeFee:ir,NameTextInput:cr,ActiveToggleSwitch:El,AdditionalFields:Ol,DescriptionTextarea:jl,DeleteDeliveryMethod:zl,QualifyOnMinimumGrandTotal:Jl,RequireLocationMapCheckbox:ei,SetDailyOrderLimitCheckbox:li,OfferFreeDeliveryOnMinimumGrandTotal:ci},data(){return{form:{name:"",active:!0,description:"",chargeFee:!1,distanceZones:[],setSchedule:!1,feeType:"flat fee",postalCodeZones:[],additionalFields:[],scheduleType:"date",flatFeeRate:"10.00",dailyOrderLimit:"1000",percentageFeeRate:"10",setDailyOrderLimit:!1,timeSlotIntervalValue:"1",minimumGrandTotal:"100.00",requireLocationOnMap:!1,latestDeliveryTimeValue:"7",timeSlotIntervalUnit:"hour",autoGenerateTimeSlots:!1,showDistanceOnInvoice:!1,earliestDeliveryTimeValue:"3",captureAdditionalFields:!1,earliestDeliveryTimeUnit:"day",qualifyOnMinimumGrandTotal:!1,requireMinimumNoticeForOrders:!1,restrictMaximumNoticeForOrders:!1,freeDeliveryMinimumGrandTotal:"200.00",offerFreeDeliveryOnMinimumGrandTotal:!1,operationalHours:this.generateOperationalHours()},originalForm:null,isSubmitting:!1,apiState:se(),storeState:q(),deliveryMethodState:L()}},computed:{store(){return this.storeState.store},isCreating(){return this.$route.name==="create-store-delivery-method"},isEditting(){return this.$route.name==="show-store-delivery-method"},isLoadingDeliveryMethod(){return this.deliveryMethodState.isLoadingDeliveryMethod},formHasChanged(){var o=A(this.form),r=A(this.originalForm);return!z(o,r)},mustSaveChanges(){return this.isEditting&&this.formHasChanged&&!this.isLoadingDeliveryMethod&&!this.isSubmitting},mustCreate(){return this.isCreating&&this.formHasChanged&&!this.isLoadingDeliveryMethod&&!this.isSubmitting}},methods:{goBack(){this.$router.push({name:"show-store-delivery-methods",params:{store_href:this.store._links.showStore}}).then(()=>{window.scrollTo(0,0)})},setFormFields(){this.form={name:this.deliveryMethod.name,active:this.deliveryMethod.active,feeType:this.deliveryMethod.feeType,chargeFee:this.deliveryMethod.chargeFee,setSchedule:this.deliveryMethod.setSchedule,description:this.deliveryMethod.description,scheduleType:this.deliveryMethod.scheduleType,sameDayDelivery:this.deliveryMethod.sameDayDelivery,operationalHours:this.deliveryMethod.operationalHours,setDailyOrderLimit:this.deliveryMethod.setDailyOrderLimit,timeSlotIntervalUnit:this.deliveryMethod.timeSlotIntervalUnit,requireLocationOnMap:this.deliveryMethod.requireLocationOnMap,dailyOrderLimit:this.deliveryMethod.dailyOrderLimit.toString(),autoGenerateTimeSlots:this.deliveryMethod.autoGenerateTimeSlots,showDistanceOnInvoice:this.deliveryMethod.showDistanceOnInvoice,flatFeeRate:this.deliveryMethod.flatFeeRate.amountWithoutCurrency,captureAdditionalFields:this.deliveryMethod.captureAdditionalFields,earliestDeliveryTimeUnit:this.deliveryMethod.earliestDeliveryTimeUnit,percentageFeeRate:this.deliveryMethod.percentageFeeRate.value.toString(),qualifyOnMinimumGrandTotal:this.deliveryMethod.qualifyOnMinimumGrandTotal,timeSlotIntervalValue:this.deliveryMethod.timeSlotIntervalValue.toString(),minimumGrandTotal:this.deliveryMethod.minimumGrandTotal.amountWithoutCurrency,latestDeliveryTimeValue:this.deliveryMethod.latestDeliveryTimeValue.toString(),requireMinimumNoticeForOrders:this.deliveryMethod.requireMinimumNoticeForOrders,restrictMaximumNoticeForOrders:this.deliveryMethod.restrictMaximumNoticeForOrders,earliestDeliveryTimeValue:this.deliveryMethod.earliestDeliveryTimeValue.toString(),offerFreeDeliveryOnMinimumGrandTotal:this.deliveryMethod.offerFreeDeliveryOnMinimumGrandTotal,freeDeliveryMinimumGrandTotal:this.deliveryMethod.freeDeliveryMinimumGrandTotal.amountWithoutCurrency},this.form.operationalHours.length==0&&(this.form.operationalHours=this.generateOperationalHours()),this.form.distanceZones=this.deliveryMethod.distanceZones.map(o=>(o.isEditable=!1,o)),this.form.postalCodeZones=this.deliveryMethod.postalCodeZones.map(o=>(o.isEditable=!1,o)),this.form.additionalFields=this.deliveryMethod.additionalFields.map(o=>(o.addDescription=o.description!="",o.isEditable=!1,o)),this.originalDistanceZones=A(this.form.distanceZones),this.originalPostalCodeZones=A(this.form.postalCodeZones),this.originalForm=A(this.form)},generateOperationalHours(){return Array(7).fill().map(()=>({available:!0,hours:[["08:00","16:00"]]}))},parseForm(){var o=A(this.form);return this.isCreating&&(o.store_id=this.store.id),o},getDeliveryMethod(){L().isLoadingDeliveryMethod=!0;const o={_relationships:"address"};ye(this.$route.params.delivery_method_href,o).then(r=>{r.status==200&&r.data.exists&&(L().deliveryMethod=r.data.deliveryMethod,this.deliveryMethod=r.data.deliveryMethod,this.setFormFields()),L().isLoadingDeliveryMethod=!1}).catch(r=>{L().isLoadingDeliveryMethod=!1,this.setServerFormErrors(r)})},createStoreDeliveryMethod(){this.hideFormErrors(),this.form.name.trim()==""?this.setFormError("name","Enter delivery method name"):(this.isSubmitting=!0,ge(se().apiHome._links.createDeliveryMethod,this.parseForm()).then(o=>{o.status==200&&(o.data.created?(this.$router.push({name:"show-store-delivery-methods",params:{store_href:this.store._links.showStore}}).then(()=>{window.scrollTo(0,0)}),this.showSuccessfulNotification("Delivery method created")):(this.setFormError("general",o.data.message),this.showUnsuccessfulNotification(o.data.message))),this.isSubmitting=!1}).catch(o=>{this.isSubmitting=!1,this.setServerFormErrors(o)}))},updateDeliveryMethod(){this.isSubmitting=!0,be(this.deliveryMethod._links.updateDeliveryMethod,this.parseForm()).then(o=>{o.status==200&&(o.data.updated?(this.$router.push({name:"show-store-delivery-methods",params:{store_href:this.store._links.showStore}}).then(()=>{window.scrollTo(0,0)}),this.showSuccessfulNotification("Delivery method updated")):(this.setFormError("general",o.data.message),this.showUnsuccessfulNotification(o.data.message)),this.originalForm=A(this.form)),this.isSubmitting=!1}).catch(o=>{this.isSubmitting=!1,this.setServerFormErrors(o)})}},beforeUnmount(){L().reset()},created(){this.originalForm=A(this.form),this.isEditting&&this.getDeliveryMethod()}},ui={class:"bg-white shadow-lg border p-8 rounded-lg relative"},hi={class:"space-y-4",action:"#",method:"POST"},fi={class:"flex justify-start items-center border-dashed py-6"},pi={key:0,class:"flex items-center space-x-2"},_i={class:"flex items-center space-x-2"},vi=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1),yi={class:"flex items-center space-x-2"},gi=t("span",{class:"ml-1"},"Undo",-1);function bi(o,r,e,k,a,n){const c=i("BackdropLoader"),m=i("BackButton"),_=i("LineSkeleton"),S=i("ShineEffect"),w=i("TextHeader"),D=i("MoreInfoPopover"),y=i("UndoButton"),g=i("PrimaryButton"),O=i("Alert"),f=i("FormErrorMessages"),b=i("ActiveToggleSwitch"),B=i("NameTextInput"),J=i("DescriptionTextarea"),K=i("QualifyOnMinimumGrandTotal"),x=i("OfferFreeDeliveryOnMinimumGrandTotal"),u=i("SetDailyOrderLimitCheckbox"),V=i("AdditionalFields"),j=i("RequireLocationMapCheckbox"),H=i("ChargeFee"),ce=i("Schedule"),me=i("DeleteDeliveryMethod");return s(),l("div",ui,[n.isLoadingDeliveryMethod||a.isSubmitting?(s(),v(c,{key:0,class:"rounded-lg"})):p("",!0),t("form",hi,[t("div",fi,[d(m,{class:"w-16 mr-4",action:n.goBack},null,8,["action"]),n.isLoadingDeliveryMethod?(s(),l("div",pi,[d(S,{class:"flex space-x-2"},{default:h(()=>[d(_,{width:"w-40 mt-2"}),d(_,{width:"w-4 mt-2"})]),_:1})])):(s(),l(Z,{key:1},[d(w,null,{default:h(()=>[I(T(n.isCreating?"Add Delivery Method":a.form.name),1)]),_:1}),d(D,{class:"ml-2 mt-1",title:"What Is This?",description:"Delivery methods are the ways you get products to your customers, such as home delivery, in-store pickup, or courier services. Configure them to match your store's logistics and customer preferences.",placement:"top"})],64))]),t("div",{class:C([n.mustSaveChanges||n.mustCreate?"h-20 mb-8":"h-0 mb-0 p-0","transition-all duration-500 overflow-hidden"])},[d(O,{type:"warning",class:"flex justify-between items-center border border-dashed"},{default:h(()=>[t("div",_i,[vi,t("span",null,T(n.isEditting?"Please save your changes":"Create your delivery method"),1)]),t("div",yi,[d(y,{action:n.setFormFields,type:"light",size:"xs"},{default:h(()=>[gi]),_:1},8,["action"]),d(g,{action:()=>n.isEditting?n.updateDeliveryMethod():n.createStoreDeliveryMethod(),loading:a.isSubmitting,type:"dark"},{default:h(()=>[t("span",null,T(n.isEditting?"Save Changes":"Create"),1)]),_:1},8,["action","loading"])])]),_:1})],2),d(f),d(b,{form:a.form},null,8,["form"]),d(B,{form:a.form},null,8,["form"]),d(J,{form:a.form},null,8,["form"]),d(K,{form:a.form},null,8,["form"]),d(x,{form:a.form},null,8,["form"]),d(u,{form:a.form},null,8,["form"]),d(V,{form:a.form},null,8,["form"]),d(j,{form:a.form},null,8,["form"]),d(H,{form:a.form},null,8,["form"]),d(ce,{form:a.form},null,8,["form"]),d(f),d(g,{action:()=>n.isEditting?n.updateDeliveryMethod():n.createStoreDeliveryMethod(),disabled:!n.mustSaveChanges&&!n.mustCreate,loading:a.isSubmitting,type:"dark",class:"w-full"},{default:h(()=>[t("span",null,T(n.isEditting?"Save Changes":"Create"),1)]),_:1},8,["action","disabled","loading"]),t("div",null,[d(me,{form:a.form,class:"mt-16"},null,8,["form"])])])])}const aa=M(mi,[["render",bi]]);export{aa as default};
