import{A as Q}from"./Alert-CABMwZBp.js";import{F as V,u as H}from"./FormMixin-De7YsbPB.js";import{u as i}from"./store-store-XwcbmEGy.js";import{T as C}from"./TextHeader-CdhczHQc.js";import{g as w}from"./api-repository-DOiLuzo7.js";import{S as B,L as E}from"./LineSkeleton-CYHPuScz.js";import{P as T}from"./PrimaryButton-fdKtSp2v.js";import{S as A,U as F}from"./UserStoreSubscriptionCountdown-BpObM1fl.js";import{c as d,a as o,h as a,w as u,t as _,i as l,F as j,b as h,r,o as e,d as g}from"./app-vGTXn0df.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SpiningLoader-BKOTtNJv.js";import"./Countdown-ecP0-z6n.js";import"./MoreInfoPopover-7d45rrBN.js";import"./BasicModal-DVIL9gwh.js";const U={mixins:[V],components:{Alert:Q,TextHeader:C,ShineEffect:B,LineSkeleton:E,PrimaryButton:T,StoreQuickStartGuideProgress:A,UserStoreSubscriptionCountdown:F},data(){return{isLoadingStore:!1,storeState:i(),notificationState:H()}},watch:{"$route.params.store_href"(t,n){this.showStore()},"storeState.shouldUpdate"(t,n){i().shouldUpdate=!1,this.showStore()}},beforeRouteUpdate(t,n){this.showQuickStartGuide()},computed:{store(){return this.storeState.store},quickStartGuide(){return this.storeState.quickStartGuide},activeSubscription(){return this.store._relationships.activeSubscription},completedQuickStartGuide(){return this.storeState.completedQuickStartGuide}},methods:{navigateToStoreHome(){this.$router.push({name:"show-store-home",params:{store_href:this.store._links.showStore}})},showStore(){this.isLoadingStore=!0;let t=["subscriptions"],f={_relationships:["address","storeRollingNumbers","activeSubscription","userStoreAssociation"].join(","),_countable_relationships:t.join(",")};w(this.$route.params.store_href,f).then(c=>{c.status==200&&c.data.exists&&(i().store=c.data.store,this.showQuickStartGuide()),this.isLoadingStore=!1}).catch(c=>{this.isLoadingStore=!1,this.setServerFormErrors(c)})},showQuickStartGuide(){i().isLoadingQuickStartGuide=!0,w(this.store._links.showStoreQuickStartGuide).then(t=>{t.status==200&&(i().quickStartGuide=t.data),i().isLoadingQuickStartGuide=!1}).catch(t=>{i().isLoadingQuickStartGuide=!1,this.setServerFormErrors(t)})}},created(){this.showStore()}},M={class:"px-16 pt-8"},N={key:0,class:"grid grid-cols-2 pb-4 border-b border-dashed"},q={class:"col-span-1"},R={key:3,class:"mt-2"},z={key:0,class:"flex justify-between items-end bg-white shadow-lg rounded-lg border py-4 px-8 mt-4"},D={class:"space-y-3"},W=o("h1",{class:"text-lg font-bold"},"Quick Start Guide",-1),Z=o("p",{class:"text-sm text-gray-500"},"Let's continue setting up your store",-1),I=o("span",{class:"mr-2"},"Continue",-1),J=o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"})],-1),K={class:"bg-white shadow-lg rounded-lg border border-b-2 p-4 mt-4"},O={class:"col-span-1 flex justify-end items-end"},X=o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"},null,-1),Y=[X];function $(t,n,f,c,m,s){const p=r("LineSkeleton"),S=r("ShineEffect"),k=r("TextHeader"),v=r("StoreQuickStartGuideProgress"),b=r("PrimaryButton"),y=r("UserStoreSubscriptionCountdown"),x=r("Alert"),G=r("router-view");return e(),d("div",M,[s.store?(e(),d("div",N,[o("div",q,[m.isLoadingStore?(e(),a(S,{key:0},{default:u(()=>[h(p,{width:"w-32",height:"h-4"})]),_:1})):(e(),a(k,{key:1},{default:u(()=>[g(_(s.store._attributes.nameWithEmoji),1)]),_:1})),m.isLoadingStore?(e(),a(S,{key:2,class:"mt-4"},{default:u(()=>[h(p,{width:"w-40"})]),_:1})):s.store.description?(e(),d("p",R,_(s.store.description),1)):l("",!0),t.$route.name!="show-store-home"?(e(),d(j,{key:4},[s.completedQuickStartGuide?l("",!0):(e(),d("div",z,[o("div",D,[W,Z,m.isLoadingStore?(e(),a(S,{key:0},{default:u(()=>[h(p,{width:"w-32",height:"h-4"})]),_:1})):(e(),a(v,{key:1}))]),o("div",null,[h(b,{action:s.navigateToStoreHome,class:"w-40",size:"xs",type:"success"},{default:u(()=>[I,J]),_:1},8,["action"])])])),o("div",K,[h(y)])],64)):l("",!0),t.getFormError("general")?(e(),a(x,{key:5,type:"warning"},{default:u(()=>[g(_(t.getFormError("general")),1)]),_:1})):l("",!0)]),o("div",O,[(e(),d("svg",{onClick:n[0]||(n[0]=(...L)=>s.navigateToStoreHome&&s.navigateToStoreHome(...L)),class:"w-8 h-8 mr-4 cursor-pointer hover:opacity-80 active:opacity-50 active:scale-90",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Y))])])):l("",!0),s.store?(e(),a(G,{key:s.store.id})):l("",!0)])}const pt=P(U,[["render",$]]);export{pt as default};
