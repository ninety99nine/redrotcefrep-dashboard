import{c as Z,i as W}from"./cloneDeep-B1YGuKb7.js";import{A as le}from"./Alert-DT2JK55x.js";import{F as D}from"./FormMixin-6JkaGLLr.js";import{A as ce,r as n,o as r,c as i,b as o,n as A,F as V,k as E,d,t as _,f as y,h as M,w as v,e as p,B as he,m as N,u as re}from"./app-jXH5QC3l.js";import{u as G}from"./store-store-DI9g0YE3.js";import{T as fe}from"./TextHeader-7PJHfuaV.js";import{B as pe}from"./BackButton-BwL1p-4a.js";import{U as q}from"./UndoButton-Cim9BbTh.js";import{P as K}from"./PrimaryButton-BXUz1ZHt.js";import{L as ie}from"./LineSkeleton-3g5h70H3.js";import{B as ye}from"./BackdropLoader-DgFXULql.js";import{M as ne}from"./MoreInfoPopover-DuLCv7tU.js";import{d as ve,g as ge,p as be,a as we}from"./api-repository--xE_j9dL.js";import{F as ke}from"./FormErrorMessages-CsroBFH8.js";import{U as xe}from"./form-store-C265_0LO.js";import{D as _e,a as Te}from"./DeliveryTimePicker-pf4X7jq8.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{T as Me}from"./TimeInput-4u7PI5Ez.js";import{C as B}from"./Checkbox-CA6moHBM.js";import{C as te}from"./ConfirmModal-l78eHkJU.js";import{P as R}from"./Pill-CNWbwQ3o.js";import{S as z}from"./SelectInput-D7XUHB9M.js";import{T as oe}from"./ToogleSwitch-D6TVHn6r.js";import{N as j}from"./NumberInput-BIo-kZAA.js";import{T as J}from"./TextInput-CYg7QVrw.js";import{I as ae}from"./InputTags-jUWY5byK.js";import{A as Y}from"./AddButton-C27rg1QJ.js";import{M as Q}from"./MoneyInput-CQeRzHMh.js";import{D as se}from"./DeleteButton-BvyZ48Y_.js";import{b as X}from"./InputErrorMessage-CbGsL3fL.js";import{A as Ce}from"./AddressInput-CwOAEXOj.js";import{V as De}from"./vue-draggable-next.esm-bundler-DxBVIkpx.js";import{T as de}from"./TextareaInput-CVYM4kJV.js";import"./SpinningLoader-BdvFuScB.js";/* empty css                                                                      */import"./ShineEffect-DfG5M4Ts.js";import"./debounce-DXQVMQyV.js";import"./Datepicker-B1KIg2S4.js";import"./Button-BeSnAT_x.js";import"./vue3-tags-input.esm-9OXT0wqV.js";import"./GoogleMaps-CAZTA1nk.js";import"./BasicModal-COtA-wOd.js";import"./CountrySelectInput-Cx2zez3q.js";const P=ce("deliveryMethod",{state:()=>({deliveryMethod:null,isLoadingDeliveryMethod:!1}),actions:{reset(){this.deliveryMethod=null,this.isLoadingDeliveryMethod=!1}}}),Fe={mixins:[xe],components:{LineSkeleton:ie,DeliveryDatePicker:_e,DeliveryTimePicker:Te},props:{form:{type:Object}},data(){return{testDeliveryDate:null,testDeliveryTimeslot:null,scheduleOptions:{},showScheduleSummary:!0,isLoadingDateOptions:!1,isLoadingTimeOptions:!1}},computed:{scheduleKeyPoints(){return this.scheduleOptions.scheduleKeyPoints||[]}},methods:{onIsLoadingDateOptions(s){this.testDeliveryDate=null,this.testDeliveryTimeslot=null,this.isLoadingDateOptions=s},onIsLoadingTimeOptions(s){this.testDeliveryTimeslot=null,this.isLoadingTimeOptions=s},toggleScheduleSummary(){this.showScheduleSummary=!this.showScheduleSummary,this.testDeliveryDate=null,this.testDeliveryTimeslot=null}}},Se={class:"bg-white border rounded-lg space-y-4"},Ve={class:"hover:text-gray-500 active:text-gray-400"},Ae={class:"text-xs"},Oe={key:0,class:"space-y-4 px-4 pb-4"},Ie={class:"text-sm text-gray-500"},Ze={class:"grid grid-cols-2 gap-4 space-x-2"},Ee={class:"col-span-2 lg:col-span-1 space-y-2"},Ue={key:0,class:"col-span-2 lg:col-span-1 space-y-2"},Be={key:0,class:"text-sm text-green-500"},Le={class:"font-bold"};function Pe(s,e,t,k,a,l){const u=n("LineSkeleton"),c=n("DeliveryDatePicker"),b=n("DeliveryTimePicker");return r(),i("div",Se,[o("div",{onClick:e[2]||(e[2]=(...x)=>l.toggleScheduleSummary&&l.toggleScheduleSummary(...x)),class:A(["space-y-2 p-4 cursor-pointer rounded-lg hover:bg-gray-50",{"border-b border-dashed pb-4":a.showScheduleSummary}])},[o("div",{class:A(["flex justify-between",{"mb-4":a.showScheduleSummary}])},[e[9]||(e[9]=o("p",{class:"font-bold text-md"},"Schedule Summary",-1)),o("div",Ve,[a.showScheduleSummary?(r(),i("svg",{key:0,class:"w-6 h-6 cursor-pointer",onClick:e[0]||(e[0]=x=>a.showScheduleSummary=!1),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},e[7]||(e[7]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"},null,-1)]))):(r(),i("svg",{key:1,onClick:e[1]||(e[1]=x=>a.showScheduleSummary=!0),class:"w-6 h-6 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},e[8]||(e[8]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"},null,-1)])))])],2),a.showScheduleSummary?(r(),i(V,{key:0},[a.isLoadingDateOptions||a.isLoadingTimeOptions?(r(),i(V,{key:0},E([1,2,3],(x,S)=>o("div",{key:S,class:"flex space-x-2"},[d(u,{width:"w-2"}),d(u,{width:"w-1/2"})])),64)):(r(!0),i(V,{key:1},E(l.scheduleKeyPoints,(x,S)=>(r(),i("div",{key:S,class:"px-2 border-l-4 border-green-300"},[o("p",Ae,_(x),1)]))),128))],64)):y("",!0)],2),a.showScheduleSummary?(r(),i("div",Oe,[e[16]||(e[16]=o("p",{class:"font-bold text-md mb-2"},"Test Schedule",-1)),o("div",null,[o("p",Ie,[e[10]||(e[10]=M("This is how the delivery days")),t.form.scheduleType=="date and time"?(r(),i(V,{key:0},[M(" and times")],64)):y("",!0),e[11]||(e[11]=M(" will appear for customers shopping today."))]),e[12]||(e[12]=o("p",{class:"text-sm text-gray-500"},"Go ahead and try it! ðŸ«£",-1))]),o("div",Ze,[o("div",Ee,[e[13]||(e[13]=o("span",{class:"font-bold text-sm"},"Delivery date",-1)),d(c,{form:t.form,modelValue:a.testDeliveryDate,"onUpdate:modelValue":e[3]||(e[3]=x=>a.testDeliveryDate=x),onIsLoading:l.onIsLoadingDateOptions,onScheduleOptions:e[4]||(e[4]=x=>a.scheduleOptions=x)},null,8,["form","modelValue","onIsLoading"])]),a.testDeliveryDate&&!a.isLoadingDateOptions&&t.form.scheduleType=="date and time"?(r(),i("div",Ue,[e[14]||(e[14]=o("span",{class:"font-bold text-sm"},"Delivery time",-1)),d(b,{form:t.form,modelValue:a.testDeliveryTimeslot,"onUpdate:modelValue":e[5]||(e[5]=x=>a.testDeliveryTimeslot=x),deliveryDate:a.testDeliveryDate,onIsLoading:l.onIsLoadingTimeOptions,onScheduleOptions:e[6]||(e[6]=x=>a.scheduleOptions=x)},null,8,["form","modelValue","deliveryDate","onIsLoading"])])):y("",!0)]),a.testDeliveryDate?(r(),i("p",Be,[e[15]||(e[15]=M("Your order will be delivered on ")),o("span",Le,_(a.testDeliveryDate)+" ("+_(s.customFormattedDate(a.testDeliveryDate,"ddd"))+")",1),M(", just "+_(s.formattedRelativeDate(a.testDeliveryDate,!0))+" from now.",1)])):y("",!0)])):y("",!0)])}const je=C(Fe,[["render",Pe]]),Ne={mixins:[D],components:{TimeInput:Me,Checkbox:B,ConfirmModal:te,PrimaryButton:K,MoreInfoPopover:ne,Pill:R},props:{form:{type:Object}},data(){return{hours:[],availableDays:[],defaultTimeslot:["08:00","16:00"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},watch:{"form.autoGenerateTimeSlots"(s,e){if(s){const t=this.timeslots.map(l=>l.length).reduce((l,u)=>l+u,0),k=this.form.operationalHours.map(l=>l.hours.length).reduce((l,u)=>l+u,0),a=t-k;this.showSuccessfulNotification(`Added ${a} ${a==1?"timeslot":"timeslots"}`)}}},computed:{totalSelectedDays(){return this.availableDays.filter(s=>s.selected).length},timeslots(){const s=[],e=k=>{const[a,l]=k.split(":").map(Number);return a*60+l},t=k=>{const a=Math.floor(k/60).toString().padStart(2,"0"),l=(k%60).toString().padStart(2,"0");return`${a}:${l}`};return this.form.operationalHours.forEach((k,a)=>{const l=new Set;k.available&&k.hours.forEach(c=>{const[b,x]=c,[S,F]=c.map(e);if(this.form.autoGenerateTimeSlots){const g=this.form.timeSlotIntervalUnit==="hour"?this.form.timeSlotIntervalValue*60:this.form.timeSlotIntervalValue;for(let w=S;w+g<=F;w+=g){const O=w+g,m=t(w);let f;w+g>=F?f=t(O):f=t(O-1),l.add(`${m} - ${f}`)}}else l.add(`${b} - ${x}`)});const u=[...l].sort((c,b)=>{const[x]=c.split(" - "),[S]=b.split(" - ");return e(x)-e(S)});s.push(u)}),s}},methods:{addHour(){this.hours.push(Z(this.defaultTimeslot))},removeHour(s){this.hours.splice(s,1)},addOperationalHour(s){this.form.operationalHours[s].hours.push(Z(this.defaultTimeslot))},removeOperationalHour(s,e){this.form.operationalHours[s].hours.splice(e,1)},showBulkAddTimeslotsModal(){this.hours.length==0&&this.addHour(),this.$nextTick(()=>{this.$refs.bulkAddTimeslotsButton.$el.click()})},showBulkResetTimeslotsModal(){this.$nextTick(()=>{this.$refs.bulkResetTimeslotsButton.$el.click()})},bulkAddTimeslots(s){const e=Array.from(new Set(this.hours.map(t=>JSON.stringify(t)))).map(t=>JSON.parse(t));this.form.operationalHours.forEach((t,k)=>{this.availableDays[k].selected&&(t.hours=Z(e)),this.availableDays[k].selected&&!t.available&&(t.available=!0)}),this.showSuccessfulNotification("Timeslots added"),s()},bulkResetTimeslots(s){this.form.operationalHours.forEach((e,t)=>{this.availableDays[t].selected&&(e.hours=[Z(this.defaultTimeslot)]),this.availableDays[t].selected&&!e.available&&(e.available=!0)}),this.showSuccessfulNotification("Timeslots reset"),s()}},created(){this.availableDays=this.form.operationalHours.map((s,e)=>({name:this.days[e],selected:!0}))}},He={class:"flex justify-end space-x-2 p-4 border rounded-lg bg-white"},Ge={class:"col-span-1 flex items-center space-x-2"},Re={key:0,class:"col-span-1 space-y-2"},We={class:"flex items-center space-x-2"},qe=["onClick"],ze=["onClick"],Qe={class:"flex space-x-1 items-center mt-2"},Ke={class:"space-y-2 border-t border-dashed pt-2 mt-2"},Je={class:"space-y-2 mb-8"},Ye={class:"flex items-center space-x-2 mb-4"},Xe=["onClick"],$e={class:"grid grid-cols-1 md:grid-cols-3 gap-2"},et={class:"ml-1"},tt={class:"flex items-center space-x-2 mb-4"},ot={class:"grid grid-cols-1 md:grid-cols-3 gap-2"},st={class:"ml-1"};function rt(s,e,t,k,a,l){const u=n("Pill"),c=n("Checkbox"),b=n("TimeInput"),x=n("MoreInfoPopover"),S=n("PrimaryButton"),F=n("ConfirmModal");return r(),i("div",null,[o("div",He,[d(u,{type:"primary",text:"+ Bulk Add Timeslots",showDot:!1,clickable:!0,action:l.showBulkAddTimeslotsModal},null,8,["action"]),d(u,{type:"primary",text:"Reset Timeslots",showDot:!1,clickable:!0,action:l.showBulkResetTimeslotsModal},null,8,["action"])]),(r(!0),i(V,null,E(t.form.operationalHours,(g,w)=>(r(),i("div",{key:w,class:A([{"border-t":w!=0},w==t.form.operationalHours.length-1?"border-b pb-4":"pb-4","border-blue-200 border-dashed hover:bg-blue-100 pt-4 grid grid-cols-2 gap-4 items-start"])},[o("div",Ge,[d(c,{modelValue:g.available,"onUpdate:modelValue":O=>g.available=O,size:"xs",class:"mt-1"},null,8,["modelValue","onUpdate:modelValue"]),o("span",null,_(a.days[w]),1)]),g.available?(r(),i("div",Re,[(r(!0),i(V,null,E(g.hours,(O,m)=>(r(),i("div",{key:m},[o("div",We,[d(b,{modelValue:t.form.operationalHours[w].hours[m][0],"onUpdate:modelValue":f=>t.form.operationalHours[w].hours[m][0]=f,errorText:s.getFormError("operationalHours"+w+"Hours"+m+"0"),class:"w-24"},null,8,["modelValue","onUpdate:modelValue","errorText"]),e[5]||(e[5]=o("span",null,"-",-1)),d(b,{modelValue:t.form.operationalHours[w].hours[m][1],"onUpdate:modelValue":f=>t.form.operationalHours[w].hours[m][1]=f,errorText:s.getFormError("operationalHours"+w+"Hours"+m+"1"),class:"w-24"},null,8,["modelValue","onUpdate:modelValue","errorText"]),m==0?(r(),i("div",{key:0,onClick:()=>l.addOperationalHour(w),class:"flex-shrink-0 cursor-pointer rounded-md border border-blue-200 p-1 hover:bg-blue-100 transition-all"},e[3]||(e[3]=[o("svg",{class:"w-4 h-4 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)]),8,qe)):(r(),i("div",{key:1,onClick:()=>l.removeOperationalHour(w,m),class:"flex-shrink-0 cursor-pointer rounded-md border p-1 bg-red-50 hover:bg-red-100 transition-all"},e[4]||(e[4]=[o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})],-1)]),8,ze))])]))),128)),o("div",Qe,[d(u,{type:"success",showDot:!1,class:"border border-green-200",text:l.timeslots[w].length+" "+(l.timeslots[w].length==1?"timeslot":"timeslots")},null,8,["text"]),d(x,{title:a.days[w]+" timeslots",placement:"top"},{description:v(()=>[o("div",Ke,[(r(!0),i(V,null,E(l.timeslots[w],(O,m)=>(r(),i("p",{key:m,class:"flex space-x-2 px-2 border-l-4 border-green-300"},_(O),1))),128))])]),_:2},1032,["title"])])])):y("",!0)],2))),128)),d(F,{approveText:"Add Timeslots",approveAction:g=>l.bulkAddTimeslots(g),approveDisabled:a.hours.length==0,approveType:"primary"},{content:v(()=>[e[9]||(e[9]=o("p",{class:"text-lg font-bold border-b border-dashed pb-4 mb-4"},"Bulk Add Timeslots",-1)),e[10]||(e[10]=o("p",{class:"text-sm mb-4"},"Set the timeslots to be created",-1)),o("div",Je,[(r(!0),i(V,null,E(a.hours,(g,w)=>(r(),i("div",{key:w},[o("div",Ye,[d(b,{modelValue:a.hours[w][0],"onUpdate:modelValue":O=>a.hours[w][0]=O,class:"w-24"},null,8,["modelValue","onUpdate:modelValue"]),e[8]||(e[8]=o("span",null,"-",-1)),d(b,{modelValue:a.hours[w][1],"onUpdate:modelValue":O=>a.hours[w][1]=O,class:"w-24"},null,8,["modelValue","onUpdate:modelValue"]),w==0?(r(),i("div",{key:0,onClick:e[0]||(e[0]=()=>l.addHour()),class:"flex-shrink-0 cursor-pointer rounded-md border border-blue-200 p-1 hover:bg-blue-100 transition-all"},e[6]||(e[6]=[o("svg",{class:"w-4 h-4 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)]))):(r(),i("div",{key:1,onClick:()=>l.removeHour(w),class:"flex-shrink-0 cursor-pointer rounded-md border p-1 bg-red-50 hover:bg-red-100 transition-all"},e[7]||(e[7]=[o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})],-1)]),8,Xe))])]))),128)),o("div",$e,[(r(!0),i(V,null,E(a.availableDays,(g,w)=>(r(),i("div",{key:w},[d(c,{size:"xs",modelValue:g.selected,"onUpdate:modelValue":O=>g.selected=O,disabled:g.selected&&l.totalSelectedDays===1},{default:v(()=>[o("span",et,_(g.name),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]))),128))])])]),trigger:v(g=>[d(S,{ref:"bulkAddTimeslotsButton",action:g.showModal,class:"hidden",type:"primary"},null,8,["action"])]),_:1},8,["approveAction","approveDisabled"]),d(F,{approveText:"Reset Timeslots",approveAction:g=>l.bulkResetTimeslots(g),approveType:"primary"},{content:v(()=>[e[12]||(e[12]=o("p",{class:"text-lg font-bold border-b border-dashed pb-4 mb-4"},"Bulk Reset Timeslots",-1)),o("div",tt,[d(b,{modelValue:a.defaultTimeslot[0],"onUpdate:modelValue":e[1]||(e[1]=g=>a.defaultTimeslot[0]=g),class:"w-24"},null,8,["modelValue"]),e[11]||(e[11]=o("span",null,"-",-1)),d(b,{modelValue:a.defaultTimeslot[1],"onUpdate:modelValue":e[2]||(e[2]=g=>a.defaultTimeslot[1]=g),class:"w-24"},null,8,["modelValue"])]),e[13]||(e[13]=o("p",{class:"text-sm mb-4"},"Select days to reset timeslots",-1)),o("div",ot,[(r(!0),i(V,null,E(a.availableDays,(g,w)=>(r(),i("div",{key:w},[d(c,{size:"xs",modelValue:g.selected,"onUpdate:modelValue":O=>g.selected=O,disabled:g.selected&&l.totalSelectedDays===1},{default:v(()=>[o("span",st,_(g.name),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])]))),128))])]),trigger:v(g=>[d(S,{ref:"bulkResetTimeslotsButton",action:g.showModal,class:"hidden",type:"primary"},null,8,["action"])]),_:1},8,["approveAction"])])}const lt=C(Ne,[["render",rt]]),it={mixins:[D],components:{SelectInput:z},props:{form:{type:Object}}};function nt(s,e,t,k,a,l){const u=n("SelectInput");return r(),p(u,{label:"Customer selects",modelValue:t.form.scheduleType,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.scheduleType=c),labelPopoverTitle:"What Is This?",errorText:s.getFormError("scheduleType"),labelPopoverDescription:"Select the schedule type e.g Customers should specify a delivery date or both delivery date and time"},{default:v(()=>e[1]||(e[1]=[o("option",{value:"date"},"Date",-1),o("option",{value:"date and time"},"Date And Time",-1)])),_:1},8,["modelValue","errorText"])}const at=C(it,[["render",nt]]),dt={mixins:[D],components:{Checkbox:B},props:{form:{type:Object}}};function mt(s,e,t,k,a,l){const u=n("Checkbox");return r(),p(u,{size:"xs",modelValue:t.form.sameDayDelivery,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.sameDayDelivery=c),errorText:s.getFormError("sameDayDelivery")},{default:v(()=>e[1]||(e[1]=[o("div",{class:"mt-0.5 mx-2"},[o("p",{class:"font-bold text-sm mb-1"},"Same day delivery"),o("p",{class:"text-sm text-gray-500 max-w-96"},"Customers must place orders for delivery on the same day")],-1)])),_:1},8,["modelValue","errorText"])}const ut=C(dt,[["render",mt]]),ct={mixins:[D],components:{ToogleSwitch:oe},props:{form:{type:Object}}};function ht(s,e,t,k,a,l){const u=n("ToogleSwitch");return r(),p(u,{size:"md",modelValue:t.form.setSchedule,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.setSchedule=c),labelPopoverTitle:"What Is This?",errorText:s.getFormError("setSchedule"),labelPopoverDescription:"Turn on so that customers specify delivery dates and times. Turn off so that customers do not specify delivery dates and times"},{default:v(()=>e[1]||(e[1]=[M(" Set schedule ")])),_:1},8,["modelValue","errorText"])}const ft=C(ct,[["render",ht]]),pt={mixins:[D],components:{Checkbox:B,NumberInput:j},props:{form:{type:Object}}};function yt(s,e,t,k,a,l){const u=n("Checkbox");return r(),p(u,{size:"xs",modelValue:t.form.autoGenerateTimeSlots,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.autoGenerateTimeSlots=c),errorText:s.getFormError("autoGenerateTimeSlots"),labelPopoverDescription:"Automatically generates time options for customers to choose from"},{default:v(()=>e[1]||(e[1]=[o("p",{class:"text-sm mt-0.5 mx-2"},"Auto generate time slots",-1)])),_:1},8,["modelValue","errorText"])}const vt=C(pt,[["render",yt]]),gt={mixins:[D],components:{SelectInput:z},props:{form:{type:Object}}},bt={value:"minute"},wt={value:"hour"};function kt(s,e,t,k,a,l){const u=n("SelectInput");return t.form.autoGenerateTimeSlots?(r(),p(u,{key:0,labelPopoverTitle:"What Is This?",modelValue:t.form.timeSlotIntervalUnit,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.timeSlotIntervalUnit=c),errorText:s.getFormError("timeSlotIntervalUnit"),labelPopoverDescription:"Set the interval that should be used to auto generate the time slots"},{default:v(()=>[o("option",bt,_(t.form.timeSlotIntervalValue=="1"?"Minute":"Minutes"),1),o("option",wt,_(t.form.timeSlotIntervalValue=="1"?"Hour":"Hours"),1)]),_:1},8,["modelValue","errorText"])):y("",!0)}const xt=C(gt,[["render",kt]]),_t={mixins:[D],components:{NumberInput:j},props:{form:{type:Object}}};function Tt(s,e,t,k,a,l){const u=n("NumberInput");return t.form.autoGenerateTimeSlots?(r(),p(u,{key:0,min:"1",placeholder:"1",modelValue:t.form.timeSlotIntervalValue,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.timeSlotIntervalValue=c),errorText:s.getFormError("timeSlotIntervalValue")},null,8,["modelValue","errorText"])):y("",!0)}const Mt=C(_t,[["render",Tt]]),Ct={mixins:[D],components:{Checkbox:B,NumberInput:j,SelectInput:z},props:{form:{type:Object}}},Dt={class:"mt-0.5 mx-2"},Ft={value:"hour"},St={value:"day"},Vt={class:"text-sm"};function At(s,e,t,k,a,l){const u=n("NumberInput"),c=n("SelectInput"),b=n("Checkbox");return r(),p(b,{size:"xs",modelValue:t.form.requireMinimumNoticeForOrders,"onUpdate:modelValue":e[2]||(e[2]=x=>t.form.requireMinimumNoticeForOrders=x),errorText:s.getFormError("requireMinimumNoticeForOrders")},{default:v(()=>[o("div",Dt,[e[5]||(e[5]=o("p",{class:"font-bold text-sm mb-1"},"Require minimum notice for orders",-1)),e[6]||(e[6]=o("p",{class:"text-sm text-gray-500 max-w-96"},"Customers must place orders at least a few hours or days before the delivery date to allow for order processing",-1)),o("div",{class:A([t.form.requireMinimumNoticeForOrders?"h-10 mt-4":"h-0 mt-0","text-gray-500 space-x-2 transition-all duration-500 overflow-hidden"])},[e[4]||(e[4]=o("span",{class:"text-sm"}," Accept orders at least ",-1)),d(u,{min:"1",placeholder:"1",modelValue:t.form.earliestDeliveryTimeValue,"onUpdate:modelValue":e[0]||(e[0]=x=>t.form.earliestDeliveryTimeValue=x),class:A([t.form.scheduleType=="date"?"w-32":"w-20","inline-block"])},he({_:2},[t.form.scheduleType=="date"?{name:"suffix",fn:v(()=>[M(_(t.form.earliestDeliveryTimeValue=="1"?"day":"days"),1)]),key:"0"}:void 0]),1032,["modelValue","class"]),t.form.scheduleType=="date and time"?(r(),p(c,{key:0,width:"w-24",class:"inline-block",modelValue:t.form.earliestDeliveryTimeUnit,"onUpdate:modelValue":e[1]||(e[1]=x=>t.form.earliestDeliveryTimeUnit=x)},{default:v(()=>[o("option",Ft,_(t.form.earliestDeliveryTimeValue=="1"?"Hour":"Hours"),1),o("option",St,_(t.form.earliestDeliveryTimeValue=="1"?"Day":"Days"),1)]),_:1},8,["modelValue"])):y("",!0),o("span",Vt,[e[3]||(e[3]=M(" before delivery date ")),t.form.scheduleType=="date and time"&&t.form.earliestDeliveryTimeUnit=="hour"?(r(),i(V,{key:0},[M("("+_(t.form.earliestDeliveryTimeValue)+" "+_(t.form.earliestDeliveryTimeValue=="1"?"hour":"hours")+" notice)",1)],64)):(r(),i(V,{key:1},[M("("+_(t.form.earliestDeliveryTimeValue)+" "+_(t.form.earliestDeliveryTimeValue=="1"?"day":"days")+" notice)",1)],64))])],2)])]),_:1},8,["modelValue","errorText"])}const Ot=C(Ct,[["render",At]]),It={mixins:[D],components:{Checkbox:B,NumberInput:j},props:{form:{type:Object}}},Zt={class:"mt-0.5 mx-2"};function Et(s,e,t,k,a,l){const u=n("NumberInput"),c=n("Checkbox");return r(),p(c,{size:"xs",modelValue:t.form.restrictMaximumNoticeForOrders,"onUpdate:modelValue":e[1]||(e[1]=b=>t.form.restrictMaximumNoticeForOrders=b),errorText:s.getFormError("restrictMaximumNoticeForOrders")},{default:v(()=>[o("div",Zt,[e[5]||(e[5]=o("p",{class:"font-bold text-sm mb-1"},"Restrict maximum notice for orders",-1)),e[6]||(e[6]=o("p",{class:"text-sm text-gray-500 max-w-96"},"Customers can only place orders if the delivery date is within a reasonable timeframe",-1)),o("div",{class:A([t.form.restrictMaximumNoticeForOrders?"h-10 mt-4":"h-0 mt-0","text-gray-500 space-x-2 transition-all duration-500 overflow-hidden"])},[e[3]||(e[3]=o("span",{class:"text-sm"}," Restrict orders more than ",-1)),d(u,{min:"1",placeholder:"1",class:"w-32 inline-block",modelValue:t.form.latestDeliveryTimeValue,"onUpdate:modelValue":e[0]||(e[0]=b=>t.form.latestDeliveryTimeValue=b)},{suffix:v(()=>e[2]||(e[2]=[M("Days")])),_:1},8,["modelValue"]),e[4]||(e[4]=o("span",{class:"text-sm"}," from the delivery date ",-1))],2)])]),_:1},8,["modelValue","errorText"])}const Ut=C(It,[["render",Et]]),Bt={components:{ScheduleSummary:je,OperationalHours:lt,ScheduleTypeSelect:at,SameDayDeliveryCheckbox:ut,SetScheduleToogleSwitch:ft,AutoGenerateTimeSlotsCheckbox:vt,AutoGenerateTimeSlotsUnitSelect:xt,AutoGenerateTimeSlotsNumberInput:Mt,RequireMinimumNoticeForOrdersCheckbox:Ot,RestrictMinimumNoticeForOrdersCheckbox:Ut},props:{form:{type:Object}}},Lt={class:"space-y-4 mb-8"},Pt={key:0,class:"flex space-x-8 items-end"},jt={class:"flex space-x-1 items-end"},Nt={class:"space-y-4"};function Ht(s,e,t,k,a,l){const u=n("SetScheduleToogleSwitch"),c=n("ScheduleTypeSelect"),b=n("AutoGenerateTimeSlotsCheckbox"),x=n("AutoGenerateTimeSlotsNumberInput"),S=n("AutoGenerateTimeSlotsUnitSelect"),F=n("OperationalHours"),g=n("SameDayDeliveryCheckbox"),w=n("RequireMinimumNoticeForOrdersCheckbox"),O=n("RestrictMinimumNoticeForOrdersCheckbox"),m=n("ScheduleSummary");return r(),i("div",{class:A([{"border border-dashed rounded-lg":t.form.setSchedule}])},[o("div",{class:A([{"bg-blue-50 p-4 rounded-lg":t.form.setSchedule},"transition-all duration-500"])},[d(u,{form:t.form},null,8,["form"]),o("div",{class:A([t.form.setSchedule?"h-20 mt-4 mb-2 p-0.5":"h-0 mb-0 p-0","transition-all duration-500 overflow-hidden"])},[d(c,{form:t.form},null,8,["form"])],2),t.form.setSchedule?(r(),i(V,{key:0},[o("div",Lt,[t.form.scheduleType=="date and time"?(r(),i("div",Pt,[d(b,{form:t.form},null,8,["form"]),o("div",jt,[d(x,{form:t.form},null,8,["form"]),d(S,{form:t.form},null,8,["form"])])])):y("",!0),e[0]||(e[0]=o("p",{class:"text-sm text-gray-500"},"Set the days and times that customers can expect delivery",-1)),d(F,{form:t.form},null,8,["form"])]),o("div",Nt,[d(g,{form:t.form},null,8,["form"]),t.form.sameDayDelivery?y("",!0):(r(),i(V,{key:0},[d(w,{form:t.form},null,8,["form"]),d(O,{form:t.form},null,8,["form"])],64)),d(m,{form:t.form},null,8,["form"])])],64)):y("",!0)],2)],2)}const Gt=C(Bt,[["render",Ht]]),Rt={mixins:[D],components:{TextInput:J,InputTags:ae,AddButton:Y,MoneyInput:Q,UndoButton:q,DeleteButton:se,Pill:R,InputErrorMessage:X},props:{form:{type:Object}},data(){return{originalWeightCategories:[],storeState:G()}},computed:{store(){return this.storeState.store},hasWeightCategories(){return this.form.weightCategories.length>0},hasOriginalWeightCategories(){return this.originalWeightCategories.length>0},weightCategoriesHaveChanged(){var s=Z(this.form.weightCategories),e=Z(this.originalWeightCategories);return s.forEach(t=>delete t.isEditable),e.forEach(t=>delete t.isEditable),!W(s,e)}},methods:{onAddWeightCategory(){this.form.weightCategories.push({name:"",weights:[],isEditable:!0})},onRemoveWeightCategory(s){this.form.weightCategories.splice(s,1)},onResetWeightCategories(){this.form.weightCategories=Z(this.originalWeightCategories)}}},Wt={class:"space-y-4"},qt={class:"absolute top-2 right-2 flex items-center space-x-2"},zt=["onClick"],Qt={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"},Kt={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"},Jt={key:0,class:"space-y-4"},Yt={class:"flex items-center space-x-2 text-sm text-gray-500"},Xt={class:"space-y-4"},$t={class:"flex space-x-4"},eo=["onClick"],to={class:"flex items-center space-x-4 text-sm text-gray-500 mb-4"},oo={class:"flex items-center space-x-2"},so={key:0,class:"flex space-x-2"},ro={key:0},lo={class:"flex items-center space-x-4 px-4 py-4 border rounded-lg bg-gray-50"},io={class:"text-sm space-y-2"},no={class:"flex justify-end space-x-2"},ao={class:"flex justify-end"};function mo(s,e,t,k,a,l){const u=n("DeleteButton"),c=n("TextInput"),b=n("MoneyInput"),x=n("InputTags"),S=n("Pill"),F=n("InputErrorMessage"),g=n("UndoButton"),w=n("AddButton");return r(),i("div",Wt,[e[6]||(e[6]=o("h1",{class:"text-md font-bold m-2"},"Weight Management",-1)),(r(!0),i(V,null,E(t.form.weightCategories,(O,m)=>(r(),i("div",{key:m,class:"relative bg-gray-50 p-4 border rounded-lg"},[o("div",qt,[(r(),i("svg",{class:"w-6 h-6 cursor-pointer hover:opacity-50",onClick:f=>t.form.weightCategories[m].isEditable=!t.form.weightCategories[m].isEditable,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t.form.weightCategories[m].isEditable?(r(),i("path",Qt)):(r(),i("path",Kt))],8,zt)),d(u,{action:()=>l.onRemoveWeightCategory(m),size:"xs",type:"danger"},null,8,["action"])]),t.form.weightCategories[m].isEditable?(r(),i("div",Jt,[o("div",Yt,[e[0]||(e[0]=o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"})],-1)),o("span",null,"Category "+_(m+1),1)]),o("div",Xt,[o("div",$t,[d(c,{label:"Category Name",placeholder:"Lightweight",labelPopoverTitle:"What Is This?",modelValue:t.form.weightCategories[m].name,"onUpdate:modelValue":f=>t.form.weightCategories[m].name=f,errorText:s.getFormError("weightCategories"+m+"name"),labelPopoverDescription:"Set the name for this weight category"},null,8,["modelValue","onUpdate:modelValue","errorText"]),d(b,{label:"Category fee",labelPopoverTitle:"What Is This?",modelValue:t.form.weightCategories[m].fee,"onUpdate:modelValue":f=>t.form.weightCategories[m].fee=f,errorText:s.getFormError("weightCategories"+m+"fee"),labelPopoverDescription:"Specify the fee charged for deliveries within this weight category"},null,8,["modelValue","onUpdate:modelValue","errorText"])]),(r(),p(x,{labelPopoverTitle:"What Is This?",key:t.form.weightCategories[m].weights,tags:t.form.weightCategories[m].weights,label:"Weight Range ("+l.store.weightUnit+")",errorText:s.getFormError("weightCategories"+m+"weights"),onOnTagsChanged:f=>t.form.weightCategories[m].weights=f,labelPopoverDescription:"Specify the weight range for this category, e.g., 2.5, 5-10"},null,8,["tags","label","errorText","onOnTagsChanged"]))])])):(r(),i("div",{key:1,class:"space-y-2 cursor-pointer",onClick:f=>t.form.weightCategories[m].isEditable=!0},[o("div",to,[o("div",oo,[e[1]||(e[1]=o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"})],-1)),o("span",null,"Category "+_(m+1),1)]),t.form.weightCategories[m].name?(r(),p(S,{key:0,type:"info",text:t.form.weightCategories[m].name,showDot:!1},null,8,["text"])):(r(),p(F,{key:1,errorText:"No name",margin:"mt-0"}))]),t.form.weightCategories[m].weights.length?(r(),i("div",so,[(r(!0),i(V,null,E(t.form.weightCategories[m].weights,(f,U)=>(r(),i("span",{key:U,class:"py-0.5 px-2 bg-gray-100 border text-gray-500 text-xs rounded-lg"},_(f)+" "+_(l.store.weightUnit),1))),128))])):(r(),p(F,{key:1,errorText:"No weight range",margin:"mt-0"})),s.getFormError("weightCategories"+m+"name")?(r(),p(F,{key:2,errorText:s.getFormError("weightCategories"+m+"name")},null,8,["errorText"])):y("",!0)],8,eo))]))),128)),l.hasWeightCategories?y("",!0):(r(),i("div",ro,[o("div",lo,[e[3]||(e[3]=o("svg",{class:"w-8 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1)),o("div",io,[o("p",null,[d(S,{type:"primary",text:"+ Add Category",showDot:!1,clickable:!0,action:l.onAddWeightCategory},null,8,["action"]),e[2]||(e[2]=M(" to define weight categories."))])])])])),o("div",no,[l.weightCategoriesHaveChanged&&l.hasOriginalWeightCategories?(r(),p(g,{key:0,action:l.onResetWeightCategories,size:"xs"},{default:v(()=>e[4]||(e[4]=[o("span",{class:"ml-1"},"Undo",-1)])),_:1},8,["action"])):y("",!0),o("div",ao,[d(w,{action:l.onAddWeightCategory,class:"w-40",size:"xs"},{default:v(()=>e[5]||(e[5]=[o("span",{class:"ml-2"},"Add Category",-1)])),_:1},8,["action"])])])])}const uo=C(Rt,[["render",mo]]),co={mixins:[D],components:{Alert:le,Checkbox:B,Pill:R},props:{form:{type:Object}}};function ho(s,e,t,k,a,l){const u=n("Checkbox");return r(),p(u,{size:"xs",modelValue:t.form.showDistanceOnInvoice,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.showDistanceOnInvoice=c),errorText:s.getFormError("showDistanceOnInvoice")},{default:v(()=>e[1]||(e[1]=[o("div",{class:"space-y-1 mt-0.5"},[o("p",{class:"font-bold text-sm mx-2"},"Show distance on invoice"),o("p",{class:"text-sm text-gray-500 mx-2"},"The calculated delivery distance will appear on the invoice")],-1)])),_:1},8,["modelValue","errorText"])}const fo=C(co,[["render",ho]]),po={mixins:[D],components:{AddButton:Y,MoneyInput:Q,UndoButton:q,NumberInput:j,AddressInput:Ce,DeleteButton:se,Pill:R,InputErrorMessage:X,ShowDistanceInInvoiceCheckbox:fo},props:{form:{type:Object}},data(){return{originalDistanceZones:[],storeState:G(),deliveryMethodState:P()}},computed:{store(){return this.storeState.store},deliveryMethod(){return this.deliveryMethodState.deliveryMethod},hasDeliveryMethod(){return this.deliveryMethod!=null},address(){return this.hasDeliveryMethod?this.deliveryMethod._relationships.address:null},hasAddress(){return this.address!=null},hasDistanceZones(){return this.form.distanceZones.length>0},hasOriginalDistanceZones(){return this.originalDistanceZones.length>0},distanceZonesHaveChanged(){var s=Z(this.form.distanceZones),e=Z(this.originalDistanceZones);return s.forEach(t=>delete t.isEditable),e.forEach(t=>delete t.isEditable),!W(s,e)}},methods:{setAddress(s){P().deliveryMethod._relationships.address=s},setValidatedAddressForm(s){this.form.address=s},onDeletedAddress(){this.hasAddress?P().deliveryMethod._relationships.address=null:delete this.form.address},onAddDistanceZone(){var s=this.form.distanceZones.length,e=s>0?(this.form.distanceZones[s-1].fee*2).toString():"50.00",t=s>0?(this.form.distanceZones[s-1].distance*2).toString():"10";this.form.distanceZones.push({fee:e,isEditable:!0,distance:t})},onRemoveDistanceZone(s){this.form.distanceZones.splice(s,1)},onResetDistanceZones(){this.form.distanceZones=Z(this.originalDistanceZones)}}},yo={class:"space-y-4"},vo={class:"space-y-4 p-4 border rounded-lg shadow-lg bg-white"},go={class:"absolute top-2 right-2 flex items-center space-x-2"},bo=["onClick"],wo={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"},ko={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"},xo={key:0,class:"space-y-4"},_o={class:"flex items-center space-x-2 text-sm text-gray-500"},To={class:"flex space-x-4"},Mo=["onClick"],Co={class:"flex items-center space-x-4 text-sm text-gray-500"},Do={class:"flex items-center space-x-2"},Fo={key:0},So={class:"flex items-center space-x-4 px-4 py-4 border rounded-lg bg-gray-50"},Vo={class:"text-sm space-y-2"},Ao={class:"flex justify-end space-x-2"},Oo={class:"flex justify-end"},Io={class:"relative"},Zo={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2"},Eo={key:0,class:"animate-bounce text-4xl"};function Uo(s,e,t,k,a,l){const u=n("ShowDistanceInInvoiceCheckbox"),c=n("AddressInput"),b=n("DeleteButton"),x=n("NumberInput"),S=n("MoneyInput"),F=n("Pill"),g=n("InputErrorMessage"),w=n("UndoButton"),O=n("AddButton");return r(),i("div",yo,[o("div",vo,[d(u,{form:t.form},null,8,["form"])]),d(c,{address:l.address,title:"Base location",onOnCreated:l.setAddress,onOnUpdated:l.setAddress,onOnDeleted:l.onDeletedAddress,onOnValidated:l.setValidatedAddressForm,deliveryMethodId:l.hasDeliveryMethod?l.deliveryMethod.id:null,subtitle:"Set the starting point for calculating delivery distances"},null,8,["address","onOnCreated","onOnUpdated","onOnDeleted","onOnValidated","deliveryMethodId"]),e[6]||(e[6]=o("h1",{class:"text-md font-bold m-2"},"Zones",-1)),(r(!0),i(V,null,E(t.form.distanceZones,(m,f)=>(r(),i("div",{key:f,class:"relative bg-gray-50 p-4 border rounded-lg"},[o("div",go,[(r(),i("svg",{class:"w-6 h-6 cursor-pointer hover:opacity-50",onClick:U=>t.form.distanceZones[f].isEditable=!t.form.distanceZones[f].isEditable,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t.form.distanceZones[f].isEditable?(r(),i("path",wo)):(r(),i("path",ko))],8,bo)),d(b,{action:()=>l.onRemoveDistanceZone(f),size:"xs",type:"danger"},null,8,["action"])]),t.form.distanceZones[f].isEditable?(r(),i("div",xo,[o("div",_o,[e[0]||(e[0]=o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1)),o("span",null,"Zone "+_(f+1),1)]),o("div",To,[d(x,{min:"1",placeholder:"10",label:"Delivery distance up to",labelPopoverTitle:"What Is This?",modelValue:t.form.distanceZones[f].distance,"onUpdate:modelValue":U=>t.form.distanceZones[f].distance=U,errorText:s.getFormError("distanceZones"+f+"distance"),labelPopoverDescription:"Set the maximum distance eligible for this delivery method"},{suffix:v(()=>[M(_(l.store.distanceUnit),1)]),_:2},1032,["modelValue","onUpdate:modelValue","errorText"]),d(S,{label:"Delivery fee",labelPopoverTitle:"What Is This?",modelValue:t.form.distanceZones[f].fee,"onUpdate:modelValue":U=>t.form.distanceZones[f].fee=U,errorText:s.getFormError("distanceZones"+f+"fee"),labelPopoverDescription:"Specify the fee charged for deliveries within the set distance range"},null,8,["modelValue","onUpdate:modelValue","errorText"])])])):(r(),i("div",{key:1,class:"space-y-2 cursor-pointer",onClick:U=>t.form.distanceZones[f].isEditable=!0},[o("div",Co,[o("div",Do,[e[1]||(e[1]=o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1)),o("span",null,"Zone "+_(f+1),1)]),t.form.distanceZones[f].distance?(r(),p(F,{key:0,type:"info",text:t.form.distanceZones[f].distance+" "+l.store.distanceUnit,showDot:!1},null,8,["text"])):(r(),p(g,{key:1,errorText:"No distance",margin:"mt-0"})),t.form.distanceZones[f].fee?(r(),p(F,{key:2,type:"primary",text:l.store.currency.symbol+t.form.distanceZones[f].fee,showDot:!1},null,8,["text"])):(r(),p(g,{key:3,errorText:"No fee",margin:"mt-0"}))]),s.getFormError("distanceZones"+f+"distance")?(r(),p(g,{key:0,errorText:s.getFormError("distanceZones"+f+"distance")},null,8,["errorText"])):y("",!0),s.getFormError("distanceZones"+f+"fee")?(r(),p(g,{key:1,errorText:s.getFormError("distanceZones"+f+"fee")},null,8,["errorText"])):y("",!0)],8,Mo))]))),128)),l.hasDistanceZones?y("",!0):(r(),i("div",Fo,[o("div",So,[e[3]||(e[3]=o("svg",{class:"w-8 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1)),o("div",Vo,[d(F,{type:"primary",text:"+ Add Zone",showDot:!1,clickable:!0,action:l.onAddDistanceZone},null,8,["action"]),e[2]||(e[2]=M(" to offer delivery within specific distances for a fee "))])])])),o("div",Ao,[l.distanceZonesHaveChanged&&l.hasOriginalDistanceZones?(r(),p(w,{key:0,action:l.onResetDistanceZones,size:"xs"},{default:v(()=>e[4]||(e[4]=[o("span",{class:"ml-1"},"Undo",-1)])),_:1},8,["action"])):y("",!0),o("div",Oo,[o("div",Io,[o("div",Zo,[l.hasDistanceZones?y("",!0):(r(),i("div",Eo,"ðŸ‘†"))]),d(O,{action:l.onAddDistanceZone,class:"w-40",size:"xs"},{default:v(()=>e[5]||(e[5]=[o("span",{class:"ml-2"},"Add Zone",-1)])),_:1},8,["action"])])])])])}const Bo=C(po,[["render",Uo]]),Lo={mixins:[D],components:{TextInput:J,InputTags:ae,AddButton:Y,MoneyInput:Q,UndoButton:q,DeleteButton:se,Pill:R,InputErrorMessage:X},props:{form:{type:Object}},data(){return{originalPostalCodeZones:[],storeState:G()}},computed:{store(){return this.storeState.store},hasPostalCodeZones(){return this.form.postalCodeZones.length>0},hasOriginalPostalCodeZones(){return this.originalPostalCodeZones.length>0},postalCodeZonesHaveChanged(){var s=Z(this.form.postalCodeZones),e=Z(this.originalPostalCodeZones);return s.forEach(t=>delete t.isEditable),e.forEach(t=>delete t.isEditable),!W(s,e)}},methods:{onAddPostalCodeZone(){var s=this.form.postalCodeZones.length,e=s>0?(this.form.postalCodeZones[s-1].fee*2).toString():"50.00";this.form.postalCodeZones.push({fee:e,name:"",postalCodes:[],isEditable:!0})},onRemovePostalCodeZone(s){this.form.postalCodeZones.splice(s,1)},onResetPostalCodeZones(){this.form.postalCodeZones=Z(this.originalPostalCodeZones)}}},Po={class:"space-y-4"},jo={class:"absolute top-2 right-2 flex items-center space-x-2"},No=["onClick"],Ho={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"},Go={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"},Ro={key:0,class:"space-y-4"},Wo={class:"flex items-center space-x-2 text-sm text-gray-500"},qo={class:"space-y-4"},zo={class:"flex space-x-4"},Qo=["onClick"],Ko={class:"flex items-center space-x-4 text-sm text-gray-500 mb-4"},Jo={class:"flex items-center space-x-2"},Yo={key:0,class:"flex space-x-2"},Xo={key:0},$o={class:"flex items-center space-x-4 px-4 py-4 border rounded-lg bg-gray-50"},es={class:"text-sm space-y-2"},ts={class:"flex justify-end space-x-2"},os={class:"flex justify-end"},ss={class:"relative"},rs={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2"},ls={key:0,class:"animate-bounce text-4xl"};function is(s,e,t,k,a,l){const u=n("DeleteButton"),c=n("TextInput"),b=n("MoneyInput"),x=n("InputTags"),S=n("Pill"),F=n("InputErrorMessage"),g=n("UndoButton"),w=n("AddButton");return r(),i("div",Po,[e[6]||(e[6]=o("h1",{class:"text-md font-bold m-2"},"Zones",-1)),(r(!0),i(V,null,E(t.form.postalCodeZones,(O,m)=>(r(),i("div",{key:m,class:"relative bg-gray-50 p-4 border rounded-lg"},[o("div",jo,[(r(),i("svg",{class:"w-6 h-6 cursor-pointer hover:opacity-50",onClick:f=>t.form.postalCodeZones[m].isEditable=!t.form.postalCodeZones[m].isEditable,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t.form.postalCodeZones[m].isEditable?(r(),i("path",Ho)):(r(),i("path",Go))],8,No)),d(u,{action:()=>l.onRemovePostalCodeZone(m),size:"xs",type:"danger"},null,8,["action"])]),t.form.postalCodeZones[m].isEditable?(r(),i("div",Ro,[o("div",Wo,[e[0]||(e[0]=o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1)),o("span",null,"Zone "+_(m+1),1)]),o("div",qo,[o("div",zo,[d(c,{label:"Area Name",placeholder:"Nairobi",labelPopoverTitle:"What Is This?",modelValue:t.form.postalCodeZones[m].name,"onUpdate:modelValue":f=>t.form.postalCodeZones[m].name=f,errorText:s.getFormError("postalCodeZones"+m+"name"),labelPopoverDescription:"Set the area name for this delivery method"},null,8,["modelValue","onUpdate:modelValue","errorText"]),d(b,{label:"Delivery fee",labelPopoverTitle:"What Is This?",modelValue:t.form.postalCodeZones[m].fee,"onUpdate:modelValue":f=>t.form.postalCodeZones[m].fee=f,errorText:s.getFormError("postalCodeZones"+m+"fee"),labelPopoverDescription:"Specify the fee charged for deliveries within the area"},null,8,["modelValue","onUpdate:modelValue","errorText"])]),(r(),p(x,{label:"Postal Codes",labelPopoverTitle:"What Is This?",key:t.form.postalCodeZones[m].postalCodes,tags:t.form.postalCodeZones[m].postalCodes,errorText:s.getFormError("postalCodeZones"+m+"value"),onOnTagsChanged:f=>t.form.postalCodeZones[m].postalCodes=f,labelPopoverDescription:"The postal codes supported by this area e.g 10001, 00100 or SW1A 1AA"},null,8,["tags","errorText","onOnTagsChanged"]))])])):(r(),i("div",{key:1,class:"space-y-2 cursor-pointer",onClick:f=>t.form.postalCodeZones[m].isEditable=!0},[o("div",Ko,[o("div",Jo,[e[1]||(e[1]=o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1)),o("span",null,"Zone "+_(m+1),1)]),t.form.postalCodeZones[m].name?(r(),p(S,{key:0,type:"info",text:t.form.postalCodeZones[m].name,showDot:!1},null,8,["text"])):(r(),p(F,{key:1,errorText:"No name",margin:"mt-0"})),t.form.postalCodeZones[m].fee?(r(),p(S,{key:2,type:"primary",text:l.store.currency.symbol+t.form.postalCodeZones[m].fee,showDot:!1},null,8,["text"])):(r(),p(F,{key:3,errorText:"No fee",margin:"mt-0"}))]),t.form.postalCodeZones[m].postalCodes.length?(r(),i("div",Yo,[(r(!0),i(V,null,E(t.form.postalCodeZones[m].postalCodes,(f,U)=>(r(),i("span",{key:U,class:"py-0.5 px-2 bg-gray-100 border text-gray-500 text-xs rounded-lg"},_(f),1))),128))])):(r(),p(F,{key:1,errorText:"No postal codes",margin:"mt-0"})),s.getFormError("postalCodeZones"+m+"name")?(r(),p(F,{key:2,errorText:s.getFormError("postalCodeZones"+m+"name")},null,8,["errorText"])):y("",!0),s.getFormError("postalCodeZones"+m+"fee")?(r(),p(F,{key:3,errorText:s.getFormError("postalCodeZones"+m+"fee")},null,8,["errorText"])):y("",!0)],8,Qo))]))),128)),l.hasPostalCodeZones?y("",!0):(r(),i("div",Xo,[o("div",$o,[e[3]||(e[3]=o("svg",{class:"w-8 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})],-1)),o("div",es,[o("p",null,[d(S,{type:"primary",text:"+ Add Zone",showDot:!1,clickable:!0,action:l.onAddPostalCodeZone},null,8,["action"]),e[2]||(e[2]=M(" to offer delivery to specific postal codes for a fee"))])])])])),o("div",ts,[l.postalCodeZonesHaveChanged&&l.hasOriginalPostalCodeZones?(r(),p(g,{key:0,action:l.onResetPostalCodeZones,size:"xs"},{default:v(()=>e[4]||(e[4]=[o("span",{class:"ml-1"},"Undo",-1)])),_:1},8,["action"])):y("",!0),o("div",os,[o("div",ss,[o("div",rs,[l.hasPostalCodeZones?y("",!0):(r(),i("div",ls,"ðŸ‘†"))]),d(w,{action:l.onAddPostalCodeZone,class:"w-40",size:"xs"},{default:v(()=>e[5]||(e[5]=[o("span",{class:"ml-2"},"Add Zone",-1)])),_:1},8,["action"])])])])])}const ns=C(Lo,[["render",is]]),as={mixins:[D],components:{MoneyInput:Q},props:{form:{type:Object}}};function ds(s,e,t,k,a,l){const u=n("MoneyInput");return t.form.feeType=="flat fee"?(r(),p(u,{key:0,label:"Flat Fee",modelValue:t.form.flatFeeRate,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.flatFeeRate=c),labelPopoverTitle:"What Is This?",errorText:s.getFormError("flatFeeRate"),labelPopoverDescription:"Set the flat fee amount (This is the flat fee that will be applied as a charge)"},null,8,["modelValue","errorText"])):y("",!0)}const ms=C(as,[["render",ds]]),us={mixins:[D],components:{SelectInput:z},props:{form:{type:Object}}};function cs(s,e,t,k,a,l){const u=n("SelectInput");return r(),p(u,{width:"w-full",label:"Fee Type",modelValue:t.form.feeType,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.feeType=c),labelPopoverTitle:"What Is This?",errorText:s.getFormError("feeType"),labelPopoverDescription:"Select the free type e.g Is this a flat fee or a free that is calculated based on a percetange of the total cart amount, location distance or postal code?"},{default:v(()=>e[1]||(e[1]=[o("option",{value:"flat fee"},"Flat fee",-1),o("option",{value:"percentage fee"},"Percentage fee",-1),o("option",{value:"fee by weight"},"Fee by weight",-1),o("option",{value:"fee by distance"},"Fee by distance",-1),o("option",{value:"fee by postal code"},"Fee by postal code",-1)])),_:1},8,["modelValue","errorText"])}const hs=C(us,[["render",cs]]),fs={mixins:[D],components:{ToogleSwitch:oe},props:{form:{type:Object}}};function ps(s,e,t,k,a,l){const u=n("ToogleSwitch");return r(),p(u,{size:"md",modelValue:t.form.chargeFee,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.chargeFee=c),labelPopoverTitle:"What Is This?",errorText:s.getFormError("chargeFee"),labelPopoverDescription:"Turn on so that your delivery method charges a fee. Turn off so that your delivery method is free of charge"},{default:v(()=>e[1]||(e[1]=[M(" Charge fee ")])),_:1},8,["modelValue","errorText"])}const ys=C(fs,[["render",ps]]),vs={mixins:[D],components:{NumberInput:j},props:{form:{type:Object}}};function gs(s,e,t,k,a,l){const u=n("NumberInput");return t.form.feeType=="percentage fee"?(r(),p(u,{key:0,min:"1",placeholder:"100",label:"Percentage Fee",modelValue:t.form.percentageFeeRate,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.percentageFeeRate=c),labelPopoverTitle:"What Is This?",errorText:s.getFormError("percentageFeeRate"),labelPopoverDescription:"Set the percentage fee amount (This is the percentage fee that will be applied as a charge)"},{suffix:v(()=>e[1]||(e[1]=[M("%")])),_:1},8,["modelValue","errorText"])):y("",!0)}const bs=C(vs,[["render",gs]]),ws={components:{FeeByWeight:uo,FeeByDistance:Bo,FeeByPostalCode:ns,FlatFeeMoneyInput:ms,FeeTypeSelectInput:hs,ChargeFeeToogleSwitch:ys,PercentageFeeNumberInput:bs},props:{form:{type:Object}}},ks={class:"flex justify-between items-center space-x-8"};function xs(s,e,t,k,a,l){const u=n("ChargeFeeToogleSwitch"),c=n("FeeTypeSelectInput"),b=n("FlatFeeMoneyInput"),x=n("PercentageFeeNumberInput"),S=n("FeeByWeight"),F=n("FeeByDistance"),g=n("FeeByPostalCode");return r(),i("div",{class:A([{"border border-dashed rounded-lg":t.form.chargeFee}])},[o("div",{class:A([{"bg-blue-50 p-4 rounded-lg":t.form.chargeFee},"transition-all duration-500"])},[d(u,{form:t.form},null,8,["form"]),o("div",{class:A([t.form.chargeFee?"h-24 mt-4 p-0.5":"h-0 mb-0 p-0","transition-all duration-500 overflow-hidden"])},[o("div",ks,[d(c,{form:t.form},null,8,["form"]),d(b,{form:t.form},null,8,["form"]),d(x,{form:t.form},null,8,["form"])])],2),t.form.chargeFee&&t.form.feeType=="fee by weight"?(r(),p(S,{key:0,form:t.form},null,8,["form"])):y("",!0),t.form.chargeFee&&t.form.feeType=="fee by distance"?(r(),p(F,{key:1,form:t.form},null,8,["form"])):y("",!0),t.form.chargeFee&&t.form.feeType=="fee by postal code"?(r(),p(g,{key:2,form:t.form},null,8,["form"])):y("",!0)],2)],2)}const _s=C(ws,[["render",xs]]),Ts={mixins:[D],components:{TextInput:J},props:{form:{type:Object}}};function Ms(s,e,t,k,a,l){const u=n("TextInput");return r(),p(u,{label:"Name",modelValue:t.form.name,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.name=c),placeholder:"In-house Delivery",errorText:s.getFormError("name"),labelPopoverTitle:"What Is This?",labelPopoverDescription:"The delivery method name e.g In-house delivery, Self pickup or Dine in"},null,8,["modelValue","errorText"])}const Cs=C(Ts,[["render",Ms]]),Ds={mixins:[D],components:{Checkbox:B},props:{form:{type:Object}}};function Fs(s,e,t,k,a,l){const u=n("Checkbox");return r(),p(u,{size:"xs",modelValue:t.form.captureAdditionalFields,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.captureAdditionalFields=c),errorText:s.getFormError("captureAdditionalFields")},{default:v(()=>e[1]||(e[1]=[o("div",{class:"space-y-1 mt-0.5"},[o("p",{class:"font-bold text-sm mx-2"},"Capture additional fields"),o("p",{class:"text-sm text-gray-500 mx-2"},"Collect extra information from customers before placing an order, such as short answers, selected dates and times, file uploads or map locations")],-1)])),_:1},8,["modelValue","errorText"])}const Ss=C(Ds,[["render",Fs]]),Vs={mixins:[D],components:{draggable:De,TextInput:J,AddButton:Y,MoneyInput:Q,Checkbox:B,UndoButton:q,SelectInput:z,ConfirmModal:te,NumberInput:j,TextareaInput:de,PrimaryButton:K,Pill:R,InputErrorMessage:X,CaptureAdditionalFieldsToogleSwitch:Ss},props:{form:{type:Object}},data(){return{originalFields:[],deletableIndex:null,storeState:G(),deletableAdditionalField:null}},computed:{store(){return this.storeState.store},hasFields(){return this.form.additionalFields.length>0},hasOriginalFields(){return this.originalFields.length>0},hasCollapsedAll(){return this.form.additionalFields.every(s=>s.isEditable===!1)},hasExpandedAll(){return this.form.additionalFields.every(s=>s.isEditable===!0)},fieldsHaveChanged(){var s=Z(this.form.additionalFields),e=Z(this.originalFields);return s.forEach(t=>delete t.isEditable),e.forEach(t=>delete t.isEditable),!W(s,e)}},methods:{onAddField(){this.form.additionalFields.push({validation:"not applicable",type:"short answer",isEditable:!0,required:!1,description:"",options:[],question:"",min:"1",max:"2"})},showDeleteConfirmationModal(s,e){this.deletableIndex=e,this.deletableAdditionalField=s,this.$nextTick(()=>{this.$refs.confirmDeleteButton.$el.click()})},onRemoveField(s){this.form.additionalFields.splice(this.deletableIndex,1),s()},onResetFields(){this.form.additionalFields=Z(this.originalFields)},hasOptions(s){return this.form.additionalFields[s].options.length>0},supportsOptions(s){return s.type=="checkbox"||s.type=="select"},onAddOption(s){this.form.additionalFields[s].options.push({name:"",fee:"0.00"})},collapseAll(){this.form.additionalFields.forEach(s=>{s.isEditable=!1})},expandAll(){this.form.additionalFields.forEach(s=>{s.isEditable=!0})},onRemoveFieldOption(s,e){this.form.additionalFields[s].options.splice(e,1)}}},As={key:0,class:"space-y-4 mt-4"},Os={class:"flex justify-end items-center space-x-2 px-2"},Is=["onClick"],Zs={class:"absolute top-2 right-2 flex items-center space-x-2 opacity-20 group-hover:opacity-100"},Es=["onClick"],Us=["onClick"],Bs={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"},Ls={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"},Ps=["onClick"],js={key:0,class:"space-y-4"},Ns={class:"flex items-center space-x-2"},Hs={key:0,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Gs={key:1,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Rs={key:2,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Ws={key:3,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},qs={key:4,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},zs={key:5,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Qs={key:6,class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Ks=["onClick"],Js=["onClick"],Ys={class:"w-full flex items-center space-x-4"},Xs={class:"flex items-center space-x-4"},$s=["onClick"],er={class:"flex justify-end"},tr={class:"relative"},or={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2"},sr={key:0,class:"animate-bounce text-4xl"},rr={key:0,class:"flex items-end space-x-2"},lr=["onClick"],ir={class:"flex items-center space-x-2 text-sm text-gray-500"},nr={key:0,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},ar={key:1,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},dr={key:2,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},mr={key:3,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},ur={key:4,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},cr={key:5,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},hr={key:6,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},fr={key:7},pr={key:0,class:"text-sm text-gray-500"},yr={class:"flex justify-end space-x-2"},vr={class:"flex justify-end"},gr={class:"relative"},br={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2"},wr={key:0,class:"animate-bounce text-4xl"},kr={key:0,class:"flex items-start space-x-2 border rounded-lg p-2 mb-4"},xr={key:0,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},_r={key:1,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Tr={key:2,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Mr={key:3,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Cr={key:4,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Dr={key:5,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Fr={key:6,class:"w-4 h-4 flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Sr={class:"mb-8"};function Vr(s,e,t,k,a,l){const u=n("CaptureAdditionalFieldsToogleSwitch"),c=n("SelectInput"),b=n("TextInput"),x=n("TextareaInput"),S=n("MoneyInput"),F=n("draggable"),g=n("AddButton"),w=n("NumberInput"),O=n("Checkbox"),m=n("InputErrorMessage"),f=n("Pill"),U=n("UndoButton"),$=n("PrimaryButton"),ee=n("ConfirmModal");return r(),i("div",{class:A([{"border border-dashed rounded-lg":t.form.captureAdditionalFields}])},[o("div",{class:A([{"bg-blue-50 p-4 rounded-lg":t.form.captureAdditionalFields},"transition-all duration-500"])},[d(u,{form:t.form},null,8,["form"]),t.form.captureAdditionalFields?(r(),i("div",As,[o("div",Os,[t.form.additionalFields.length>=2&&!l.hasCollapsedAll?(r(),i("span",{key:0,class:"text-sm text-gray-500 underline hover:text-black cursor-pointer",onClick:e[0]||(e[0]=(...T)=>l.collapseAll&&l.collapseAll(...T))}," collapse all ")):y("",!0),t.form.additionalFields.length>=2&&!l.hasExpandedAll?(r(),i("span",{key:1,class:"text-sm text-gray-500 underline hover:text-black cursor-pointer",onClick:e[1]||(e[1]=N((...T)=>l.expandAll&&l.expandAll(...T),["stop"]))}," expand all ")):y("",!0)]),d(F,{class:"space-y-2",handle:".draggable-handle","ghost-class":"bg-yellow-50",modelValue:t.form.additionalFields,"onUpdate:modelValue":e[4]||(e[4]=T=>t.form.additionalFields=T)},{default:v(()=>[(r(!0),i(V,null,E(t.form.additionalFields,(T,h)=>(r(),i("div",{key:h,onClick:I=>t.form.additionalFields[h].isEditable?null:t.form.additionalFields[h].isEditable=!0,class:A(["w-full relative bg-gray-50 p-4 border rounded-lg hover:bg-gray-100 group",{"cursor-pointer":!t.form.additionalFields[h].isEditable}])},[o("div",Zs,[t.form.additionalFields[h].isEditable?(r(),i("span",{key:0,class:"text-sm text-gray-500 underline hover:text-black cursor-pointer",onClick:N(I=>t.form.additionalFields[h].isEditable=!1,["stop"])}," close ",8,Es)):(r(),i("svg",{key:1,class:"w-4 h-4 cursor-pointer hover:opacity-50",onClick:N(I=>t.form.additionalFields[h].isEditable=!0,["stop"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t.form.additionalFields[h].isEditable?(r(),i("path",Bs)):(r(),i("path",Ls))],8,Us)),(r(),i("svg",{onClick:N(I=>l.showDeleteConfirmationModal(T,h),["stop"]),class:"w-4 h-4 cursor-pointer hover:text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},e[5]||(e[5]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"},null,-1)]),8,Ps)),(r(),i("svg",{onClick:e[2]||(e[2]=N(()=>{},["stop"])),class:"draggable-handle w-4 h-4 cursor-grab hover:text-yellow-500 active:cursor-grabbing",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},e[6]||(e[6]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"},null,-1)])))]),t.form.additionalFields[h].isEditable?(r(),i("div",js,[o("div",Ns,[T.type=="short answer"?(r(),i("svg",Hs,e[7]||(e[7]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"},null,-1)]))):T.type=="time"?(r(),i("svg",Gs,e[8]||(e[8]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1)]))):T.type=="date"?(r(),i("svg",Rs,e[9]||(e[9]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"},null,-1)]))):T.type=="checkbox"?(r(),i("svg",Ws,e[10]||(e[10]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1)]))):T.type=="select"?(r(),i("svg",qs,e[11]||(e[11]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"},null,-1)]))):T.type=="file upload"?(r(),i("svg",zs,e[12]||(e[12]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"},null,-1)]))):T.type=="location"?(r(),i("svg",Qs,e[13]||(e[13]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"},null,-1)]))):y("",!0),d(c,{width:"w-60",labelPopoverTitle:"What Is This?",modelValue:t.form.additionalFields[h].type,"onUpdate:modelValue":I=>t.form.additionalFields[h].type=I,errorText:s.getFormError("additionalFields"+h+"type"),labelPopoverDescription:"Select the field type"},{default:v(()=>e[14]||(e[14]=[o("option",{value:"short answer"},"Short answer",-1),o("option",{value:"time"},"Time",-1),o("option",{value:"date"},"Date",-1),o("option",{value:"checkbox"},"Checkbox",-1),o("option",{value:"select"},"Select",-1),o("option",{value:"file upload"},"File upload",-1),o("option",{value:"location"},"Location",-1)])),_:2},1032,["modelValue","onUpdate:modelValue","errorText"])]),d(b,{placeholder:"Question",labelPopoverTitle:"What Is This?",modelValue:t.form.additionalFields[h].question,"onUpdate:modelValue":I=>t.form.additionalFields[h].question=I,labelPopoverDescription:"The question to ask the customer",errorText:s.getFormError("additionalFields"+h+"question")},null,8,["modelValue","onUpdate:modelValue","errorText"]),t.form.additionalFields[h].addDescription?(r(),p(x,{key:0,rows:2,placeholder:"Description",labelPopoverTitle:"What Is This?",modelValue:t.form.additionalFields[h].description,"onUpdate:modelValue":I=>t.form.additionalFields[h].description=I,errorText:s.getFormError("additionalFields"+h+"description"),labelPopoverDescription:"Additional information related to the question"},null,8,["modelValue","onUpdate:modelValue","errorText"])):(r(),i("span",{key:1,onClick:N(I=>t.form.additionalFields[h].addDescription=!0,["stop"]),class:"inline-block text-sm text-gray-500 underline cursor-pointer px-2"}," Add description ",8,Ks)),t.form.additionalFields[h].addDescription==!0&&t.form.additionalFields[h].description==""?(r(),i("span",{key:2,class:"inline-block text-sm text-gray-500 underline cursor-pointer px-2",onClick:N(I=>t.form.additionalFields[h].addDescription=!1,["stop"])}," Hide description ",8,Js)):y("",!0),l.supportsOptions(T)?(r(),i(V,{key:3},[d(F,{class:"space-y-2",handle:".draggable-handle-2","ghost-class":"bg-yellow-50",modelValue:t.form.additionalFields[h].options,"onUpdate:modelValue":I=>t.form.additionalFields[h].options=I},{default:v(()=>[(r(!0),i(V,null,E(t.form.additionalFields[h].options,(I,L)=>(r(),i("div",{key:L,class:"flex items-center justify-between space-x-4 rounded-lg py-2 px-2 hover:border-blue-200 hover:bg-gray-50 group"},[o("div",Ys,[d(b,{class:"w-full",placeholder:"Option",modelValue:t.form.additionalFields[h].options[L].name,"onUpdate:modelValue":H=>t.form.additionalFields[h].options[L].name=H,errorText:s.getFormError("additionalFields"+h+"options"+L+"name")},null,8,["modelValue","onUpdate:modelValue","errorText"]),d(S,{modelValue:t.form.additionalFields[h].options[L].fee,"onUpdate:modelValue":H=>t.form.additionalFields[h].options[L].fee=H,errorText:s.getFormError("additionalFields"+h+"options"+L+"fee")},null,8,["modelValue","onUpdate:modelValue","errorText"])]),o("div",Xs,[(r(),i("svg",{onClick:H=>l.onRemoveFieldOption(h,L),class:"w-4 h-4 cursor-pointer hover:text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},e[15]||(e[15]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"},null,-1)]),8,$s)),(r(),i("svg",{onClick:e[3]||(e[3]=N(()=>{},["stop"])),class:"draggable-handle-2 w-4 h-4 cursor-grab hover:text-yellow-500 active:cursor-grabbing",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},e[16]||(e[16]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"},null,-1)])))])]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),o("div",er,[o("div",tr,[o("div",or,[l.hasOptions(h)?y("",!0):(r(),i("div",sr,"ðŸ‘†"))]),d(g,{action:()=>l.onAddOption(h),class:"w-40",size:"xs"},{default:v(()=>e[17]||(e[17]=[o("span",{class:"ml-2"},"Add Option",-1)])),_:2},1032,["action"])])])],64)):y("",!0),o("div",{class:A(["flex",T.type=="checkbox"?"justify-between":"justify-end","items-end"])},[T.type=="checkbox"?(r(),i("div",rr,[d(c,{width:"w-60",label:"Validation",labelPopoverTitle:"What Is This?",modelValue:t.form.additionalFields[h].validation,"onUpdate:modelValue":I=>t.form.additionalFields[h].validation=I,errorText:s.getFormError("additionalFields"+h+"validation"),labelPopoverDescription:"Select the type of validation to be applied"},{default:v(()=>e[18]||(e[18]=[o("option",{value:"not applicable"},"Not applicable",-1),o("option",{value:"select at least"},"Select at least",-1),o("option",{value:"select at most"},"Select at most",-1),o("option",{value:"select between"},"Select between",-1)])),_:2},1032,["modelValue","onUpdate:modelValue","errorText"]),t.form.additionalFields[h].validation=="select at least"||t.form.additionalFields[h].validation=="select between"?(r(),p(w,{key:0,min:"0",class:"w-24",modelValue:t.form.additionalFields[h].min,"onUpdate:modelValue":I=>t.form.additionalFields[h].min=I,errorText:s.getFormError("additionalFields"+h+"min"),label:t.form.additionalFields[h].validation=="select at least"?"":"Min"},null,8,["modelValue","onUpdate:modelValue","errorText","label"])):y("",!0),t.form.additionalFields[h].validation=="select at most"||t.form.additionalFields[h].validation=="select between"?(r(),p(w,{key:1,min:"0",class:"w-24",modelValue:t.form.additionalFields[h].max,"onUpdate:modelValue":I=>t.form.additionalFields[h].max=I,errorText:s.getFormError("additionalFields"+h+"max"),label:t.form.additionalFields[h].validation=="select at most"?"":"Max"},null,8,["modelValue","onUpdate:modelValue","errorText","label"])):y("",!0)])):y("",!0),d(O,{size:"xs",modelValue:t.form.additionalFields[h].required,"onUpdate:modelValue":I=>t.form.additionalFields[h].required=I,errorText:s.getFormError("additionalFields"+h+"required"),labelPopoverDescription:"Whether this field is always required"},{default:v(()=>e[19]||(e[19]=[o("p",{class:"text-sm mt-0.5 mx-2"},"Required",-1)])),_:2},1032,["modelValue","onUpdate:modelValue","errorText"])],2)])):(r(),i("div",{key:1,class:"space-y-2",onClick:I=>t.form.additionalFields[h].isEditable=!0},[o("div",ir,[T.type=="short answer"?(r(),i("svg",nr,e[20]||(e[20]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"},null,-1)]))):T.type=="time"?(r(),i("svg",ar,e[21]||(e[21]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1)]))):T.type=="date"?(r(),i("svg",dr,e[22]||(e[22]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"},null,-1)]))):T.type=="checkbox"?(r(),i("svg",mr,e[23]||(e[23]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1)]))):T.type=="select"?(r(),i("svg",ur,e[24]||(e[24]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"},null,-1)]))):T.type=="file upload"?(r(),i("svg",cr,e[25]||(e[25]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"},null,-1)]))):T.type=="location"?(r(),i("svg",hr,e[26]||(e[26]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"},null,-1)]))):y("",!0),T.question?(r(),i("span",fr,_(T.question),1)):(r(),p(m,{key:8,errorText:"No question asked",margin:"mt-0"})),T.required?(r(),p(f,{key:9,type:"primary",text:"required",showDot:!1})):y("",!0)]),T.description?(r(),i("p",pr,_(T.description),1)):y("",!0)],8,lr))],10,Is))),128))]),_:1},8,["modelValue"]),o("div",yr,[l.fieldsHaveChanged&&l.hasOriginalFields?(r(),p(U,{key:0,action:l.onResetFields,size:"xs"},{default:v(()=>e[27]||(e[27]=[o("span",{class:"ml-1"},"Undo",-1)])),_:1},8,["action"])):y("",!0),o("div",vr,[o("div",gr,[o("div",br,[l.hasFields?y("",!0):(r(),i("div",wr,"ðŸ‘†"))]),d(g,{action:l.onAddField,class:"w-40",size:"xs"},{default:v(()=>e[28]||(e[28]=[o("span",{class:"ml-2"},"Add Field",-1)])),_:1},8,["action"])])])])])):y("",!0)],2),a.deletableAdditionalField?(r(),p(ee,{key:0,approveText:"Delete",approveAction:T=>l.onRemoveField(T)},{content:v(()=>[e[38]||(e[38]=o("p",{class:"text-lg font-bold border-b border-dashed pb-4 mb-4"},"Confirm Delete",-1)),a.deletableAdditionalField.question?(r(),i("div",kr,[a.deletableAdditionalField.type=="short answer"?(r(),i("svg",xr,e[29]||(e[29]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"},null,-1)]))):a.deletableAdditionalField.type=="time"?(r(),i("svg",_r,e[30]||(e[30]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1)]))):a.deletableAdditionalField.type=="date"?(r(),i("svg",Tr,e[31]||(e[31]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"},null,-1)]))):a.deletableAdditionalField.type=="checkbox"?(r(),i("svg",Mr,e[32]||(e[32]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1)]))):a.deletableAdditionalField.type=="select"?(r(),i("svg",Cr,e[33]||(e[33]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"},null,-1)]))):a.deletableAdditionalField.type=="file upload"?(r(),i("svg",Dr,e[34]||(e[34]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"},null,-1)]))):a.deletableAdditionalField.type=="location"?(r(),i("svg",Fr,e[35]||(e[35]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"},null,-1)]))):y("",!0),o("span",null,_(a.deletableAdditionalField.question),1)])):y("",!0),o("p",Sr,[e[36]||(e[36]=M("Are you sure you want to delete this ")),d(f,{type:"primary",text:a.deletableAdditionalField.type,showDot:!1},null,8,["text"]),e[37]||(e[37]=M(" field?"))])]),trigger:v(T=>[d($,{ref:"confirmDeleteButton",action:T.showModal,class:"hidden",type:"danger"},null,8,["action"])]),_:1},8,["approveAction"])):y("",!0)],2)}const Ar=C(Vs,[["render",Vr]]),Or={mixins:[D],components:{ToogleSwitch:oe},props:{form:{type:Object}}};function Ir(s,e,t,k,a,l){const u=n("ToogleSwitch");return r(),p(u,{size:"md",modelValue:t.form.active,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.active=c),labelPopoverTitle:"What Is This?",errorText:s.getFormError("active"),labelPopoverDescription:"Turn on so that your delivery method is made available to customers. Turn off so that your delivery method not available to customers"},{default:v(()=>e[1]||(e[1]=[M(" Active ")])),_:1},8,["modelValue","errorText"])}const Zr=C(Or,[["render",Ir]]),Er={mixins:[D],components:{TextareaInput:de},props:{form:{type:Object}}};function Ur(s,e,t,k,a,l){const u=n("TextareaInput");return r(),p(u,{rows:2,label:"Description",modelValue:t.form.description,"onUpdate:modelValue":e[0]||(e[0]=c=>t.form.description=c),labelPopoverTitle:"What Is This?",errorText:s.getFormError("description"),placeholder:"Delivery using our in-house logistics service",labelPopoverDescription:"A short and sweet description of how delivery/pickup will be accomplished"},null,8,["modelValue","errorText"])}const Br=C(Er,[["render",Ur]]),Lr={mixins:[D],components:{ConfirmModal:te,PrimaryButton:K},props:{form:{type:Object}},data(){return{isDeleting:!1,storeState:G(),deliveryMethodState:P()}},computed:{store(){return this.storeState.store},deliveryMethod(){return this.deliveryMethodState.deliveryMethod},isLoadingDeliveryMethod(){return this.deliveryMethodState.isLoadingDeliveryMethod}},methods:{deleteDeliveryMethod(){this.isDeleting=!0,ve(this.deliveryMethod._links.deleteDeliveryMethod).then(s=>{s.status==200?s.data.deleted?(this.$router.push({name:"show-store-delivery-methods",params:{store_href:this.store._links.showStore}}).then(()=>{window.scrollTo(0,0)}),this.showSuccessfulNotification("Delivery method deleted")):(this.setFormError("general",s.data.message),this.showUnsuccessfulNotification(s.data.message)):(this.setFormError("general",s.data.message),this.showUnsuccessfulNotification(s.data.message)),this.isDeleting=!1}).catch(s=>{this.isDeleting=!1,this.setServerFormErrors(s)})}}},Pr={class:"font-bold text-black"},jr={class:"flex justify-end"},Nr={class:"mb-8"},Hr={class:"font-bold text-black"};function Gr(s,e,t,k,a,l){const u=n("PrimaryButton"),c=n("ConfirmModal");return l.deliveryMethod?(r(),i("div",{key:0,class:A(["space-y-4 shadow-lg rounded-lg border p-4",l.isLoadingDeliveryMethod?"bg-gray-50":"border-red-300 bg-red-50"])},[o("p",null,[e[0]||(e[0]=M("Do you want to permanently delete ")),o("span",Pr,_(t.form.name),1),e[1]||(e[1]=M("? Once this delivery method is deleted you will not be able to recover it."))]),o("div",jr,[d(c,{approveText:"Delete Delivery Method",approveAction:l.deleteDeliveryMethod,isLoading:a.isDeleting},{content:v(()=>[e[4]||(e[4]=o("p",{class:"text-lg font-bold border-b border-dashed pb-4 mb-4"},"Confirm Delete",-1)),o("p",Nr,[e[2]||(e[2]=M("Are you sure you want to permanently delete ")),o("span",Hr,_(t.form.name),1),e[3]||(e[3]=M("?"))])]),trigger:v(b=>[d(u,{action:b.showModal,loading:a.isDeleting,class:"w-60",type:"danger"},{default:v(()=>e[5]||(e[5]=[M(" Delete Delivery Method ")])),_:2},1032,["action","loading"])]),_:1},8,["approveAction","isLoading"])])],2)):y("",!0)}const Rr=C(Lr,[["render",Gr]]),Wr={mixins:[D],components:{Checkbox:B},props:{form:{type:Object}},data(){return{askForAnAddress:null}},watch:{"form.feeType"(s){s=="fee by distance"||s=="fee by postal code"?this.askForAnAddress=!0:this.askForAnAddress=this.form.askForAnAddress},askForAnAddress(s){this.disabled||(this.form.askForAnAddress=s),s||(this.form.pinLocationOnMap=!1)}},computed:{disabled(){return this.form.feeType=="fee by distance"||this.form.feeType=="fee by postal code"}},created(){this.askForAnAddress=this.form.askForAnAddress||this.form.feeType=="fee by distance"||this.form.feeType=="fee by postal code"}},qr={class:"space-y-1 mt-0.5"},zr={key:0,class:"text-sm text-green-500 mx-2"},Qr={key:1,class:"text-sm text-gray-500 mx-2"};function Kr(s,e,t,k,a,l){const u=n("Checkbox");return r(),p(u,{size:"xs",disabled:l.disabled,modelValue:a.askForAnAddress,"onUpdate:modelValue":e[0]||(e[0]=c=>a.askForAnAddress=c),errorText:s.getFormError("askForAnAddress")},{default:v(()=>[o("div",qr,[e[2]||(e[2]=o("div",{class:"flex items-center space-x-1 font-bold text-sm mx-2"},[o("span",null,"Capture address information"),o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"})])],-1)),l.disabled?(r(),i("p",zr,[e[1]||(e[1]=M(" The address information will be captured to support delivery fee by ")),this.form.feeType=="fee by distance"?(r(),i(V,{key:0},[M("distance")],64)):this.form.feeType=="fee by postal code"?(r(),i(V,{key:1},[M("postal code")],64)):y("",!0)])):(r(),i("p",Qr,"Ask customers to provide their address information for delivery"))])]),_:1},8,["disabled","modelValue","errorText"])}const Jr=C(Wr,[["render",Kr]]),Yr={mixins:[D],components:{Checkbox:B},props:{form:{type:Object}},data(){return{pinLocationOnMap:null}},watch:{"form.feeType"(s){s=="fee by distance"||s=="fee by postal code"?this.pinLocationOnMap=!0:this.pinLocationOnMap=this.form.pinLocationOnMap},"form.pinLocationOnMap"(s){this.disabled||(this.form.pinLocationOnMap=s),s&&(this.form.askForAnAddress=!0)}},computed:{disabled(){return this.form.feeType=="fee by distance"||this.form.feeType=="fee by postal code"}},created(){this.pinLocationOnMap=this.form.pinLocationOnMap||this.form.feeType=="fee by distance"||this.form.feeType=="fee by postal code"}},Xr={class:"space-y-1 mt-0.5"},$r={key:0,class:"text-sm text-green-500 mx-2"},el={key:1,class:"text-sm text-gray-500 mx-2"};function tl(s,e,t,k,a,l){const u=n("Checkbox");return r(),p(u,{size:"xs",disabled:l.disabled,modelValue:a.pinLocationOnMap,"onUpdate:modelValue":e[0]||(e[0]=c=>a.pinLocationOnMap=c),errorText:s.getFormError("pinLocationOnMap")},{default:v(()=>[o("div",Xr,[e[2]||(e[2]=o("div",{class:"flex items-center space-x-1 font-bold text-sm mx-2"},[o("span",null,"Capture address location on map"),o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])],-1)),l.disabled?(r(),i("p",$r,[e[1]||(e[1]=M(" The address location on the map will be captured to support delivery fee by ")),this.form.feeType=="fee by distance"?(r(),i(V,{key:0},[M("distance")],64)):this.form.feeType=="fee by postal code"?(r(),i(V,{key:1},[M("postal code")],64)):y("",!0)])):(r(),i("p",el,"Ask customers to show their address on the map for better accuracy"))])]),_:1},8,["disabled","modelValue","errorText"])}const ol=C(Yr,[["render",tl]]),sl={mixins:[D],components:{Checkbox:B,NumberInput:j},props:{form:{type:Object}}};function rl(s,e,t,k,a,l){const u=n("Checkbox"),c=n("NumberInput");return r(),i("div",{class:A([{"border border-dashed rounded-lg":t.form.qualifyOnMinimumGrandTotal}])},[o("div",{class:A([{"bg-blue-50 p-4 rounded-lg":t.form.qualifyOnMinimumGrandTotal},"transition-all duration-500"])},[d(u,{size:"xs",modelValue:t.form.qualifyOnMinimumGrandTotal,"onUpdate:modelValue":e[0]||(e[0]=b=>t.form.qualifyOnMinimumGrandTotal=b),errorText:s.getFormError("qualifyOnMinimumGrandTotal")},{default:v(()=>e[2]||(e[2]=[o("div",{class:"space-y-1 mt-0.5"},[o("p",{class:"font-bold text-sm mx-2"},"Qualify on minimum grand total"),o("p",{class:"text-sm text-gray-500 mx-2"},"Customer carts must qualify with a minimum grand total before placing an order.")],-1)])),_:1},8,["modelValue","errorText"]),o("div",{class:A([t.form.qualifyOnMinimumGrandTotal?"h-24 p-0.5":"h-0 mb-0 p-0","transition-all duration-500 overflow-hidden"])},[t.form.qualifyOnMinimumGrandTotal?(r(),p(c,{key:0,min:"1",placeholder:"100",class:"max-w-80 mt-4",label:"Minimum Grand Total",labelPopoverTitle:"What Is This?",modelValue:t.form.minimumGrandTotal,"onUpdate:modelValue":e[1]||(e[1]=b=>t.form.minimumGrandTotal=b),errorText:s.getFormError("minimumGrandTotal"),labelPopoverDescription:"Customer carts must qualify with a minimum grand total before placing an order"},null,8,["modelValue","errorText"])):y("",!0)],2)],2)],2)}const ll=C(sl,[["render",rl]]),il={mixins:[D],components:{Checkbox:B,NumberInput:j},props:{form:{type:Object}}};function nl(s,e,t,k,a,l){const u=n("Checkbox"),c=n("NumberInput");return r(),i("div",{class:A([{"border border-dashed rounded-lg":t.form.setDailyOrderLimit}])},[o("div",{class:A([{"bg-blue-50 p-4 rounded-lg":t.form.setDailyOrderLimit},"transition-all duration-500"])},[d(u,{size:"xs",modelValue:t.form.setDailyOrderLimit,"onUpdate:modelValue":e[0]||(e[0]=b=>t.form.setDailyOrderLimit=b),errorText:s.getFormError("setDailyOrderLimit")},{default:v(()=>e[2]||(e[2]=[o("div",{class:"mt-0.5 mx-2"},[o("p",{class:"font-bold text-sm mb-1"},"Set daily order limit"),o("p",{class:"text-sm text-gray-500 max-w-96"},"Orders placed must not exceed the daily limit specified")],-1)])),_:1},8,["modelValue","errorText"]),o("div",{class:A([t.form.setDailyOrderLimit?"h-10 mt-4 py-0.5":"h-0 mt-0 py-0","text-gray-500 space-x-2 transition-all duration-500 overflow-hidden"])},[e[3]||(e[3]=o("span",{class:"text-sm"}," Accept no more than ",-1)),d(c,{min:"1",placeholder:"1",class:"w-24 inline-block",modelValue:t.form.dailyOrderLimit,"onUpdate:modelValue":e[1]||(e[1]=b=>t.form.dailyOrderLimit=b)},null,8,["modelValue"]),e[4]||(e[4]=o("span",{class:"text-sm"}," orders per day ",-1))],2)],2)],2)}const al=C(il,[["render",nl]]),dl={mixins:[D],components:{Checkbox:B,NumberInput:j},props:{form:{type:Object}}};function ml(s,e,t,k,a,l){const u=n("Checkbox"),c=n("NumberInput");return r(),i("div",{class:A([{"border border-dashed rounded-lg":t.form.offerFreeDeliveryOnMinimumGrandTotal}])},[o("div",{class:A([{"bg-blue-50 p-4 rounded-lg":t.form.offerFreeDeliveryOnMinimumGrandTotal},"transition-all duration-500"])},[d(u,{size:"xs",modelValue:t.form.offerFreeDeliveryOnMinimumGrandTotal,"onUpdate:modelValue":e[0]||(e[0]=b=>t.form.offerFreeDeliveryOnMinimumGrandTotal=b),errorText:s.getFormError("offerFreeDeliveryOnMinimumGrandTotal")},{default:v(()=>e[2]||(e[2]=[o("div",{class:"space-y-1 mt-0.5"},[o("p",{class:"font-bold text-sm mx-2"},"Offer free delivery on minimum grand total"),o("p",{class:"text-sm text-gray-500 mx-2"},"Customer carts must qualify with a minimum grand total to claim free delivery.")],-1)])),_:1},8,["modelValue","errorText"]),o("div",{class:A([t.form.offerFreeDeliveryOnMinimumGrandTotal?"h-24 p-0.5":"h-0 mb-0 p-0","transition-all duration-500 overflow-hidden"])},[t.form.offerFreeDeliveryOnMinimumGrandTotal?(r(),p(c,{key:0,min:"1",placeholder:"100",class:"max-w-80 mt-4",label:"Minimum Grand Total",labelPopoverTitle:"What Is This?",modelValue:t.form.freeDeliveryMinimumGrandTotal,"onUpdate:modelValue":e[1]||(e[1]=b=>t.form.freeDeliveryMinimumGrandTotal=b),errorText:s.getFormError("minimumGrandTotal"),labelPopoverDescription:"Customer carts must qualify with a minimum grand total to claim free delivery"},null,8,["modelValue","errorText"])):y("",!0)],2)],2)],2)}const ul=C(dl,[["render",ml]]),cl={mixins:[D],components:{Alert:le,TextHeader:fe,BackButton:pe,UndoButton:q,PrimaryButton:K,LineSkeleton:ie,MoreInfoPopover:ne,BackdropLoader:ye,FormErrorMessages:ke,Schedule:Gt,ChargeFee:_s,NameTextInput:Cs,ActiveToggleSwitch:Zr,AdditionalFields:Ar,DescriptionTextarea:Br,DeleteDeliveryMethod:Rr,AskForAnAddressCheckbox:Jr,PinLocationOnMapCheckbox:ol,QualifyOnMinimumGrandTotal:ll,SetDailyOrderLimitCheckbox:al,OfferFreeDeliveryOnMinimumGrandTotal:ul},data(){return{form:{name:"",active:!0,weightZones:[],description:"",chargeFee:!1,distanceZones:[],setSchedule:!1,feeType:"flat fee",postalCodeZones:[],additionalFields:[],scheduleType:"date",flatFeeRate:"10.00",dailyOrderLimit:"1000",percentageFeeRate:"10",askForAnAddress:!1,pinLocationOnMap:!1,setDailyOrderLimit:!1,timeSlotIntervalValue:"1",minimumGrandTotal:"100.00",latestDeliveryTimeValue:"7",timeSlotIntervalUnit:"hour",autoGenerateTimeSlots:!1,showDistanceOnInvoice:!0,earliestDeliveryTimeValue:"3",captureAdditionalFields:!1,earliestDeliveryTimeUnit:"day",qualifyOnMinimumGrandTotal:!1,requireMinimumNoticeForOrders:!1,restrictMaximumNoticeForOrders:!1,freeDeliveryMinimumGrandTotal:"200.00",offerFreeDeliveryOnMinimumGrandTotal:!1,operationalHours:this.generateOperationalHours()},originalForm:null,isSubmitting:!1,apiState:re(),storeState:G(),deliveryMethodState:P()}},computed:{store(){return this.storeState.store},isCreating(){return this.$route.name==="create-store-delivery-method"},isEditting(){return this.$route.name==="show-store-delivery-method"},isLoadingDeliveryMethod(){return this.deliveryMethodState.isLoadingDeliveryMethod},formHasChanged(){var s=Z(this.form),e=Z(this.originalForm);return!W(s,e)},mustSaveChanges(){return this.isEditting&&this.formHasChanged&&!this.isLoadingDeliveryMethod&&!this.isSubmitting},mustCreate(){return this.isCreating&&this.formHasChanged&&!this.isLoadingDeliveryMethod&&!this.isSubmitting}},methods:{goBack(){this.$router.push({name:"show-store-delivery-methods",params:{store_href:this.store._links.showStore}}).then(()=>{window.scrollTo(0,0)})},setFormFields(){this.form={distanceZones:[],postalCodeZones:[],weightCategories:[],additionalFields:[],name:this.deliveryMethod.name,active:this.deliveryMethod.active,feeType:this.deliveryMethod.feeType,chargeFee:this.deliveryMethod.chargeFee,setSchedule:this.deliveryMethod.setSchedule,description:this.deliveryMethod.description,scheduleType:this.deliveryMethod.scheduleType,sameDayDelivery:this.deliveryMethod.sameDayDelivery,askForAnAddress:this.deliveryMethod.askForAnAddress,pinLocationOnMap:this.deliveryMethod.pinLocationOnMap,operationalHours:this.deliveryMethod.operationalHours,setDailyOrderLimit:this.deliveryMethod.setDailyOrderLimit,timeSlotIntervalUnit:this.deliveryMethod.timeSlotIntervalUnit,dailyOrderLimit:this.deliveryMethod.dailyOrderLimit.toString(),autoGenerateTimeSlots:this.deliveryMethod.autoGenerateTimeSlots,showDistanceOnInvoice:this.deliveryMethod.showDistanceOnInvoice,flatFeeRate:this.deliveryMethod.flatFeeRate.amountWithoutCurrency,captureAdditionalFields:this.deliveryMethod.captureAdditionalFields,earliestDeliveryTimeUnit:this.deliveryMethod.earliestDeliveryTimeUnit,percentageFeeRate:this.deliveryMethod.percentageFeeRate.value.toString(),qualifyOnMinimumGrandTotal:this.deliveryMethod.qualifyOnMinimumGrandTotal,timeSlotIntervalValue:this.deliveryMethod.timeSlotIntervalValue.toString(),minimumGrandTotal:this.deliveryMethod.minimumGrandTotal.amountWithoutCurrency,latestDeliveryTimeValue:this.deliveryMethod.latestDeliveryTimeValue.toString(),requireMinimumNoticeForOrders:this.deliveryMethod.requireMinimumNoticeForOrders,restrictMaximumNoticeForOrders:this.deliveryMethod.restrictMaximumNoticeForOrders,earliestDeliveryTimeValue:this.deliveryMethod.earliestDeliveryTimeValue.toString(),offerFreeDeliveryOnMinimumGrandTotal:this.deliveryMethod.offerFreeDeliveryOnMinimumGrandTotal,freeDeliveryMinimumGrandTotal:this.deliveryMethod.freeDeliveryMinimumGrandTotal.amountWithoutCurrency},this.form.operationalHours.length==0&&(this.form.operationalHours=this.generateOperationalHours()),this.form.distanceZones=this.deliveryMethod.distanceZones.map(s=>(s.isEditable=!1,s)),this.form.weightCategories=this.deliveryMethod.weightCategories.map(s=>(s.isEditable=!1,s)),this.form.postalCodeZones=this.deliveryMethod.postalCodeZones.map(s=>(s.isEditable=!1,s)),this.form.additionalFields=this.deliveryMethod.additionalFields.map(s=>(s.addDescription=s.description!="",s.isEditable=!1,s)),this.originalForm=Z(this.form),console.log("copy")},generateOperationalHours(){return Array(7).fill().map(()=>({available:!0,hours:[["08:00","16:00"]]}))},parseForm(){var s=Z(this.form);return this.isCreating&&(s.store_id=this.store.id),s},getDeliveryMethod(){P().isLoadingDeliveryMethod=!0;const s={_relationships:"address"};ge(this.$route.params.delivery_method_href,s).then(e=>{e.status==200&&e.data.exists&&(P().deliveryMethod=e.data.deliveryMethod,this.deliveryMethod=e.data.deliveryMethod,this.setFormFields()),P().isLoadingDeliveryMethod=!1}).catch(e=>{P().isLoadingDeliveryMethod=!1,this.setServerFormErrors(e)})},createStoreDeliveryMethod(){this.hideFormErrors(),this.form.name.trim()==""?this.setFormError("name","Enter delivery method name"):(this.isSubmitting=!0,be(re().apiHome._links.createDeliveryMethod,this.parseForm()).then(s=>{s.status==200&&(s.data.created?(this.$router.push({name:"show-store-delivery-methods",params:{store_href:this.store._links.showStore}}).then(()=>{window.scrollTo(0,0)}),this.showSuccessfulNotification("Delivery method created")):(this.setFormError("general",s.data.message),this.showUnsuccessfulNotification(s.data.message))),this.isSubmitting=!1}).catch(s=>{this.isSubmitting=!1,this.setServerFormErrors(s)}))},updateDeliveryMethod(){this.isSubmitting=!0,we(this.deliveryMethod._links.updateDeliveryMethod,this.parseForm()).then(s=>{s.status==200&&(s.data.updated?(this.$router.push({name:"show-store-delivery-methods",params:{store_href:this.store._links.showStore}}).then(()=>{window.scrollTo(0,0)}),this.showSuccessfulNotification("Delivery method updated")):(this.setFormError("general",s.data.message),this.showUnsuccessfulNotification(s.data.message)),this.originalForm=Z(this.form)),this.isSubmitting=!1}).catch(s=>{this.isSubmitting=!1,this.setServerFormErrors(s)})}},beforeUnmount(){P().reset()},created(){this.originalForm=Z(this.form),this.isEditting&&this.getDeliveryMethod()}},hl={class:"bg-white shadow-lg border p-8 rounded-lg relative"},fl={class:"space-y-4",action:"#",method:"POST"},pl={class:"flex justify-start items-center border-dashed py-6"},yl={key:0,class:"flex items-center space-x-2"},vl={class:"flex items-center space-x-2"},gl={class:"flex items-center space-x-2"};function bl(s,e,t,k,a,l){const u=n("BackdropLoader"),c=n("BackButton"),b=n("LineSkeleton"),x=n("TextHeader"),S=n("MoreInfoPopover"),F=n("UndoButton"),g=n("PrimaryButton"),w=n("Alert"),O=n("FormErrorMessages"),m=n("ActiveToggleSwitch"),f=n("NameTextInput"),U=n("DescriptionTextarea"),$=n("QualifyOnMinimumGrandTotal"),ee=n("OfferFreeDeliveryOnMinimumGrandTotal"),T=n("SetDailyOrderLimitCheckbox"),h=n("AdditionalFields"),I=n("AskForAnAddressCheckbox"),L=n("PinLocationOnMapCheckbox"),H=n("ChargeFee"),me=n("Schedule"),ue=n("DeleteDeliveryMethod");return r(),i("div",hl,[l.isLoadingDeliveryMethod||a.isSubmitting?(r(),p(u,{key:0,class:"rounded-lg"})):y("",!0),o("form",fl,[o("div",pl,[d(c,{class:"w-16 mr-4",action:l.goBack},null,8,["action"]),l.isLoadingDeliveryMethod?(r(),i("div",yl,[d(b,{width:"w-40",shine:!0}),d(b,{width:"w-4",shine:!0})])):(r(),i(V,{key:1},[d(x,null,{default:v(()=>[M(_(l.isCreating?"Add Delivery Method":a.form.name),1)]),_:1}),d(S,{class:"ml-2 mt-1",title:"What Is This?",description:"Delivery methods are the ways you get products to your customers, such as home delivery, in-store pickup, or courier services. Configure them to match your store's logistics and customer preferences.",placement:"top"})],64))]),o("div",{class:A([l.mustSaveChanges||l.mustCreate?"h-20 mb-8":"h-0 mb-0 p-0","transition-all duration-500 overflow-hidden"])},[d(w,{type:"warning",class:"flex justify-between items-center border border-dashed"},{default:v(()=>[o("div",vl,[e[0]||(e[0]=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1)),o("span",null,_(l.isEditting?"Please save your changes":"Create your delivery method"),1)]),o("div",gl,[d(F,{action:l.setFormFields,type:"light",size:"xs"},{default:v(()=>e[1]||(e[1]=[o("span",{class:"ml-1"},"Undo",-1)])),_:1},8,["action"]),d(g,{action:()=>l.isEditting?l.updateDeliveryMethod():l.createStoreDeliveryMethod(),loading:a.isSubmitting,type:"dark"},{default:v(()=>[o("span",null,_(l.isEditting?"Save Changes":"Create"),1)]),_:1},8,["action","loading"])])]),_:1})],2),d(O),d(m,{form:a.form},null,8,["form"]),d(f,{form:a.form},null,8,["form"]),d(U,{form:a.form},null,8,["form"]),d($,{form:a.form},null,8,["form"]),d(ee,{form:a.form},null,8,["form"]),d(T,{form:a.form},null,8,["form"]),d(h,{form:a.form},null,8,["form"]),d(I,{form:a.form},null,8,["form"]),d(L,{form:a.form},null,8,["form"]),d(H,{form:a.form},null,8,["form"]),d(me,{form:a.form},null,8,["form"]),d(O),d(g,{action:()=>l.isEditting?l.updateDeliveryMethod():l.createStoreDeliveryMethod(),disabled:!l.mustSaveChanges&&!l.mustCreate,loading:a.isSubmitting,type:"dark",class:"w-full"},{default:v(()=>[o("span",null,_(l.isEditting?"Save Changes":"Create"),1)]),_:1},8,["action","disabled","loading"]),o("div",null,[d(ue,{form:a.form,class:"mt-16"},null,8,["form"])])])])}const di=C(cl,[["render",bl]]);export{di as default};
