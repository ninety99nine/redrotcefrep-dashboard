import{F as _}from"./FormMixin-CKU7-6TW.js";import{B as S}from"./Button-CPBxlThb.js";import{u as k,c as n,b as t,p as L,d as P,f as m,F as o,n as p,h as u,k as h,r as x,o as s,t as g,w as M}from"./app-DKsaVPPK.js";import{u as A}from"./store-store-DAph0547.js";import{S as F}from"./SpinningLoader-DIvh5Pfz.js";import{g as B,p as C}from"./api-repository-CzfJNX-W.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./form-store-BwizIfv1.js";import"./UtilsMixin-CBwmyCNB.js";import"./cloneDeep-BSUglKOW.js";const G={mixins:[_],components:{Button:S,SpinningLoader:F},data(){return{pagination:null,pricingPlans:[],pricingPlanIndex:null,apiState:k(),storeState:A(),isLoadingPricingPlans:!1,isGeneratingPaymentLink:!1,activePricingPlan:"monthly",freePlanFeatures:["WhatsApp order form","Manual payment methods","Up to 20 images"]}},computed:{store(){return this.storeState.store},isLoadingStore(){return this.storeState.isLoadingStore},isShowingMonthlyPricingPlans(){return this.activePricingPlan=="monthly"},isShowingAnnualPricingPlans(){return this.activePricingPlan=="annually"},filteredPricingPlans(){return this.isShowingMonthlyPricingPlans?this.pricingPlans.filter(a=>a.metadata.storeSubscription.frequency=="month"):this.pricingPlans.filter(a=>a.metadata.storeSubscription.frequency=="year")}},methods:{changePricingPlan(a){this.activePricingPlan=a},showPricingPlans(){this.isLoadingPricingPlans=!0;let a={_filters:"active:eq:1|billing_type:eq:one time|supports_web:eq:1|type:eq:store subcription"};B(this.apiState.apiHome._links.showPricingPlans,a).then(e=>{e.status==200&&(this.pagination=e.data,this.pricingPlans=this.pagination.data),this.isLoadingPricingPlans=!1}).catch(e=>{this.isLoadingPricingPlans=!1,this.setServerFormErrors(e)})},payPricingPlan(a,e){if(this.isGeneratingPaymentLink)return;this.pricingPlanIndex=e,this.isGeneratingPaymentLink=!0;let y={storeId:this.store.id,paymentMethodType:"dpo"};C(a._links.payPricingPlan,y).then(d=>{if(d.status==200&&d.data.successful){const i=d.data.transaction.metadata.dpoPaymentUrl;window.location.href=i}else this.isGeneratingPaymentLink=!1}).catch(d=>{this.isGeneratingPaymentLink=!1,this.setServerFormErrors(d)})}},created(){this.showPricingPlans()}},q={class:"min-h-screen relative"},I={class:"z-10 pt-32 px-20 relative"},z={key:0,class:"flex justify-center"},N={class:"flex justify-center mb-4"},V={class:"w-fit flex justify-center items-center bg-white py-0.5 px-1 border border-blue-300 rounded-full mb-4 relative"},E={class:"flex justify-center space-x-4 mb-8"},U={class:"animated-border-blue w-80 bg-white py-4 px-4 shadow-sm rounded-xl"},W={class:"text-3xl text-gray-700 font-bold space-x-1 mb-4"},T={class:"text-sm text-gray-500 font-normal"},Z={class:"bg-gray-50 border p-4 rounded-lg"},D={class:"text-gray-500 text-xs"},H={class:"text-xl text-gray-700 font-bold mb-2"},J={class:"w-4/5 text-gray-500 text-sm mb-4"},K={class:"text-3xl text-gray-700 font-bold space-x-1 mb-4"},O={class:"text-sm text-gray-500 font-normal"},Q={key:0,class:"animate-pulse text-xs text-center text-blue-500 bg-blue-50 rounded-full p-2 mb-4"},R={class:"bg-gray-50 border p-4 rounded-lg"},X={class:"text-gray-500 text-xs"};function Y(a,e,y,d,r,i){const f=x("SpinningLoader"),b=x("Button");return s(),n("div",q,[t("div",I,[e[9]||(e[9]=L('<div class="flex flex-col items-center mb-10"><h1 class="flex justify-center items-center space-x-2 text-xl text-gray-700 font-semibold mb-4"><svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"></path></svg><span>Pricing Plans</span></h1><p class="w-96 text-sm text-gray-500 text-center">Get the best plan for your store. Pay monthly or annually, with no hidden fees. Start selling instantly!</p></div>',1)),r.isLoadingPricingPlans?(s(),n("div",z,[P(f)])):m("",!0),r.isLoadingPricingPlans?m("",!0):(s(),n(o,{key:1},[t("div",N,[t("div",V,[t("div",{class:p([i.isShowingMonthlyPricingPlans?"-translate-x-12":"translate-x-12","absolute w-24 bg-blue-500 h-6 rounded-full transition-transform duration-500 ease-in-out"])},null,2),t("div",{onClick:e[0]||(e[0]=()=>i.changePricingPlan("monthly")),class:p([i.isShowingMonthlyPricingPlans?"text-white":"text-gray-500","z-10 py-1 px-4 rounded-full w-24 text-sm text-center cursor-pointer transition-transform duration-500 ease-in-out"])},"Monthly",2),t("div",{onClick:e[1]||(e[1]=()=>i.changePricingPlan("annually")),class:p([i.isShowingAnnualPricingPlans?"text-white":"text-gray-500","z-10 py-1 px-4 rounded-full w-24 text-sm text-center cursor-pointer transition-transform duration-500 ease-in-out"])},"Annually",2)])]),e[8]||(e[8]=t("div",{class:"flex justify-center mb-8"},[t("img",{src:"/images/store-rooftop.png",class:"w-96"})],-1)),t("div",E,[t("div",U,[e[4]||(e[4]=t("h1",{class:"text-xl text-gray-700 font-bold mb-2"}," Free Plan ",-1)),e[5]||(e[5]=t("h2",{class:"text-gray-500 text-sm mb-4"}," Free store access with limited features ",-1)),t("h2",W,[e[2]||(e[2]=t("span",null,"$0.00",-1)),e[3]||(e[3]=t("span",{class:"text-sm text-gray-500 font-normal"},"/",-1)),t("span",T,[i.isShowingMonthlyPricingPlans?(s(),n(o,{key:0},[u("month")],64)):i.isShowingAnnualPricingPlans?(s(),n(o,{key:1},[u("year")],64)):m("",!0)])]),t("div",Z,[(s(!0),n(o,null,h(r.freePlanFeatures,(l,c)=>(s(),n("div",{key:c},[t("span",D,g(l),1)]))),128))])]),(s(!0),n(o,null,h(i.filteredPricingPlans,(l,c)=>(s(),n("div",{key:c,class:"animated-border-blue w-80 bg-white py-4 px-4 shadow-sm rounded-xl"},[t("h1",H,g(l.name),1),t("h2",J,g(l.description),1),t("h2",K,[t("span",null,g(l.price.amountWithCurrency),1),e[6]||(e[6]=t("span",{class:"text-sm text-gray-500 font-normal"},"/",-1)),t("span",O,[i.isShowingMonthlyPricingPlans?(s(),n(o,{key:0},[u("month")],64)):i.isShowingAnnualPricingPlans?(s(),n(o,{key:1},[u("year")],64)):m("",!0)])]),P(b,{size:"sm",type:"primary",class:"w-full mb-4",loading:r.pricingPlanIndex==c,action:()=>i.payPricingPlan(l,c),disabled:r.isGeneratingPaymentLink&&r.pricingPlanIndex!=c},{default:M(()=>e[7]||(e[7]=[t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})],-1),t("span",null,"Subscribe",-1)])),_:2},1032,["loading","action","disabled"]),r.pricingPlanIndex==c?(s(),n("p",Q," We are preparing your payment... ")):m("",!0),t("div",R,[(s(!0),n(o,null,h(l.features,(w,v)=>(s(),n("div",{key:v},[t("span",X,g(w),1)]))),128))])]))),128))])],64))]),e[10]||(e[10]=t("img",{src:"/images/clouds.png",class:"absolute top-32"},null,-1))])}const ct=j(G,[["render",Y]]);export{ct as default};
