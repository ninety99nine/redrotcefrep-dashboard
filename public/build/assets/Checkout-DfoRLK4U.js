import{d as q}from"./index-B_gOZyBG.js";import{u as k}from"./store-store-C4uDn5g4.js";import{j as Q,C as Z,a as z,u as F,k as E,P as G,N as W,b as K,S as Y,c as J,G as X,d as ee,e as te,f as re,g as oe,h as se,i as ae}from"./Index-nTOvc_Ka.js";import{A as ne}from"./AddButton-DU1ZFxoK.js";import{B as ie}from"./BasicModal-Cv-EyXe2.js";import{S as A}from"./ShineEffect-BNKhlniq.js";import{L as H}from"./LineSkeleton-B85GKw1a.js";import{P as de}from"./PrimaryButton-CYQ7iQUy.js";import{B as ce}from"./BackdropLoader-D8AiA_Gj.js";import{B as le}from"./BadgeIndicator-GktKxOKf.js";import{r as a,o as t,e as g,w as x,b as o,f as m,c as s,F as w,k as P,n as N,d as i,p as T,i as h,t as S,T as O,q as pe,z as he,h as V,A as ue}from"./app-BMtIl1oL.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{F as L}from"./FormMixin-C9hWnrjF.js";import{E as me}from"./EmailInput-DMIpO3f6.js";import{T as $}from"./TextInput-Cj9UvdSr.js";import{M as ge}from"./MobileNumberInput-Ax4dRiYI.js";import{I as Ce}from"./InputErrorMessage-Ca7cMY0o.js";import{G as _e,A as ye}from"./AddressInput-DhG9sAXO.js";import{U as ve}from"./UtilsMixin-CbFS-0FV.js";import{D as Se,a as xe}from"./DeliveryTimePicker-WSU-ddX3.js";import"./form-store-CmdXgIuJ.js";import"./api-repository-CEXPkGdM.js";import"./Logo-CyYC23ac.js";import"./FormErrorMessages-f6OOaco7.js";import"./OfflineMessageTextarea-bQGorAmm.js";import"./ToogleSwitch-B7D6MpUY.js";import"./MoreInfoPopover-BC6KphnW.js";import"./TextareaInput-Dg4vOWjy.js";import"./InputLabel-Jof9SgLQ.js";import"./SaveChangesAlert-BjzqQleC.js";import"./Alert-CITeqzk5.js";import"./UndoButton-DWuDryHd.js";import"./SpinningLoader-CW2_T6BH.js";import"./StatusDot-BK_Nc1P_.js";import"./BackButton-povxR_sG.js";import"./DeleteButton-BnYa0LyL.js";import"./CountrySelectInput-DNta3MjP.js";import"./SelectInput-BZ92Rmoq.js";import"./Datepicker-CV5QupJ-.js";const fe={mixins:[Q],components:{AddButton:ne,BasicModal:ie,ShineEffect:A,LineSkeleton:H,PrimaryButton:de,BackdropLoader:ce,BadgeIndicator:le,CategoryHeading:Z,CategoryOptions:z},data(){return{mappedCartProducts:{},storeState:k(),shoppingCartState:F()}},computed:{store(){return this.storeState.store},storeForm(){return this.storeState.storeForm},nonSelectedProducts(){return this.shoppingCartState.nonSelectedProducts},hasCartProducts(){return this.shoppingCartState.hasCartProducts(this.mappedCartProducts)},hasNonSelectedProducts(){return this.shoppingCartState.hasNonSelectedProducts},hasSearchTerm(){return this.shoppingCartState.hasSearchTerm},shoppingCart(){return this.shoppingCartState.shoppingCart},isLoadingNonSelectedProducts(){return this.shoppingCartState.isLoadingNonSelectedProducts},isSearchingNonSelectedProducts(){return this.shoppingCartState.isSearchingNonSelectedProducts}},methods:{hasQuantity(r){return this.shoppingCartState.hasQuantity(r,this.mappedCartProducts)},isAddedToCart(r){return this.shoppingCartState.isAddedToCart(r,this.mappedCartProducts)},addToCart(r){this.shoppingCartState.addToCart(r,"1",this.mappedCartProducts)},addSelectedToCart(r){Object.values(this.mappedCartProducts).forEach(n=>{this.shoppingCartState.removeFromCart(n.id,this.mappedCartProducts),this.shoppingCartState.addToCart(n,n.quantity)}),r()},increaseQuantity(r){this.shoppingCartState.increaseQuantity(r,"1",this.mappedCartProducts)},decreaseQuantity(r){this.shoppingCartState.decreaseQuantity(r,"1",this.mappedCartProducts)},removeFromCart(r){this.shoppingCartState.removeFromCart(r,this.mappedCartProducts)},clearSearch(){this.shoppingCartState.clearSearch()},showNonSelectedShoppingProducts(){this.shoppingCartState.showNonSelectedShoppingProducts()}}},we=o("h1",{class:"font-lg font-bold mb-2"},"Add Product",-1),Fe=o("p",{class:"text-sm text-gray-500 mb-4"},"Select items to add to your cart",-1),ke={class:"relative"},be={class:"divide-y"},Me={key:0},De=["onClick"],Te={class:"w-full"},Pe={class:"space-x-1"},Ie={key:0,class:"flex items-center space-x-4"},Ne={class:"flex items-center space-x-2"},Le=["onClick"],Be=o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),Oe=[Be],Ve=["onUpdate:modelValue"],Ae=["onClick"],He=o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),Ee=[He],$e=["onClick"],Re=o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"},null,-1),je=[Re],Ue={class:"whitespace-nowrap"},qe={key:1},Qe=o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z","clip-rule":"evenodd"})],-1),Ze=o("span",{class:"text-xs whitespace-nowrap"},"clear search",-1),ze=[Qe,Ze],Ge=o("span",{class:"ml-2"},"Add",-1);function We(r,n,_,y,u,e){const d=a("BackdropLoader"),l=a("LineSkeleton"),c=a("ShineEffect"),v=a("BadgeIndicator"),f=a("PrimaryButton"),I=a("AddButton"),B=a("BasicModal");return t(),g(B,{onShow:e.showNonSelectedShoppingProducts},{content:x(M=>[we,Fe,o("div",ke,[e.isLoadingNonSelectedProducts||e.isSearchingNonSelectedProducts?(t(),g(d,{key:0,showBorder:!1})):m("",!0),o("div",be,[e.isLoadingNonSelectedProducts||e.isSearchingNonSelectedProducts?(t(),s("div",Me,[(t(),s(w,null,P([1,2,3],(p,b)=>o("div",{key:b,class:N([{"border-t":b==0},"border-b border-l border-r shadow-sm py-6 px-4 bg-gray-50"])},[i(c,{class:"w-full flex items-center justify-between space-x-2"},{default:x(()=>[i(l,{width:"w-32"}),i(l,{width:"w-16"})]),_:1})],2)),64))])):(t(),s(w,{key:1},[e.hasNonSelectedProducts?(t(!0),s(w,{key:0},P(e.nonSelectedProducts,(p,b)=>(t(),s("div",{key:b,onClick:T(D=>e.isAddedToCart(p.id)?e.increaseQuantity(p.id):e.addToCart(p),["stop"]),style:h({"--product-background":e.storeForm.productBgColor,"--product-background-hover":e.storeForm.productHoverBgColor}),class:N(["flex justify-between items-center px-6 cursor-pointer bg-[var(--product-background)] hover:bg-[var(--product-background-hover)] transition-colors group",b===0?"pt-4 pb-2":"py-2"])},[o("div",Te,[o("span",{class:"text-sm text-[var(--product-name-color)] group-hover:text-[var(--product-name-color-hover)] transition-colors",style:h({"--product-name-color":e.storeForm.productNameColor,"--product-name-color-hover":e.storeForm.productHoverNameColor})},S(p.name),5),o("div",Pe,[p.allowVariations.name.toLowerCase()=="yes"?(t(),g(v,{key:0,type:"success",text:p.totalVisibleVariations+(p.totalVisibleVariations==1?" option":" options"),showDot:!1},null,8,["text"])):(t(),s(w,{key:1},[p.isFree.status?(t(),g(v,{key:0,type:"success",text:"free",showDot:!1})):m("",!0),p.onSale.status?(t(),g(v,{key:1,type:"success",text:"on sale",showDot:!1})):m("",!0),p.isFree.status?m("",!0):(t(),s("span",{key:2,class:"text-sm text-[var(--product-price-color)] group-hover:text-[var(--product-price-color-hover)] transition-colors",style:h({"--product-price-color":e.storeForm.productPriceColor,"--product-price-color-hover":e.storeForm.productHoverPriceColor})},S(p.unitPrice.amountWithCurrency),5))],64))])]),o("div",null,[i(O,{name:"fade-1",mode:"out-in"},{default:x(()=>[e.isAddedToCart(p.id)?(t(),s("div",Ie,[o("div",Ne,[e.hasQuantity(p.id)?(t(),s("svg",{key:0,onClick:T(()=>e.decreaseQuantity(p.id),["stop"]),class:"w-5 h-5 flex-shrink-0 text-red-500 cursor-pointer hover:opacity-90 active:opacity-80 active:scale-90 transition-all",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Oe,8,Le)):m("",!0),o("div",null,[pe(o("input",{min:"0",onClick:n[0]||(n[0]=T(()=>{},["stop"])),type:"number",placeholder:"...",onInput:n[1]||(n[1]=D=>r.validateQuantityInput(D)),"onUpdate:modelValue":D=>u.mappedCartProducts[p.id].quantity=D,style:h({"--product-quantity-color":e.storeForm.productQuantityColor,"--product-quantity-color-hover":e.storeForm.productHoverQuantityColor}),class:"w-10 border-0 rounded-full !ring-gray-300 remove-arrow p-0 bg-transparent text-center text-sm text-[var(--product-quantity-color)] group-hover:text-[var(--product-quantity-color-hover)] transition-colors"},null,44,Ve),[[he,u.mappedCartProducts[p.id].quantity]])]),(t(),s("svg",{onClick:T(()=>e.increaseQuantity(p.id),["stop"]),class:"w-5 h-5 flex-shrink-0 text-green-500 cursor-pointer hover:opacity-90 active:opacity-80 active:scale-90 transition-all",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Ee,8,Ae))]),(t(),s("svg",{onClick:T(()=>e.removeFromCart(p.id),["stop"]),class:"w-5 h-5 flex-shrink-0 text-gray-300 cursor-pointer hover:opacity-90 active:opacity-80 active:scale-90 transition-all",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},je,8,$e))])):(t(),g(f,{key:1,size:"xs",type:"custom",action:()=>e.addToCart(p),bgColor:e.storeForm.secondaryButtonColor,textColor:e.storeForm.secondaryButtonTextColor},{default:x(()=>[o("span",Ue,S(p.allowVariations.name.toLowerCase()=="yes"?"Select option":"Add to cart"),1)]),_:2},1032,["action","bgColor","textColor"]))]),_:2},1024)])],14,De))),128)):(t(),s("div",qe,[o("div",{class:"w-full flex justify-between items-center p-4 rounded-lg",style:h("color:"+e.storeForm.textColor+";background:"+e.storeForm.bgColor+";")},[i(O,{name:"fade-1",mode:"out-in"},{default:x(()=>[e.isSearchingNonSelectedProducts?(t(),s("span",{key:0,class:"text-xs inline-block",style:h("color:"+e.storeForm.textColor+";")},"Searching...",4)):(t(),s("span",{key:1,class:"text-xs inline-block",style:h("color:"+e.storeForm.textColor+";")},S(e.hasCartProducts?"selected every product":"No products found"),5))]),_:1}),!e.isSearchingNonSelectedProducts&&e.hasSearchTerm?(t(),g(f,{key:0,size:"xs",type:"custom",action:e.clearSearch,bgColor:e.storeForm.secondaryButtonColor,textColor:e.storeForm.secondaryButtonTextColor},{default:x(()=>[o("div",{class:"flex items-center space-x-1",style:h("color:"+e.storeForm.textColor+";")},ze,4)]),_:1},8,["action","bgColor","textColor"])):m("",!0)],4)]))],64))])]),e.hasNonSelectedProducts?(t(),g(f,{key:0,size:"sm",class:"mt-4",type:"custom",disabled:!e.hasCartProducts,bgColor:e.storeForm.primaryButtonColor,textColor:e.storeForm.primaryButtonTextColor,action:()=>e.addSelectedToCart(M.hideModal)},{default:x(()=>[V(" Add ")]),_:2},1032,["disabled","bgColor","textColor","action"])):m("",!0)]),trigger:x(M=>[ue(r.$slots,"trigger",{showModal:M.showModal},()=>[i(I,{size:"sm",class:"m-4",type:"custom",action:M.showModal,bgColor:e.storeForm.primaryButtonColor,textColor:e.storeForm.primaryButtonTextColor},{default:x(()=>[Ge]),_:2},1032,["action","bgColor","textColor"])])]),_:3},8,["onShow"])}const Ke=C(fe,[["render",We]]),Ye={components:{CartTotals:E,ProductLines:G,NoProductLines:W,AddProductModal:Ke},data(){return{storeState:k(),shoppingCartState:F()}},computed:{storeForm(){return this.storeState.storeForm},hasCartProducts(){return this.shoppingCartState.hasCartProducts()},hasShoppingCartProducts(){return this.shoppingCartState.hasShoppingCartProducts},isInspectingShoppingCart(){return this.shoppingCartState.isInspectingShoppingCart}}},Je=o("p",{class:"font-bold p-4"},"Items",-1);function Xe(r,n,_,y,u,e){const d=a("ProductLines"),l=a("NoProductLines"),c=a("AddProductModal");return t(),s("div",{style:h("background:"+e.storeForm.cardSecondaryColor+";"),class:"md:max-w-lg mx-4 mb-4 md:mx-auto rounded-lg shadow-lg space-y-4 p-4 overflow-hidden"},[Je,e.hasCartProducts&&(e.isInspectingShoppingCart||e.hasShoppingCartProducts)?(t(),g(d,{key:0})):(t(),g(l,{key:1,class:"border-t"})),i(c)],4)}const et=C(Ye,[["render",Xe]]),tt={methods:{navigateToStorefront(){this.$router.push({name:"storefront"})}}},rt=o("svg",{class:"text-black w-4 h-4 sm:w-6 sm:h-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M9.53 2.47a.75.75 0 0 1 0 1.06L4.81 8.25H15a6.75 6.75 0 0 1 0 13.5h-3a.75.75 0 0 1 0-1.5h3a5.25 5.25 0 1 0 0-10.5H4.81l4.72 4.72a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})],-1),ot=o("span",{class:"font-bold text-xs whitespace-nowrap"},"Shop",-1),st=[rt,ot];function at(r,n,_,y,u,e){return t(),s("div",{onClick:n[0]||(n[0]=()=>e.navigateToStorefront()),class:"flex justify-center items-center space-x-2 bg-white/75 border border-white px-4 py-2 rounded-full cursor-pointer hover:opacity-90 hover:px-6 active:opacity-80 active:scale-90 transition-all duration-300"},st)}const nt=C(tt,[["render",at]]),it={mixins:[L],components:{EmailInput:me},data(){return{shoppingCartState:F()}},computed:{shoppingCartForm(){return this.shoppingCartState.shoppingCartForm}}};function dt(r,n,_,y,u,e){const d=a("EmailInput");return t(),g(d,{label:"Email",modelValue:e.shoppingCartForm.customer.email,"onUpdate:modelValue":n[0]||(n[0]=l=>e.shoppingCartForm.customer.email=l),errorText:r.getFormError("email")},null,8,["modelValue","errorText"])}const ct=C(it,[["render",dt]]),lt={mixins:[L],components:{TextInput:$},data(){return{shoppingCartState:F()}},computed:{shoppingCartForm(){return this.shoppingCartState.shoppingCartForm}}};function pt(r,n,_,y,u,e){const d=a("TextInput");return t(),g(d,{label:"Last Name",errorText:r.getFormError("lastName"),modelValue:e.shoppingCartForm.customer.lastName,"onUpdate:modelValue":n[0]||(n[0]=l=>e.shoppingCartForm.customer.lastName=l)},null,8,["errorText","modelValue"])}const ht=C(lt,[["render",pt]]),ut={mixins:[L],components:{TextInput:$},data(){return{shoppingCartState:F()}},computed:{shoppingCartForm(){return this.shoppingCartState.shoppingCartForm}}};function mt(r,n,_,y,u,e){const d=a("TextInput");return t(),g(d,{label:"First Name",errorText:r.getFormError("firstName"),modelValue:e.shoppingCartForm.customer.firstName,"onUpdate:modelValue":n[0]||(n[0]=l=>e.shoppingCartForm.customer.firstName=l)},null,8,["errorText","modelValue"])}const gt=C(ut,[["render",mt]]),Ct={mixins:[L],components:{MobileNumberInput:ge},data(){return{shoppingCartState:F()}},computed:{shoppingCartForm(){return this.shoppingCartState.shoppingCartForm}}};function _t(r,n,_,y,u,e){const d=a("MobileNumberInput");return t(),g(d,{label:"Mobile Number",modelValue:e.shoppingCartForm.customer.mobileNumber,"onUpdate:modelValue":n[0]||(n[0]=l=>e.shoppingCartForm.customer.mobileNumber=l),errorText:r.getFormError("ussdMobileNumber")},null,8,["modelValue","errorText"])}const yt=C(Ct,[["render",_t]]),vt={components:{CustomerEmailTextInput:ct,CustomerLastNameTextInput:ht,CustomerFirstNameTextInput:gt,CustomerMobileNumberTextInput:yt},data(){return{storeState:k()}},computed:{storeForm(){return this.storeState.storeForm}}},St=o("p",{class:"font-bold"},"Customer",-1),xt={class:"grid grid-cols-2 gap-4"};function ft(r,n,_,y,u,e){const d=a("CustomerFirstNameTextInput"),l=a("CustomerLastNameTextInput"),c=a("CustomerMobileNumberTextInput"),v=a("CustomerEmailTextInput");return t(),s("div",{style:h("background:"+e.storeForm.cardSecondaryColor+";"),class:"md:max-w-lg mx-4 mb-4 md:mx-auto rounded-lg shadow-lg space-y-4 p-4"},[St,o("div",xt,[i(d),i(l)]),i(c),i(v)],4)}const wt=C(vt,[["render",ft]]),Ft={data(){return{storeState:k()}},computed:{storeForm(){return this.storeState.storeForm}}};function kt(r,n,_,y,u,e){return t(),s("h2",{class:"text-2xl md:text-3xl font-bold text-center mb-4",style:h("color:"+e.storeForm.textColor+";")}," Checkout ",4)}const bt=C(Ft,[["render",kt]]),Mt={components:{CartTotals:E},data(){return{storeState:k(),shoppingCartState:F()}},computed:{storeForm(){return this.storeState.storeForm},hasCartProducts(){return this.shoppingCartState.hasCartProducts()},hasShoppingCartProducts(){return this.shoppingCartState.hasShoppingCartProducts},isInspectingShoppingCart(){return this.shoppingCartState.isInspectingShoppingCart}}},Dt=o("p",{class:"font-bold p-4"},"Order Summary",-1);function Tt(r,n,_,y,u,e){const d=a("CartTotals");return e.hasCartProducts&&(e.isInspectingShoppingCart||e.hasShoppingCartProducts)?(t(),s("div",{key:0,style:h("background:"+e.storeForm.cardSecondaryColor+";"),class:"md:max-w-lg mx-4 mb-4 md:mx-auto rounded-lg shadow-lg"},[Dt,i(d)],4)):m("",!0)}const Pt=C(Mt,[["render",Tt]]),It={components:{ShineEffect:A,LineSkeleton:H,InputErrorMessage:Ce},data(){return{storeState:k(),shoppingCartState:F()}},computed:{storeForm(){return this.storeState.storeForm},shoppingCart(){return this.shoppingCartState.shoppingCart},hasShoppingCart(){return this.shoppingCartState.hasShoppingCart},shoppingCartForm(){return this.shoppingCartState.shoppingCartForm},deliveryMethods(){return this.shoppingCartState.deliveryMethods},totalDeliveryMethods(){return this.shoppingCartState.totalDeliveryMethods},hasDeliveryMethods(){return this.shoppingCartState.hasDeliveryMethods},deliveryMethodTips(){return(((this.shoppingCart||{}).delivery||{}).method||{}).tips||[]},hasDeliveryMethodUnavailabilityReasons(){return this.deliveryMethodUnavailabilityReasons.length>0},deliveryMethodUnavailabilityReasons(){return(((this.shoppingCart||{}).delivery||{}).method||{}).unavailabilityReasons||[]},isInspectingShoppingCart(){return this.shoppingCartState.isInspectingShoppingCart},selectedDeliveryMethod(){return this.deliveryMethods.find(r=>r.id==this.shoppingCartForm.deliveryMethodId)}},methods:{async showShoppingDeliveryMethods(){await this.shoppingCartState.showShoppingDeliveryMethods()},inspectStoreShoppingCart(){return this.shoppingCartState.inspectStoreShoppingCart()},itemClasses(r){return this.isFirstItem(r)?"pt-4 pb-2":this.isLastItem(r)?"pt-2 pb-4":"py-2"},isFirstItem(r){return r==0},isLastItem(r){return r==this.totalDeliveryMethods-1},usesFlatFee(r){return r.feeType.toLowerCase()=="flat fee"},usesPercentageFee(r){return r.feeType.toLowerCase()=="percentage fee"},usesFeeByDistance(r){return r.feeType.toLowerCase()=="fee by distance"},setDeliveryMethod(r){this.shoppingCartState.setDeliveryMethod(r)},isSelectedDeliveryMethod(r){return this.shoppingCartState.isSelectedDeliveryMethod(r)}},created(){this.showShoppingDeliveryMethods()}},Nt={key:0,class:"divide-y border-t"},Lt=["onClick"],Bt={class:"flex items-center space-x-2"},Ot={key:0,class:"w-4 h-4 md:w-6 md:h-6 flex-shrink-0 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},Vt=o("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"},null,-1),At=[Vt],Ht={key:1,class:"w-4 h-4 md:w-6 md:h-6 flex-shrink-0 flex justify-center items-center"},Et=o("div",{class:"w-4 h-4 bg-gray-100 border rounded-full"},null,-1),$t=[Et],Rt={key:1,class:"flex items-center space-x-1 md:space-x-2"},jt=o("svg",{class:"w-4 h-4 md:w-6 md:h-6 flex-shrink-0 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1),Ut={class:"font-medium text-red-500 text-xs md:text-sm"},qt={key:1,class:"flex items-center space-x-1 md:space-x-2"},Qt=o("svg",{class:"w-4 h-4 md:w-6 md:h-6 flex-shrink-0 text-green-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1),Zt={class:"font-medium text-green-500 text-xs md:text-sm"};function zt(r,n,_,y,u,e){const d=a("LineSkeleton"),l=a("ShineEffect");return e.hasDeliveryMethods?(t(),s("div",Nt,[(t(!0),s(w,null,P(e.deliveryMethods,(c,v)=>(t(),s("div",{key:v,onClick:T(f=>e.setDeliveryMethod(c),["stop"]),style:h({"--product-background":e.storeForm.productBgColor,"--product-background-hover":e.storeForm.productHoverBgColor}),class:N([e.itemClasses(v),"flex justify-between items-center pl-4 pr-2 cursor-pointer bg-[var(--product-background)] hover:bg-[var(--product-background-hover)] transition-colors group"])},[o("div",Bt,[i(O,{name:"fade-1",mode:"out-in"},{default:x(()=>[e.isSelectedDeliveryMethod(c)?(t(),s("svg",Ot,At)):(t(),s("div",Ht,$t))]),_:2},1024),o("div",null,[o("p",{class:"font-bold text-xs md:text-sm text-[var(--product-name-color)] group-hover:text-[var(--product-name-color-hover)] transition-colors",style:h({"--product-name-color":e.storeForm.productNameColor,"--product-name-color-hover":e.storeForm.productHoverNameColor})},S(c.name),5),c.chargeFee?(t(),s(w,{key:0},[e.usesFlatFee(c)?(t(),s("p",{key:0,class:"text-xs md:text-sm text-[var(--product-name-color)] group-hover:text-[var(--product-name-color-hover)] transition-colors",style:h({"--product-name-color":e.storeForm.productNameColor,"--product-name-color-hover":e.storeForm.productHoverNameColor})}," Flat fee of "+S(c.flatFeeRate.amountWithCurrency),5)):e.usesPercentageFee(c)?(t(),s("p",{key:1,class:"text-xs md:text-sm text-[var(--product-name-color)] group-hover:text-[var(--product-name-color-hover)] transition-colors",style:h({"--product-name-color":e.storeForm.productNameColor,"--product-name-color-hover":e.storeForm.productHoverNameColor})}," Percentage fee of "+S(c.percentageFeeRate.valueSymbol),5)):m("",!0)],64)):m("",!0),c.qualifyOnMinimumGrandTotal?(t(),s("p",{key:1,class:"text-xs md:text-sm text-[var(--product-name-color)] group-hover:text-[var(--product-name-color-hover)] transition-colors",style:h({"--product-name-color":e.storeForm.productNameColor,"--product-name-color-hover":e.storeForm.productHoverNameColor})}," Minimum order amount is "+S(c.minimumGrandTotal.amountWithCurrency),5)):m("",!0),o("p",{class:"text-xs md:text-sm text-[var(--product-name-color)] group-hover:text-[var(--product-name-color-hover)] transition-colors",style:h({"--product-name-color":e.storeForm.productNameColor,"--product-name-color-hover":e.storeForm.productHoverNameColor})},S(c.description),5)])])],14,Lt))),128)),(t(!0),s(w,null,P(e.deliveryMethodUnavailabilityReasons,(c,v)=>(t(),s("div",{key:v,class:"py-2 px-4"},[e.isInspectingShoppingCart?(t(),g(l,{key:0},{default:x(()=>[i(d,{width:"w-1/3"})]),_:1})):(t(),s("div",Rt,[jt,o("span",Ut,S(c),1)]))]))),128)),e.hasDeliveryMethodUnavailabilityReasons?m("",!0):(t(!0),s(w,{key:0},P(e.deliveryMethodTips,(c,v)=>(t(),s("div",{key:v,class:"py-2 px-4"},[e.isInspectingShoppingCart?(t(),g(l,{key:0},{default:x(()=>[i(d,{width:"w-1/3"})]),_:1})):(t(),s("div",qt,[Qt,o("span",Zt,S(c),1)]))]))),128))])):m("",!0)}const Gt=C(It,[["render",zt]]),Wt={components:{GoogleMaps:_e,AddressInput:ye},data(){return{latitude:40.689247,longitude:-74.044502,shoppingCartState:F()}},computed:{markers(){return[{options:{position:{lat:this.latitude,lng:this.longitude},title:"LADY LIBERTY",gmpDraggable:!0},pinOptions:{background:"#1f87e8",borderColor:"#FBBC04",glyphColor:"#FBBC04"}}]},deliveryMethod(){return this.shoppingCartState.deliveryMethod},shoppingCartForm(){return this.shoppingCartState.shoppingCartForm},deliveryMethodRequiresSchedule(){return this.deliveryMethod&&this.deliveryMethod.setSchedule}},methods:{setAddress(r){},setValidatedAddressForm(r){},onDeletedAddress(){}}};function Kt(r,n,_,y,u,e){const d=a("AddressInput");return t(),s("div",null,[i(d,{title:"Destination",onOnCreated:e.setAddress,onOnUpdated:e.setAddress,requireLocationOnMap:!0,onOnDeleted:e.onDeletedAddress,onOnValidated:e.setValidatedAddressForm,subtitle:"Add the address to deliver your order"},null,8,["onOnCreated","onOnUpdated","onOnDeleted","onOnValidated"])])}const Yt=C(Wt,[["render",Kt]]),Jt={mixins:[ve],components:{ShineEffect:A,LineSkeleton:H,DeliveryDatePicker:Se,DeliveryTimePicker:xe},data(){return{scheduleOptions:{},showScheduleSummary:!0,isLoadingDateOptions:!1,isLoadingTimeOptions:!1,shoppingCartState:F()}},watch:{"shoppingCartForm.deliveryDate"(){this.inspectStoreShoppingCart()},"shoppingCartForm.deliveryTimeslot"(){this.inspectStoreShoppingCart()}},computed:{shoppingCart(){return this.shoppingCartState.shoppingCart},deliveryMethod(){return this.shoppingCartState.deliveryMethod},shoppingCartForm(){return this.shoppingCartState.shoppingCartForm},isInspectingShoppingCart(){return this.shoppingCartState.isInspectingShoppingCart},scheduleKeyPoints(){return this.scheduleOptions.scheduleKeyPoints||[]},deliveryMethodRequiresSchedule(){return this.deliveryMethod&&this.deliveryMethod.setSchedule},deliveryMethodScheduleIncompleteReasons(){return((this.shoppingCart||{}).schedule||{}).incompleteReasons||[]}},methods:{inspectStoreShoppingCart(){return this.shoppingCartState.inspectStoreShoppingCart()},setScheduleOptions(r){this.scheduleOptions=r},onIsLoadingDateOptions(r){this.shoppingCartForm.deliveryDate=null,this.shoppingCartForm.deliveryTimeslot=null,this.isLoadingDateOptions=r},onIsLoadingTimeOptions(r){this.shoppingCartForm.deliveryTimeslot=null,this.isLoadingTimeOptions=r},toggleScheduleSummary(){this.showScheduleSummary=!this.showScheduleSummary,this.shoppingCartForm.deliveryDate=null,this.shoppingCartForm.deliveryTimeslot=null}}},Xt={key:0,class:"border-t-2 bg-gray-50 space-y-4 p-4"},er={class:"space-y-2"},tr=o("p",{class:"font-bold text-md"},"Schedule",-1),rr={class:"text-sm text-gray-500"},or={key:0},sr={key:1,class:"space-y-2 border-t border-dashed pt-4"},ar={key:0,class:"text-sm"},nr=o("span",null,"Delivery date: ",-1),ir={class:"font-bold"},dr={key:1,class:"text-sm"},cr=o("span",null,"Delivery time: ",-1),lr={class:"font-bold"},pr={key:1,class:"flex items-center space-x-1 md:space-x-2"},hr=o("svg",{class:"w-4 h-4 md:w-6 md:h-6 flex-shrink-0 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1),ur={class:"font-medium text-red-500 text-xs md:text-sm"};function mr(r,n,_,y,u,e){const d=a("DeliveryDatePicker"),l=a("DeliveryTimePicker"),c=a("LineSkeleton"),v=a("ShineEffect");return e.deliveryMethodRequiresSchedule?(t(),s("div",Xt,[o("div",er,[tr,o("div",null,[o("p",rr,[e.deliveryMethod.scheduleType=="date"?(t(),s(w,{key:0},[V("Specify the delivery date for your order")],64)):e.deliveryMethod.scheduleType=="date and time"?(t(),s(w,{key:1},[V("Specify the delivery date and time for your order")],64)):m("",!0)])])]),o("div",null,[i(d,{deliveryMethod:e.deliveryMethod,onIsLoading:e.onIsLoadingDateOptions,onScheduleOptions:e.setScheduleOptions,modelValue:e.shoppingCartForm.deliveryDate,"onUpdate:modelValue":n[0]||(n[0]=f=>e.shoppingCartForm.deliveryDate=f)},null,8,["deliveryMethod","onIsLoading","onScheduleOptions","modelValue"])]),e.shoppingCartForm.deliveryDate&&!u.isLoadingDateOptions&&e.deliveryMethod.scheduleType=="date and time"?(t(),s("div",or,[i(l,{class:"w-full",deliveryMethod:e.deliveryMethod,onIsLoading:e.onIsLoadingTimeOptions,onScheduleOptions:e.setScheduleOptions,modelValue:e.shoppingCartForm.deliveryTimeslot,"onUpdate:modelValue":n[1]||(n[1]=f=>e.shoppingCartForm.deliveryTimeslot=f),deliveryDate:e.shoppingCartForm.deliveryDate},null,8,["deliveryMethod","onIsLoading","onScheduleOptions","modelValue","deliveryDate"])])):m("",!0),e.shoppingCartForm.deliveryDate||e.shoppingCartForm.deliveryTimeslot?(t(),s("div",sr,[e.shoppingCartForm.deliveryDate?(t(),s("div",ar,[nr,o("span",ir,S(e.shoppingCartForm.deliveryDate)+" ("+S(r.customFormattedDate(e.shoppingCartForm.deliveryDate,"ddd"))+") ",1)])):m("",!0),e.shoppingCartForm.deliveryTimeslot?(t(),s("div",dr,[cr,o("span",lr,S(e.shoppingCartForm.deliveryTimeslot),1)])):m("",!0)])):m("",!0),(t(!0),s(w,null,P(e.deliveryMethodScheduleIncompleteReasons,(f,I)=>(t(),s("div",{key:I},[e.isInspectingShoppingCart?(t(),g(v,{key:0},{default:x(()=>[i(c,{width:"w-1/3"})]),_:1})):(t(),s("div",pr,[hr,o("span",ur,S(f),1)]))]))),128))])):m("",!0)}const gr=C(Jt,[["render",mr]]),Cr={components:{DeliveryMethods:Gt,DeliveryMethodMap:Yt,DeliveryMethodScedule:gr}};function _r(r,n,_,y,u,e){const d=a("DeliveryMethods"),l=a("DeliveryMethodScedule"),c=a("DeliveryMethodMap");return t(),s("div",null,[i(d),i(l),i(c)])}const yr=C(Cr,[["render",_r]]),vr={},Sr={class:"font-bold px-4"};function xr(r,n,_,y,u,e){return t(),s("p",Sr,"Delivery")}const fr=C(vr,[["render",xr]]),wr={components:{CheckoutCardBody:K,DeliveryMethodsCardBody:yr,DeliveryMethodsCardHeading:fr},data(){return{storeState:k()}},computed:{storeForm(){return this.storeState.storeForm}}};function Fr(r,n,_,y,u,e){const d=a("DeliveryMethodsCardHeading"),l=a("DeliveryMethodsCardBody");return t(),s("div",{style:h("background:"+e.storeForm.cardSecondaryColor+";"),class:"md:max-w-lg mx-4 mb-4 md:mx-auto rounded-lg shadow-lg space-y-4 pt-4 overflow-hidden"},[i(d),i(l)],4)}const kr=C(wr,[["render",Fr]]),br={components:{ItemsCard:et,StoreLogo:Y,StoreName:J,CheckoutHeading:bt,GrandTotal:X,StoreBanner:ee,ReturnToShop:nt,CustomerCard:wt,CreateStoreLink:te,OrderSummaryCard:Pt,StoreFooterMenus:re,StoreDescription:oe,CustomizeDrawer:se,DeliveryMethodsCard:kr,ShoppingCartDrawer:ae},data(){return{storeState:k(),delayedInspectStoreShoppingCart:null,shoppingCartState:F()}},watch:{"shoppingCartState.mappedCartProducts":{handler(r){Object.keys(this.mappedCartProducts).length===0&&this.closeShoppingCartDrawer(),this.isInspectingShoppingCart||(this.setIsInspectingShoppingCart(),this.delayedInspectStoreShoppingCart())},deep:!0}},computed:{store(){return this.storeState.store},storeForm(){return this.storeState.storeForm},shoppingCart(){return this.shoppingCartState.shoppingCart},mappedCartProducts(){return this.shoppingCartState.mappedCartProducts}},methods:{setStoreForm(){return this.storeState.setStoreForm(this.store)},setShoppingCartForm(){return this.shoppingCartState.setShoppingCartForm()},closeShoppingCartDrawer(){return this.shoppingCartState.closeShoppingCartDrawer()},inspectStoreShoppingCart(){return this.shoppingCartState.inspectStoreShoppingCart()},setIsInspectingShoppingCart(){return this.shoppingCartState.setIsInspectingShoppingCart(!0)}},created(){this.setStoreForm(),this.setShoppingCartForm(),this.delayedInspectStoreShoppingCart=q(()=>{this.inspectStoreShoppingCart()},1e3)}},Mr={class:"w-full max-w-lg mx-auto mt-20 mb-4"},Dr={class:"w-full max-w-lg mx-auto mb-4 flex justify-center items-center space-x-4"};function Tr(r,n,_,y,u,e){const d=a("StoreBanner"),l=a("StoreLogo"),c=a("StoreName"),v=a("CheckoutHeading"),f=a("GrandTotal"),I=a("ReturnToShop"),B=a("CustomerCard"),M=a("ItemsCard"),p=a("DeliveryMethodsCard"),b=a("OrderSummaryCard"),D=a("StoreFooterMenus"),R=a("CreateStoreLink"),j=a("CustomizeDrawer"),U=a("ShoppingCartDrawer");return t(),s("div",{class:N(["flex flex-col justify-center relative"]),style:h("background:"+e.storeForm.bgColor+";")},[i(d),o("div",Mr,[i(l),i(c,{size:"text-base sm:text-lg"}),i(v)]),o("div",Dr,[i(f),i(I)]),i(B),i(M),i(p),i(b),i(D),i(R),i(j),i(U)],4)}const Co=C(br,[["render",Tr]]);export{Co as default};
