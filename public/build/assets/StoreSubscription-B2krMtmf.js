import{P as v}from"./Pill-CNWbwQ3o.js";import{F as S}from"./FormMixin-6JkaGLLr.js";import{B as w}from"./Button-BeSnAT_x.js";import{U as y}from"./form-store-C265_0LO.js";import{u as k}from"./store-store-DI9g0YE3.js";import{g as P}from"./api-repository--xE_j9dL.js";import{S as L}from"./SpinningLoader-BdvFuScB.js";import{M}from"./MoreInfoPopover-DuLCv7tU.js";import{c,b as t,d as o,w as l,F as m,t as e,k as B,r as d,o as p,h}from"./app-jXH5QC3l.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ShineEffect-DfG5M4Ts.js";import"./cloneDeep-B1YGuKb7.js";const T={mixins:[S,y],components:{Pill:v,Button:w,SpinningLoader:L,MoreInfoPopover:M},data(){return{subscription:null,subscriptionHref:null,storeState:k(),isLoadingSubscription:!1}},computed:{store(){return this.storeState.store},transaction(){return this.subscription._relationships.transaction},pricingPlan(){return this.subscription._relationships.pricingPlan},getStatusType(){const n=this.subscription._attributes.status.toLowerCase();return n=="active"?"success":n=="expired"?"warning":"light"}},methods:{showSubscription(){this.isLoadingSubscription=!0;let s={_relationships:["transaction","pricingPlan"].join(",")};P(this.$route.params.subscription_href,s).then(r=>{r.status==200&&r.data.exists&&(this.subscription=r.data.subscription),this.isLoadingSubscription=!1}).catch(r=>{this.isLoadingSubscription=!1,this.setServerFormErrors(r)})},navigateToSubscriptions(){this.$router.push({name:"show-store-subscriptions",params:{store_href:this.store._links.showStore}})}},created(){this.showSubscription()}},j={class:"min-h-screen relative overflow-hidden pb-80"},I={class:"z-10 pt-32 px-20 relative"},z={class:"flex justify-center items-center mb-8"},D={class:"flex justify-center space-x-4 mb-8"},F={class:"animated-border-blue w-96 bg-white py-4 px-4 shadow-sm rounded-xl"},W={class:"flex justify-center my-8"},A={class:"flex items-center space-x-2 mb-4"},E={class:"text-sm mb-4"},H={class:"flex items-center space-x-2 mb-4"},N={class:"flex items-center space-x-2"},V={class:"whitespace-normal text-xs space-y-2 mt-4"},U={class:"flex space-x-4 items-center border-b border-dashed pb-4 mb-4"},q={class:"flex items-center space-x-2 text-xs"},G={class:"text-xs"},J={class:"flex items-center space-x-2 text-xs"},K={class:"text-xs"},O={class:"text-3xl font-bold space-x-1 mb-4"},Q={class:"bg-blue-50 border border-blue-500 p-4 rounded-lg mb-4"},R={class:"text-blue-500 text-xs"},X={class:"flex items-center space-x-2 text-xs"},Y={class:"text-gray-400"};function Z(n,s,r,$,a,i){const b=d("Button"),f=d("SpinningLoader"),u=d("Pill"),x=d("MoreInfoPopover");return p(),c("div",j,[t("div",I,[t("div",z,[o(b,{onClick:i.navigateToSubscriptions,type:"light",size:"xs"},{default:l(()=>s[0]||(s[0]=[t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75 3 12m0 0 3.75-3.75M3 12h18"})],-1),t("span",null,"Subscriptions",-1)])),_:1},8,["onClick"])]),t("div",D,[t("div",F,[s[6]||(s[6]=t("h1",{class:"text-xl font-bold mb-4"}," Subscription ",-1)),a.isLoadingSubscription?(p(),c(m,{key:0},[s[1]||(s[1]=t("p",{class:"text-sm text-gray-500"}," Hang tight! We're checking the subscription status ",-1)),t("div",W,[o(f)])],64)):(p(),c(m,{key:1},[t("div",A,[o(u,{type:"light",size:"xs"},{default:l(()=>[h(e(i.pricingPlan.name),1)]),_:1}),s[2]||(s[2]=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"})],-1)),o(u,{type:"light",size:"xs"},{default:l(()=>[h(e(i.store.name),1)]),_:1})]),t("h2",E,e(i.transaction.description),1),t("div",H,[s[3]||(s[3]=t("span",{class:"font-bold text-xs"},"Status: ",-1)),t("div",N,[o(u,{type:i.getStatusType,size:"xs"},{default:l(()=>[h(e(a.subscription._attributes.status),1)]),_:1},8,["type"]),o(x,{title:"What Is This?",placement:"top"},{description:l(()=>[t("p",V,e(a.subscription._attributes.statusDescription),1)]),_:1})])]),t("div",U,[t("div",q,[s[4]||(s[4]=t("span",{class:"font-bold text-xs"},"Start: ",-1)),t("span",G,e(n.formattedDate(a.subscription.startAt)),1)]),t("div",J,[s[5]||(s[5]=t("span",{class:"font-bold text-xs"},"End: ",-1)),t("span",K,e(n.formattedDate(a.subscription.endAt)),1)])]),t("h2",O,[t("span",null,e(i.transaction.amount.amountWithCurrency),1)]),t("div",Q,[(p(!0),c(m,null,B(i.pricingPlan.features,(_,g)=>(p(),c("div",{key:g},[t("span",R,e(_),1)]))),128))]),t("div",X,[t("span",Y,e(a.subscription.id),1),o(x,{title:"What Is This?",description:"This is the subscription ID",placement:"top"})])],64))])])]),s[7]||(s[7]=t("img",{src:"/images/clouds.png",class:"absolute top-32"},null,-1))])}const ut=C(T,[["render",Z]]);export{ut as default};
