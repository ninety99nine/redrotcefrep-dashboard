import{P as u}from"./Pill-CNWbwQ3o.js";import{L as m}from"./LineSkeleton-3g5h70H3.js";import{M as _}from"./MoreInfoPopover-DuLCv7tU.js";import{A as C,r as t,o as s,c as o,e as f,F as g,d as n,w as h,h as O,t as y,n as S}from"./app-jXH5QC3l.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as p,i as I}from"./cloneDeep-B1YGuKb7.js";const P=C("order",{state:()=>({order:null,orderForm:null,isLoadingOrder:!1,isCreatingOrder:!1,isUpdatingOrder:!1,isDeletingOrder:!1,originalOrderForm:null}),actions:{setOrder(e){this.order=e},setIsLoadingOrder(e){this.isLoadingOrder=e},setIsCreatingOrder(e){this.isCreatingOrder=e},setIsUpdatingOrder(e){this.isUpdatingOrder=e},setIsDeletingOrder(e){this.isDeletingOrder=e},setEmptyOrderForm(){this.orderForm={storeNote:null,courierId:null,status:"Waiting",trackingNumber:null,paymentStatus:"Unpaid"},this.setOriginalOrderForm()},setOrderForm(e){this.orderForm={status:e.status.name,storeNote:e.storeNote,courierId:e.status.courierId,trackingNumber:e.trackingNumber,paymentStatus:e.paymentStatus.name},this.setOriginalOrderForm()},setOriginalOrderForm(){this.originalOrderForm=p(this.orderForm)}},getters:{hasOrder(){return this.order!=null},formHasChanged(){var e=p(this.orderForm),c=p(this.originalOrderForm);return!I(e,c)},mustSaveChanges(){return this.formHasChanged&&!this.isSubmitting}}}),x={components:{Pill:u,LineSkeleton:m,MoreInfoPopover:_},props:{order:{type:Object,default:null},isLoadingOrder:{type:Boolean,default:null},moreInfoPopoverClasses:{type:String}},data(){return{orderState:P()}},computed:{_order(){return this.order??this.orderState.order},_isLoadingOrder(){return this.isLoadingOrder??this.orderState.isLoadingOrder},description(){return this._order._attributes.isCancelled&&this._order.cancellationReason!=null?this._order.cancellationReason:this._order.status.description},type(){const e=this._order.status.name.toLowerCase();if(e==="completed")return"success";if(e==="waiting")return"light";if(e==="on its way"||e==="ready for pickup")return"primary";if(e==="cancelled")return"warning"}}},w={class:"flex items-center space-x-2"};function F(e,c,i,k,v,r){const a=t("LineSkeleton"),d=t("Pill"),l=t("MoreInfoPopover");return s(),o("div",w,[r._isLoadingOrder?(s(),f(a,{key:0,width:"w-24",shine:!0})):(s(),o(g,{key:1},[n(d,{type:r.type,size:"xs"},{default:h(()=>[O(y(r._order.status.name),1)]),_:1},8,["type"]),n(l,{class:S(i.moreInfoPopoverClasses),description:r._order.paymentStatus.description,placement:"top"},null,8,["class","description"])],64))])}const R=L(x,[["render",F]]),N={components:{Pill:u,LineSkeleton:m,MoreInfoPopover:_},props:{order:{type:Object,default:null},isLoadingOrder:{type:Boolean,default:null},moreInfoPopoverClasses:{type:String}},data(){return{orderState:P()}},computed:{_order(){return this.order??this.orderState.order},_isLoadingOrder(){return this.isLoadingOrder??this.orderState.isLoadingOrder},type(){const e=this._order.paymentStatus.name.toLowerCase();if(e==="paid")return"success";if(e==="unpaid")return"light";if(e==="partially paid")return"primary";if(e==="pending payment")return"warning"}}},b={class:"flex items-center space-x-2"};function M(e,c,i,k,v,r){const a=t("LineSkeleton"),d=t("Pill"),l=t("MoreInfoPopover");return s(),o("div",b,[r._isLoadingOrder?(s(),f(a,{key:0,width:"w-24",shine:!0})):(s(),o(g,{key:1},[n(d,{type:r.type,size:"xs"},{default:h(()=>[O(y(r._order.paymentStatus.name),1)]),_:1},8,["type"]),n(l,{class:S(i.moreInfoPopoverClasses),description:r._order.paymentStatus.description,placement:"top"},null,8,["class","description"])],64))])}const q=L(N,[["render",M]]),B={components:{Pill:u,LineSkeleton:m,MoreInfoPopover:_},props:{order:{type:Object,default:null},isLoadingOrder:{type:Boolean,default:null},moreInfoPopoverClasses:{type:String}},data(){return{orderState:P()}},computed:{_order(){return this.order??this.orderState.order},_isLoadingOrder(){return this.isLoadingOrder??this.orderState.isLoadingOrder}}},D={class:"flex items-center space-x-2"};function V(e,c,i,k,v,r){const a=t("LineSkeleton"),d=t("Pill"),l=t("MoreInfoPopover");return s(),o("div",D,[r._isLoadingOrder?(s(),f(a,{key:0,width:"w-24",shine:!0})):(s(),o(g,{key:1},[n(d,{type:r._order.collectionVerified.status?"success":"warning",size:"xs"},{default:h(()=>[O(y(r._order.collectionVerified.name),1)]),_:1},8,["type"]),n(l,{class:S(i.moreInfoPopoverClasses),description:r._order.collectionVerified.description,placement:"top"},null,8,["class","description"])],64))])}const A=L(B,[["render",V]]);export{A as C,q as P,R as S,P as u};
