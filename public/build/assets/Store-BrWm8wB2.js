import{A as G}from"./Alert-BHnqwbfj.js";import{F as L,u as Q}from"./FormMixin-CYiBG1ca.js";import{u as r}from"./store-store-C2_eLuQh.js";import{T as V}from"./TextHeader-Cdgnrugi.js";import{g as f}from"./api-repository-C4cDgx_E.js";import{S as H,L as C}from"./LineSkeleton-Ckj2823e.js";import{P as B}from"./PrimaryButton-DULDYb5e.js";import{S as T,U as j}from"./UserStoreSubscriptionCountdown-B-0IEvFp.js";import{c,d as o,f as d,w as u,t as w,g as h,F as E,e as l,r as i,o as t,i as P}from"./app-Kf0mCOXy.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SpiningLoader-CsPmXxst.js";import"./Countdown-DUZ8UJo6.js";import"./MoreInfoPopover-gLIaCQca.js";import"./BasicModal-CDGWEgr6.js";const A={mixins:[L],components:{Alert:G,TextHeader:V,ShineEffect:H,LineSkeleton:C,PrimaryButton:B,StoreQuickStartGuideProgress:T,UserStoreSubscriptionCountdown:j},data(){return{isLoadingStore:!1,storeState:r(),notificationState:Q()}},watch:{"$route.params.store_href"(e,a){this.showStore()},"storeState.shouldUpdate"(e,a){r().shouldUpdate=!1,this.showStore()}},beforeRouteUpdate(e,a){this.showQuickStartGuide()},computed:{store(){return this.storeState.store},quickStartGuide(){return this.storeState.quickStartGuide},activeSubscription(){return this.store._relationships.activeSubscription},completedQuickStartGuide(){return this.storeState.completedQuickStartGuide}},methods:{navigateToStoreHome(){this.$router.push({name:"show-store-home",params:{store_href:this.store._links.showStore}})},showStore(){this.isLoadingStore=!0;let e=["subscriptions"],_={_relationships:["address","storeRollingNumbers","activeSubscription","userStoreAssociation"].join(","),_countable_relationships:e.join(",")};f(this.$route.params.store_href,_).then(n=>{n.status==200&&n.data.exists&&(r().store=n.data.store,this.showQuickStartGuide()),this.isLoadingStore=!1}).catch(n=>{this.isLoadingStore=!1,this.setServerFormErrors(n)})},showQuickStartGuide(){r().isLoadingQuickStartGuide=!0,f(this.store._links.showStoreQuickStartGuide).then(e=>{e.status==200&&(r().quickStartGuide=e.data),r().isLoadingQuickStartGuide=!1}).catch(e=>{r().isLoadingQuickStartGuide=!1,this.setServerFormErrors(e)})}},created(){this.showStore()}},F={class:"px-16 pt-8"},M={key:0,class:"grid grid-cols-2 pb-4 border-b border-dashed"},N={class:"col-span-1"},q={key:3,class:"mt-2"},R={key:0,class:"flex justify-between items-end bg-white shadow-lg rounded-lg border py-4 px-8 mt-4"},z={class:"space-y-3"},D=o("h1",{class:"text-lg font-bold"},"Quick Start Guide",-1),W=o("p",{class:"text-sm text-gray-500"},"Let's continue setting up your store",-1),Z=o("span",{class:"mr-2"},"Continue",-1),I=o("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"})],-1),J={class:"bg-white shadow-lg rounded-lg border border-b-2 p-4 mt-4"},K={class:"col-span-1 flex justify-end items-end"},O=o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"},null,-1),X=[O];function Y(e,a,_,n,m,s){const p=i("LineSkeleton"),S=i("ShineEffect"),k=i("TextHeader"),g=i("StoreQuickStartGuideProgress"),v=i("PrimaryButton"),b=i("UserStoreSubscriptionCountdown"),y=i("router-view");return t(),c("div",F,[s.store?(t(),c("div",M,[o("div",N,[m.isLoadingStore?(t(),d(S,{key:0},{default:u(()=>[l(p,{width:"w-32",height:"h-4"})]),_:1})):(t(),d(k,{key:1},{default:u(()=>[P(w(s.store._attributes.nameWithEmoji),1)]),_:1})),m.isLoadingStore?(t(),d(S,{key:2,class:"mt-4"},{default:u(()=>[l(p,{width:"w-40"})]),_:1})):s.store.description?(t(),c("p",q,w(s.store.description),1)):h("",!0),e.$route.name!="show-store-home"?(t(),c(E,{key:4},[s.completedQuickStartGuide?h("",!0):(t(),c("div",R,[o("div",z,[D,W,m.isLoadingStore?(t(),d(S,{key:0},{default:u(()=>[l(p,{width:"w-32",height:"h-4"})]),_:1})):(t(),d(g,{key:1}))]),o("div",null,[l(v,{action:s.navigateToStoreHome,class:"w-40",size:"xs",type:"success"},{default:u(()=>[Z,I]),_:1},8,["action"])])])),o("div",J,[l(b)])],64)):h("",!0)]),o("div",K,[(t(),c("svg",{onClick:a[0]||(a[0]=(...x)=>s.navigateToStoreHome&&s.navigateToStoreHome(...x)),class:"w-8 h-8 mr-4 cursor-pointer hover:opacity-80 active:opacity-50 active:scale-90",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},X))])])):h("",!0),s.store?(t(),d(y,{key:s.store.id})):h("",!0)])}const mt=U(A,[["render",Y]]);export{mt as default};
