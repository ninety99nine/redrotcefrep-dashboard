import{r as c,o as s,c as r,b as e,d as h,m as g,t as f,n as w,w as x,u as b,a as k,F as n,h as l,k as C,e as L}from"./app-DEkFCb1u.js";import{g as B}from"./api-repository-CIJPUswr.js";import{B as T}from"./Button-CTlUNYLQ.js";import{S as $}from"./StoreLogo-B1ybiOu7.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as j}from"./SpinningLoader-BnJGVf_7.js";import{L as A}from"./Logo-BZxlr7up.js";import"./ShineEffect-CWpUJr6E.js";import"./FormMixin-D44Bj-el.js";import"./form-store-B_ZbhArT.js";import"./store-store-CxinBL3L.js";import"./cloneDeep-BGE7Bmb-.js";const H={components:{Button:T,StoreLogo:$},props:{store:{type:Object}},methods:{navigateToStoreHome(){this.$router.push({name:"show-store-home",params:{store_href:this.store._links.showStore}})}}},z={class:"flex items-end space-x-2 mb-6"},F={class:"w-full"},V={class:"text-gray-700 font-bold w-4/5 truncate"},M={class:"flex items-center space-x-1"},N={class:"text-xs"},O={class:"w-full flex space-x-2 justify-end"},Y=["href"];function E(p,t,o,_,i,a){const d=c("StoreLogo"),u=c("Button");return s(),r("div",{onClick:t[2]||(t[2]=g((...m)=>a.navigateToStoreHome&&a.navigateToStoreHome(...m),["stop"])),class:"bg-white space-y-4 py-4 px-4 shadow-sm rounded-xl border shadow-blue-200 hover:shadow-md hover:border-blue-200 hover:scale-105 transition-all duration-300 cursor-pointer"},[e("div",z,[h(d,{onClick:t[0]||(t[0]=g(()=>{},["stop"])),size:"w-10 h-10",store:o.store,showButton:!1},null,8,["store"]),e("div",F,[e("h1",V,[e("span",null,f(o.store.name),1)]),e("div",M,[e("div",{class:w(["w-2 h-2 rounded-full animate-pulse",o.store.online?"bg-green-500":"bg-orange-500"])},null,2),e("span",N,f(o.store.online?"Online":"Offline"),1)])])]),e("div",O,[e("a",{onClick:t[1]||(t[1]=g(()=>{},["stop"])),href:this.store._attributes.webLink,target:"_blank"},[h(u,{type:"light",size:"xs",icon:"externalLink"},{default:x(()=>t[3]||(t[3]=[e("span",null,"Visit",-1)])),_:1})],8,Y),h(u,{action:a.navigateToStoreHome,type:"primary",size:"xs"},{default:x(()=>t[4]||(t[4]=[e("span",null,"Manage",-1)])),_:1},8,["action"])])])}const D=S(H,[["render",E]]),G={components:{Logo:A},props:{hasStores:{type:Boolean}},methods:{navigateToCreateStore(){this.$router.push({name:"create-store"})}}},U={class:"text-xs"};function W(p,t,o,_,i,a){return s(),r("div",{onClick:t[0]||(t[0]=(...d)=>a.navigateToCreateStore&&a.navigateToCreateStore(...d)),class:"flex flex-col justify-center items-center bg-white space-y-2 py-4 px-4 shadow-sm rounded-xl border shadow-blue-200 hover:shadow-md hover:border-blue-200 hover:scale-105 transition-all duration-300 cursor-pointer"},[t[1]||(t[1]=e("div",{class:"flex justify-center items-center w-10 h-10 bg-gray-100 rounded-full border border-dashed border-gray-300 mb-2"},[e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])],-1)),e("span",U,f(o.hasStores?"Add Store":"Create Your First Store"),1)])}const q=S(G,[["render",W]]),I={components:{StoreCard:D,SpinningLoader:j,AddStoreCard:q},data(){return{stores:[],pagination:null,isLoadingStores:!1,apiState:b(),authState:k()}},computed:{authUser(){return this.authState.user},hasStores(){return this.stores.length>0}},methods:{showStores(){this.isLoadingStores=!0;let t={association:"team member",_relationships:["logo","activeSubscription"].join(",")};B(this.apiState.apiHome._links.showStores,t).then(o=>{o.status==200&&(this.pagination=o.data,this.stores=this.pagination.data,this.stores.length==0&&this.navigateToCreateStore()),this.isLoadingStores=!1}).catch(o=>{this.isLoadingStores=!1,this.formState.setServerFormErrors(o)})},navigateToCreateStore(){this.$router.push({name:"create-store"})}},created(){this.showStores()}},J={class:"pt-24 px-20 min-h-screen"},K={class:"flex flex-col items-center my-16"},P={class:"space-x-2 text-xl text-gray-700 font-semibold mb-2"},Q={class:"text-sm text-gray-500"},R={key:0,class:"flex justify-center"},X={key:1,class:"flex justify-center"},Z={class:"w-full max-w-5xl flex flex-wrap justify-center gap-4"};function ee(p,t,o,_,i,a){const d=c("SpinningLoader"),u=c("StoreCard"),m=c("AddStoreCard");return s(),r("div",J,[e("div",K,[e("h1",P,[i.isLoadingStores?(s(),r(n,{key:0},[l("Searching Your Stores")],64)):a.hasStores?(s(),r(n,{key:1},[l("Letâ€™s Get Selling!")],64)):(s(),r(n,{key:2},[l("Start Selling Today!")],64))]),e("p",Q,[i.isLoadingStores?(s(),r(n,{key:0},[l("Hang tight! We're getting everything ready for you.")],64)):a.hasStores?(s(),r(n,{key:1},[l("Select a store to start managing your business.")],64)):(s(),r(n,{key:2},[l("You havenâ€™t created a store yetâ€”letâ€™s get your first one up and running! ðŸš€")],64))])]),i.isLoadingStores?(s(),r("div",R,[h(d)])):(s(),r("div",X,[e("div",Z,[(s(!0),r(n,null,C(i.stores,(y,v)=>(s(),L(u,{class:"w-80",key:v,store:y},null,8,["store"]))),128)),h(m,{hasStores:a.hasStores,class:"w-80"},null,8,["hasStores"])])]))])}const pe=S(I,[["render",ee]]);export{pe as default};
